const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/manifest.service-B4hL4qbh.js","assets/api.config-D25WIGfW.js","assets/vendor-bootstrap-CDKGkX3Y.js","assets/vendor-react-CSr-5IoM.js","assets/vendor-redux-DhM9Zidd.js","assets/vendor-router-D9z9DFGH.js","assets/vendor-query-BOtKDBw2.js","assets/vendor-ui-rAPUFMbG.js","assets/ManifestService-LcWlQrOy.js","assets/HomePage-DvEp68pz.js","assets/SEOHead-CqzIingY.js","assets/MovieCardSkeleton-CA0lxj7o.js","assets/ProductDetailPageWrapper-C9Pd6Y0J.js","assets/metaTags-Cul_KyBP.js","assets/ProductsPage-0vOdRY1t.js","assets/ProductCard-DVywuXPz.js","assets/MoviesPage-BLrDh-gU.js","assets/MoviesPage-2CW7IHT3.css","assets/WatchPage-DoVv_6m-.js","assets/CategoryPage-Dpz8auPR.js","assets/CartPage-DKeaqZ2t.js","assets/CheckoutPage-LKEChL3s.js","assets/OrderModelUtils-C4o_Exg9.js","assets/DeliveryAddressPage-jO1UxLs-.js","assets/OrderSuccessPage-DSWWavry.js","assets/PaymentPage-BmEt0kv1.js","assets/PaymentStatus-jb-WALPi.js","assets/PaymentPage-DSC0D0a4.css","assets/PaymentCallbackPage-BZ8ee5m_.js","assets/SearchResultsPage-CFHPIcqr.js","assets/AboutPage-CdOb2LxE.js","assets/ContactPage-Bvd52hL2.js","assets/FAQPage-t55iAV-V.js","assets/TermsPage-BlJC9kX7.js","assets/PrivacyPage-BwNjAw25.js","assets/SellOnUgFlix-BrWQv3VA.js","assets/StaticPageLayout-E8ioxOXy.js","assets/BuyerProtection-DMA3KLIH.js","assets/Help-D0UNLW0Y.js","assets/mail-Dq21e1Wf.js","assets/Help-6PBwuUrz.css","assets/MobileApps-CInKgHaL.js","assets/MobileApps-DMt0zvpG.css","assets/About-DUH90jr9.js","assets/Terms-Ce91Hvwr.js","assets/Privacy-CFuARAfO.js","assets/Contact-CgyzO-_x.js","assets/ToastDemo-B3bGFxx-.js","assets/ApiTestPage-c2c48H14.js","assets/CartService-D3j9rMi2.js","assets/ApiIntegrationStatusPage-BcltfP-w.js","assets/LoginPage-D6NsXUqS.js","assets/MovieBackground-nKDK0AUZ.js","assets/RegisterPage-_FMjYOkf.js","assets/MinimalLogin-C2TY5HYY.js","assets/MinimalRegister-C5xd2fF1.js","assets/ForgotPassword-DHSipVii.js","assets/ForgotPasswordPage-DszSJZix.js","assets/LandingPage-DUTAI1Z1.js","assets/SubscriptionPlans-Dmdne4Yx.js","assets/SubscriptionPlans-NDd31Mu6.css","assets/PendingSubscription-CIKfznYv.js","assets/PendingSubscription-CmeJjanL.css","assets/PaymentResult-BJmdqyrk.js","assets/PaymentResult-BHgSXTJ-.css","assets/SubscriptionHistory-DXAHiEaT.js","assets/SubscriptionHistory-BF4KLeLh.css","assets/MySubscriptions-DN7RLoud.js","assets/MySubscriptions-DQ_hazBz.css","assets/NotFoundPage-knQFYFoU.js"])))=>i.map(i=>d[i]);
var e,t,n,r,i=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),u=Math.pow,h=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&h(e,n,t[n]);if(o)for(var n of o(t))c.call(t,n)&&h(e,n,t[n]);return e},m=(e,t)=>s(e,a(t)),f=(e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n},g=(e,t,n)=>h(e,"symbol"!=typeof t?t+"":t,n),y=(e,t,n)=>new Promise(((r,i)=>{var s=e=>{try{o(n.next(e))}catch(t){i(t)}},a=e=>{try{o(n.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,a);o((n=n.apply(e,t)).next())})),v=function(e,t){this[0]=e,this[1]=t},x=(e,t,n)=>{var r=(e,t,i,s)=>{try{var a=n[e](t),o=(t=a.value)instanceof v,l=a.done;Promise.resolve(o?t[0]:t).then((n=>o?r("return"===e?e:"next",t[1]?{done:n.done,value:n.value}:n,i,s):i({value:n,done:l}))).catch((e=>r("throw",e,i,s)))}catch(c){s(c)}},i=e=>s[e]=t=>new Promise(((n,i)=>r(e,t,n,i))),s={};return n=n.apply(e,t),s[d("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s},b=e=>{var t,n=e[d("asyncIterator")],r=!1,i={};return null==n?(n=e[d("iterator")](),t=e=>i[e]=t=>n[e](t)):(n=n.call(e),t=e=>i[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new v(new Promise((r=>{var i=n[e](t);i instanceof Object||(e=>{throw TypeError(e)})("Object expected"),r(i)})),1)}}),i[d("iterator")]=()=>i,t("next"),"throw"in n?t("throw"):i.throw=e=>{throw e},"return"in n&&t("return"),i};import{i as j,j as w,F as _,S as k,P as S,B as N,A as T,R as P,C,a as E,b as O,c as A,d as I}from"./vendor-bootstrap-CDKGkX3Y.js";import{c as z,g as R,R as L,r as M}from"./vendor-react-CSr-5IoM.js";import{c as D,u as F,a as B,b as V,i as U,w as q,n as $,f as W,d as H,e as Q,p as K,S as J,g as X,h as Y,j as G,k as Z,l as ee,m as te,o as ne,q as re,r as ie,s as se,t as ae,v as oe,x as le,y as ce,z as de,A as ue,B as he,C as pe,D as me,E as fe,P as ge}from"./vendor-redux-DhM9Zidd.js";import{L as ye,u as ve,a as xe,O as be,N as je,b as we,c as _e,R as ke,d as Se,B as Ne}from"./vendor-router-D9z9DFGH.js";import{Q as Te,a as Pe}from"./vendor-query-BOtKDBw2.js";import{S as Ce,a as Ee,E as Oe,b as Ae,B as Ie,c as ze,C as Re,d as Le,H as Me,X as De,e as Fe,D as Be}from"./vendor-ui-rAPUFMbG.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ve=z;r=Ve.createRoot,Ve.hydrateRoot;const Ue={},qe=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in Ue)return;Ue[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))};var $e="undefined"!=typeof Element,We="function"==typeof Map,He="function"==typeof Set,Qe="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Ke(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,s;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Ke(e[r],t[r]))return!1;return!0}if(We&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Ke(r.value[1],t.get(r.value[0])))return!1;return!0}if(He&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Qe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if($e&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==i[r]&&"__v"!==i[r]&&"__o"!==i[r]||!e.$$typeof)&&!Ke(e[i[r]],t[i[r]]))return!1;return!0}return e!=e&&t!=t}const Je=R((function(e,t){try{return Ke(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return!1;throw n}}));const Xe=R((function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(i=n?n.call(r,d,u,c):void 0)||void 0===i&&d!==u)return!1}return!0}));var Ye=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Ye||{}),Ge={rel:["amphtml","canonical","alternate"]},Ze={type:["application/ld+json"]},et={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},tt=Object.values(Ye),nt={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rt=Object.entries(nt).reduce(((e,[t,n])=>(e[n]=t,e)),{}),it="data-rh",st="defaultTitle",at="defer",ot="encodeSpecialCharacters",lt="onChangeClientState",ct="titleTemplate",dt="prioritizeSeoTags",ut=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},ht=e=>{let t=ut(e,"title");const n=ut(e,ct);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=ut(e,st);return t||r||void 0},pt=e=>ut(e,lt)||(()=>{}),mt=(e,t)=>t.filter((t=>void 0!==t[e])).map((t=>t[e])).reduce(((e,t)=>p(p({},e),t)),{}),ft=(e,t)=>t.filter((e=>void 0!==e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let i=0;i<r.length;i+=1){const s=r[i].toLowerCase();if(-1!==e.indexOf(s)&&n[s])return t.concat(n)}}return t}),[]),gt=(e,t,n)=>{const r={};return n.filter((t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1))).map((t=>t[e])).reverse().reduce(((e,n)=>{const i={};n.filter((e=>{let n;const s=Object.keys(e);for(let r=0;r<s.length;r+=1){const i=s[r],a=i.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(i)||"innerHTML"!==i&&"cssText"!==i&&"itemprop"!==i||(n=i)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][a]&&(i[n][a]=!0,!0)})).reverse().forEach((t=>e.push(t)));const s=Object.keys(i);for(let t=0;t<s.length;t+=1){const e=s[t],n=p(p({},r[e]),i[e]);r[e]=n}return e}),[]).reverse()},yt=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},vt=e=>Array.isArray(e)?e.join(""):e,xt=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},bt=(e,t)=>m(p({},e),{[t]:void 0}),jt=["noscript","script","style"],wt=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),_t=e=>Object.keys(e).reduce(((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),kt=(e,t={})=>Object.keys(e).reduce(((t,n)=>(t[nt[n]||n]=e[n],t)),t),St=(e,t)=>t.map(((t,n)=>{const r={key:n,[it]:!0};return Object.keys(t).forEach((e=>{const n=nt[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]})),L.createElement(e,r)})),Nt=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=kt(n,{key:t,[it]:!0});return[L.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const i=_t(n),s=vt(t);return i?`<${e} ${it}="true" ${i}>${wt(s,r)}</${e}>`:`<${e} ${it}="true">${wt(s,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>kt(t),toString:()=>_t(t)};default:return{toComponent:()=>St(e,t),toString:()=>((e,t,n=!0)=>t.reduce(((t,r)=>{const i=r,s=Object.keys(i).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r=void 0===i[t]?t:`${t}="${wt(i[t],n)}"`;return e?`${e} ${r}`:r}),""),a=i.innerHTML||i.cssText||"",o=-1===jt.indexOf(e);return`${t}<${e} ${it}="true" ${s}${o?"/>":`>${a}</${e}>`}`}),""))(e,t,n)}}},Tt=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=xt(e,et),s=xt(t,Ge),a=xt(n,Ze);return{priorityMethods:{toComponent:()=>[...St("meta",i.priority),...St("link",s.priority),...St("script",a.priority)],toString:()=>`${Nt("meta",i.priority,r)} ${Nt("link",s.priority,r)} ${Nt("script",a.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}})(e)),{priority:p,base:Nt("base",t,r),bodyAttributes:Nt("bodyAttributes",n,r),htmlAttributes:Nt("htmlAttributes",i,r),link:Nt("link",d,r),meta:Nt("meta",u,r),noscript:Nt("noscript",s,r),script:Nt("script",h,r),style:Nt("style",a,r),title:Nt("title",{title:o,titleAttributes:l},r)}},Pt=[],Ct=!("undefined"==typeof window||!window.document||!window.document.createElement),Et=class{constructor(e,t){g(this,"instances",[]),g(this,"canUseDOM",Ct),g(this,"context"),g(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Pt:this.instances,add:e=>{(this.canUseDOM?Pt:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Pt:this.instances).indexOf(e);(this.canUseDOM?Pt:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Tt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Ot=L.createContext({}),At=(e=class extends M.Component{constructor(t){super(t),g(this,"helmetData"),this.helmetData=new Et(this.props.context||{},e.canUseDOM)}render(){return L.createElement(Ot.Provider,{value:this.helmetData.value},this.props.children)}},g(e,"canUseDOM",Ct),e),It=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${it}]`),i=[].slice.call(r),s=[];let a;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,i=void 0===t[r]?"":t[r];n.setAttribute(e,i)}n.setAttribute(it,"true"),i.some(((e,t)=>(a=t,n.isEqualNode(e))))?i.splice(a,1):s.push(n)})),i.forEach((e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),s.forEach((e=>n.appendChild(e))),{oldTags:i,newTags:s}},zt=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(it),i=r?r.split(","):[],s=[...i],a=Object.keys(t);for(const o of a){const e=t[o]||"";n.getAttribute(o)!==e&&n.setAttribute(o,e),-1===i.indexOf(o)&&i.push(o);const r=s.indexOf(o);-1!==r&&s.splice(r,1)}for(let o=s.length-1;o>=0;o-=1)n.removeAttribute(s[o]);i.length===s.length?n.removeAttribute(it):n.getAttribute(it)!==a.join(",")&&n.setAttribute(it,a.join(","))},Rt=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;zt("body",r),zt("html",i),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=vt(e)),zt("title",t)})(u,h);const p={baseTag:It("base",n),linkTags:It("link",s),metaTags:It("meta",a),noscriptTags:It("noscript",o),scriptTags:It("script",c),styleTags:It("style",d)},m={},f={};Object.keys(p).forEach((e=>{const{newTags:t,oldTags:n}=p[e];t.length&&(m[e]=t),n.length&&(f[e]=p[e].oldTags)})),t&&t(),l(e,m,f)},Lt=null,Mt=e=>{Lt&&cancelAnimationFrame(Lt),e.defer?Lt=requestAnimationFrame((()=>{Rt(e,(()=>{Lt=null}))})):(Rt(e),Lt=null)},Dt=class extends M.Component{constructor(){super(...arguments),g(this,"rendered",!1)}shouldComponentUpdate(e){return!Xe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(i=e.get().map((e=>{const t=p({},e.props);return delete t.context,t})),{baseTag:ft(["href"],i),bodyAttributes:mt("bodyAttributes",i),defer:ut(i,at),encode:ut(i,ot),htmlAttributes:mt("htmlAttributes",i),linkTags:gt("link",["rel","href"],i),metaTags:gt("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:gt("noscript",["innerHTML"],i),onChangeClientState:pt(i),scriptTags:gt("script",["src","innerHTML"],i),styleTags:gt("style",["cssText"],i),title:ht(i),titleAttributes:mt("titleAttributes",i),prioritizeSeoTags:yt(i,dt)});var i;At.canUseDOM?Mt(r):Tt&&(n=Tt(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ft=(t=class extends M.Component{shouldComponentUpdate(e){return!Je(bt(this.props,"helmetData"),bt(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return m(p({},t),{[e.type]:[...t[e.type]||[],p(p({},n),this.mapNestedChildrenToProps(e,r))]})}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return m(p({},t),{[e.type]:r,titleAttributes:p({},n)});case"body":return m(p({},t),{bodyAttributes:p({},n)});case"html":return m(p({},t),{htmlAttributes:p({},n)});default:return m(p({},t),{[e.type]:p({},n)})}}mapArrayTypeChildrenToProps(e,t){let n=p({},t);return Object.keys(e).forEach((t=>{n=m(p({},n),{[t]:e[t]})})),n}warnOnInvalidChildren(e,t){return j(tt.some((t=>e.type===t)),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${tt.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),j(!t||"string"==typeof t||Array.isArray(t)&&!t.some((e=>"string"!=typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return L.Children.forEach(e,(e=>{if(!e||!e.props)return;const r=e.props,{children:i}=r,s=f(r,["children"]),a=Object.keys(s).reduce(((e,t)=>(e[rt[t]||t]=s[t],e)),{});let{type:o}=e;switch("symbol"==typeof o?o=o.toString():this.warnOnInvalidChildren(e,i),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,a,i);break;default:t=this.mapObjectTypeChildren(e,t,a,i)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const e=this.props,{children:t}=e,n=f(e,["children"]);let r=p({},n),{helmetData:i}=n;if(t&&(r=this.mapChildrenToProps(t,r)),i&&!(i instanceof Et)){i=new Et(i.context,!0),delete r.helmetData}return i?L.createElement(Dt,m(p({},r),{context:i.value})):L.createElement(Ot.Consumer,null,(e=>L.createElement(Dt,m(p({},r),{context:e}))))}},g(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);function Bt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Bt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Bt(e))&&(r&&(r+=" "),r+=t);return r}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Ut=e=>"number"==typeof e&&!isNaN(e),qt=e=>"string"==typeof e,$t=e=>"function"==typeof e,Wt=e=>qt(e)||$t(e)?e:null,Ht=(e,t)=>!1===e||Ut(e)&&e>0?e:t,Qt=e=>M.isValidElement(e)||qt(e)||$t(e)||Ut(e);function Kt(e,t){return{content:Jt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Jt(e,t,n=!1){return M.isValidElement(e)&&!qt(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):$t(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Xt({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:d}){let u=i||a&&0===o,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(h.transform=`scaleX(${o})`);let m=Vt("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),f=$t(s)?s({rtl:l,type:r,defaultClassName:m}):Vt(m,s),g={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&n()}};return L.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":u},L.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),L.createElement("div",p({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:f,style:h},g)))}var Yt=1,Gt=()=>""+Yt++;function Zt(e,t,n){let r=1,i=0,s=[],a=[],o=t,l=new Map,c=new Set,d=()=>{a=Array.from(l.values()),c.forEach((e=>e()))},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},f=e=>{var t,r;let{toastId:i,updateId:s}=e.props,a=null==s;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),d(),n(Kt(e,a?"added":"updated")),a&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:h,toasts:l,clearQueue:()=>{i-=s.length,s=[]},buildToast:(t,a)=>{if((({containerId:t,toastId:n,updateId:r})=>{let i=t?t!==e:1!==e,s=l.has(n)&&null==r;return i||s})(a))return;let{toastId:c,updateId:u,data:g,staleId:y,delay:v}=a,x=null==u;x&&i++;let b=m(p(m(p({},o),{style:o.toastStyle,key:r++}),Object.fromEntries(Object.entries(a).filter((([e,t])=>null!=t)))),{toastId:c,updateId:u,data:g,isIn:!1,className:Wt(a.className||o.toastClassName),progressClassName:Wt(a.progressClassName||o.progressClassName),autoClose:!a.isLoading&&Ht(a.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(Kt(e,"removed")),l.delete(c),i--,i<0&&(i=0),s.length>0)return void f(s.shift());d()}}});b.closeButton=o.closeButton,!1===a.closeButton||Qt(a.closeButton)?b.closeButton=a.closeButton:!0===a.closeButton&&(b.closeButton=!Qt(o.closeButton)||o.closeButton);let j={content:t,props:b,staleId:y};o.limit&&o.limit>0&&i>o.limit&&x?s.push(j):Ut(v)?setTimeout((()=>{f(j)}),v):f(j)},setProps(e){o=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var en=new Map,tn=[],nn=new Set,rn=e=>nn.forEach((t=>t(e))),sn=()=>en.size>0;function an(e,t){var n;if(t)return!(null==(n=en.get(t))||!n.isToastActive(e));let r=!1;return en.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function on(e){if(sn()){if(null==e||(e=>qt(e)||Ut(e))(e))en.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=en.get(e.containerId);t?t.removeToast(e.id):en.forEach((t=>{t.removeToast(e.id)}))}}else tn=tn.filter((t=>null!=e&&t.options.toastId!==e))}function ln(e,t){Qt(e)&&(sn()||tn.push({content:e,options:t}),en.forEach((n=>{n.buildToast(e,t)})))}function cn(e,t){en.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function dn(e){let t=e.containerId||1;return{subscribe(n){let r=Zt(t,e,rn);en.set(t,r);let i=r.observe(n);return tn.forEach((e=>ln(e.content,e.options))),tn=[],()=>{i(),en.delete(t)}},setProps(e){var n;null==(n=en.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=en.get(t))?void 0:e.getSnapshot()}}}function un(e){return e&&(qt(e.toastId)||Ut(e.toastId))?e.toastId:Gt()}function hn(e,t){return ln(e,t),t.toastId}function pn(e,t){return m(p({},t),{type:t&&t.type||e,toastId:un(t)})}function mn(e){return(t,n)=>hn(t,pn(e,n))}function fn(e,t){return hn(e,pn("default",t))}function gn(e){let[t,n]=M.useState(!1),[r,i]=M.useState(!1),s=M.useRef(null),a=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:u}=e;function h(){n(!0)}function p(){n(!1)}function m(n){let r=s.current;if(a.canDrag&&r){a.didMove=!0,t&&p(),"x"===e.draggableDirection?a.delta=n.clientX-a.start:a.delta=n.clientY-a.start,a.start!==n.clientX&&(a.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;r.style.transform=`translate3d(${i},0)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance))}}function f(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",f);let t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=en.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",h),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",p)}}),[e.pauseOnFocusLoss]);let g={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",f);let n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:a}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?p():h()}};return o&&l&&(g.onMouseEnter=p,e.stacked||(g.onMouseLeave=h)),u&&(g.onClick=e=>{d&&d(e),a.canCloseOnClick&&c(!0)}),{playToast:h,pauseToast:p,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:g}}fn.loading=(e,t)=>hn(e,pn("default",p({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),fn.promise=function(e,{pending:t,error:n,success:r},i){let s;t&&(s=qt(t)?fn.loading(t,i):fn.loading(t.render,p(p({},i),t)));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,n)=>{if(null==t)return void fn.dismiss(s);let r=m(p(p({type:e},a),i),{data:n}),o=qt(t)?{render:t}:t;return s?fn.update(s,p(p({},r),o)):fn(o.render,p(p({},r),o)),n},l=$t(e)?e():e;return l.then((e=>o("success",r,e))).catch((e=>o("error",n,e))),l},fn.success=mn("success"),fn.info=mn("info"),fn.error=mn("error"),fn.warning=mn("warning"),fn.warn=fn.warning,fn.dark=(e,t)=>hn(e,pn("default",p({theme:"dark"},t))),fn.dismiss=function(e){on(e)},fn.clearWaitingQueue=(e={})=>{en.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},fn.isActive=an,fn.update=(e,t={})=>{let n=((e,{containerId:t})=>{var n;return null==(n=en.get(t||1))?void 0:n.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,s=m(p(p({delay:100},r),t),{toastId:t.toastId||e,updateId:Gt()});s.toastId!==e&&(s.staleId=e);let a=s.render||i;delete s.render,hn(a,s)}},fn.done=e=>{fn.update(e,{progress:1})},fn.onChange=function(e){return nn.add(e),()=>{nn.delete(e)}},fn.play=e=>cn(!0,e),fn.pause=e=>cn(!1,e);var yn="undefined"!=typeof window?M.useLayoutEffect:M.useEffect,vn=e=>{var t=e,{theme:n,type:r,isLoading:i}=t,s=f(t,["theme","type","isLoading"]);return L.createElement("svg",p({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${r})`},s))};var xn={info:function(e){return L.createElement(vn,p({},e),L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return L.createElement(vn,p({},e),L.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return L.createElement(vn,p({},e),L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return L.createElement(vn,p({},e),L.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return L.createElement("div",{className:"Toastify__spinner"})}};function bn({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return!1===r||($t(r)?i=r(m(p({},s),{isLoading:n})):M.isValidElement(r)?i=M.cloneElement(r,s):n?i=xn.spinner():(e=>e in xn)(t)&&(i=xn[t](s))),i}var jn=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=gn(e),{closeButton:a,children:o,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:h,transition:f,position:g,className:y,style:v,progressClassName:x,updateId:b,role:j,progress:w,rtl:_,toastId:k,deleteToast:S,isIn:N,isLoading:T,closeOnClick:P,theme:C,ariaLabel:E}=e,O=Vt("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":P}),A=$t(y)?y({rtl:_,position:g,type:d,defaultClassName:O}):Vt(O,y),I=bn(e),z=!!w||!l,R={closeToast:h,type:d,theme:C},D=null;return!1===a||(D=$t(a)?a(R):M.isValidElement(a)?M.cloneElement(a,R):function({closeToast:e,theme:t,ariaLabel:n="close"}){return L.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":n},L.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},L.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(R)),L.createElement(f,{isIn:N,done:S,position:g,preventExitTransition:n,nodeRef:r,playToast:s},L.createElement("div",p(m(p({id:k,tabIndex:0,onClick:c,"data-in":N,className:A},i),{style:v,ref:r}),N&&{role:j,"aria-label":E}),null!=I&&L.createElement("div",{className:Vt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},I),Jt(o,e,!t),D,!e.customProgressBar&&L.createElement(Xt,m(p({},b&&!z?{key:`p-${b}`}:{}),{rtl:_,theme:C,delay:l,isRunning:t,isIn:N,closeToast:h,hide:u,type:d,className:x,controlledProgress:z,progress:w||0}))))},wn={position:"top-right",transition:function({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:d,playToast:u}){let h=n?`${e}--${a}`:e,p=n?`${t}--${a}`:t,m=M.useRef(0);return M.useLayoutEffect((()=>{let e=c.current,t=h.split(" "),n=r=>{r.target===c.current&&(u(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),M.useEffect((()=>{let e=c.current,t=()=>{e.removeEventListener("animationend",t),r?function(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,i):l()};d||(o?t():(m.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[d]),L.createElement(L.Fragment,null,s)}}(((e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}))("bounce",!0)),autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function _n(e){let t=p(p({},wn),e),n=e.stacked,[r,i]=M.useState(!0),s=M.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(dn(e)).current;i(e);let s=null==(t=M.useSyncExternalStore(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:an,count:null==s?void 0:s.length}}(t),{className:c,style:d,rtl:u,containerId:h,hotKeys:f}=t;function g(e){let t=Vt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":u});return $t(c)?c({position:e,rtl:u,defaultClassName:t}):Vt(t,Wt(c))}function y(){n&&(i(!0),fn.play())}return yn((()=>{var e;if(n){let n=s.current.querySelectorAll('[data-in="true"]'),i=12,a=null==(e=t.position)?void 0:e.includes("top"),o=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let s=o*(r?.2:1)+(r?0:i*t);n.style.setProperty("--y",`${a?s:-1*s}px`),n.style.setProperty("--g",`${i}`),n.style.setProperty("--s",""+(1-(r?l:0))),o+=n.offsetHeight,l+=.025}))}}),[r,l,n]),M.useEffect((()=>{function e(e){var t;let n=s.current;f(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),fn.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(i(!0),fn.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[f]),L.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),fn.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a(((e,t)=>{let r=t.length?p({},d):m(p({},d),{pointerEvents:"none"});return L.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":n,style:r,key:`c-${e}`},t.map((({content:e,props:t})=>L.createElement(jn,m(p({},t),{stacked:n,collapseAll:y,isIn:o(t.toastId,t.containerId),key:`t-${t.key}`}),e))))})))}const kn=()=>w.jsx("div",{className:"top-utility-bar-wrapper d-none d-lg-block",children:w.jsxs("div",{className:"container-fluid d-flex justify-content-end align-items-center py-1",style:{paddingLeft:"60px",paddingRight:"60px"},children:[w.jsx(ye,{to:"/account/products/new",className:"utility-link",children:"Post Product"}),w.jsx(ye,{to:"/account/watchlist",className:"utility-link",children:"My Watch List"}),w.jsx(ye,{to:"/account/history",className:"utility-link",children:"Watch History"}),w.jsx(ye,{to:"/help",className:"utility-link",children:"Help And Support"}),w.jsx("a",{href:"/account/subscriptions",className:"utility-link",onClick:e=>{e.preventDefault(),window.location.href="/account/subscriptions"},children:"My Subscription"}),w.jsxs(ye,{to:"/mobile-apps",className:"utility-link",children:[w.jsx("i",{className:"bi bi-phone me-1"}),"Mobile Apps"]})]})});function Sn(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nn}=Object.prototype,{getPrototypeOf:Tn}=Object,Pn=(e=>t=>{const n=Nn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cn=e=>(e=e.toLowerCase(),t=>Pn(t)===e),En=e=>t=>typeof t===e,{isArray:On}=Array,An=En("undefined");const In=Cn("ArrayBuffer");const zn=En("string"),Rn=En("function"),Ln=En("number"),Mn=e=>null!==e&&"object"==typeof e,Dn=e=>{if("object"!==Pn(e))return!1;const t=Tn(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Fn=Cn("Date"),Bn=Cn("File"),Vn=Cn("Blob"),Un=Cn("FileList"),qn=Cn("URLSearchParams"),[$n,Wn,Hn,Qn]=["ReadableStream","Request","Response","Headers"].map(Cn);function Kn(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),On(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function Jn(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Xn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Yn=e=>!An(e)&&e!==Xn;const Gn=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&Tn(Uint8Array)),Zn=Cn("HTMLFormElement"),er=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),tr=Cn("RegExp"),nr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kn(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},rr="abcdefghijklmnopqrstuvwxyz",ir="0123456789",sr={DIGIT:ir,ALPHA:rr,ALPHA_DIGIT:rr+rr.toUpperCase()+ir};const ar=Cn("AsyncFunction"),or=(lr="function"==typeof setImmediate,cr=Rn(Xn.postMessage),lr?setImmediate:cr?(dr=`axios@${Math.random()}`,ur=[],Xn.addEventListener("message",(({source:e,data:t})=>{e===Xn&&t===dr&&ur.length&&ur.shift()()}),!1),e=>{ur.push(e),Xn.postMessage(dr,"*")}):e=>setTimeout(e));var lr,cr,dr,ur;const hr="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Xn):"undefined"!=typeof process&&process.nextTick||or,pr={isArray:On,isArrayBuffer:In,isBuffer:function(e){return null!==e&&!An(e)&&null!==e.constructor&&!An(e.constructor)&&Rn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Rn(e.append)&&("formdata"===(t=Pn(e))||"object"===t&&Rn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&In(e.buffer),t},isString:zn,isNumber:Ln,isBoolean:e=>!0===e||!1===e,isObject:Mn,isPlainObject:Dn,isReadableStream:$n,isRequest:Wn,isResponse:Hn,isHeaders:Qn,isUndefined:An,isDate:Fn,isFile:Bn,isBlob:Vn,isRegExp:tr,isFunction:Rn,isStream:e=>Mn(e)&&Rn(e.pipe),isURLSearchParams:qn,isTypedArray:Gn,isFileList:Un,forEach:Kn,merge:function e(){const{caseless:t}=Yn(this)&&this||{},n={},r=(r,i)=>{const s=t&&Jn(n,i)||i;Dn(n[s])&&Dn(r)?n[s]=e(n[s],r):Dn(r)?n[s]=e({},r):On(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Kn(arguments[i],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Kn(t,((t,r)=>{n&&Rn(t)?e[r]=Sn(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Tn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Pn,kindOfTest:Cn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(On(e))return e;let t=e.length;if(!Ln(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Zn,hasOwnProperty:er,hasOwnProp:er,reduceDescriptors:nr,freezeMethods:e=>{nr(e,((t,n)=>{if(Rn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Rn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return On(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Jn,global:Xn,isContextDefined:Yn,ALPHABET:sr,generateString:(e=16,t=sr.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Rn(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Mn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=On(e)?[]:{};return Kn(e,((e,t)=>{const s=n(e,r+1);!An(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:ar,isThenable:e=>e&&(Mn(e)||Rn(e))&&Rn(e.then)&&Rn(e.catch),setImmediate:or,asap:hr};function mr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pr.inherits(mr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pr.toJSONObject(this.config),code:this.code,status:this.status}}});const fr=mr.prototype,gr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{gr[e]={value:e}})),Object.defineProperties(mr,gr),Object.defineProperty(fr,"isAxiosError",{value:!0}),mr.from=(e,t,n,r,i,s)=>{const a=Object.create(fr);return pr.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),mr.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};function yr(e){return pr.isPlainObject(e)||pr.isArray(e)}function vr(e){return pr.endsWith(e,"[]")?e.slice(0,-2):e}function xr(e,t,n){return e?e.concat(t).map((function(e,t){return e=vr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const br=pr.toFlatObject(pr,{},null,(function(e){return/^is[A-Z]/.test(e)}));function jr(e,t,n){if(!pr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=pr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!pr.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&pr.isSpecCompliantForm(t);if(!pr.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(pr.isDate(e))return e.toISOString();if(!o&&pr.isBlob(e))throw new mr("Blob is not supported. Use a Buffer instead.");return pr.isArrayBuffer(e)||pr.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(pr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pr.isArray(e)&&function(e){return pr.isArray(e)&&!e.some(yr)}(e)||(pr.isFileList(e)||pr.endsWith(n,"[]"))&&(o=pr.toArray(e)))return n=vr(n),o.forEach((function(e,r){!pr.isUndefined(e)&&null!==e&&t.append(!0===a?xr([n],r,s):null===a?n:n+"[]",l(e))})),!1;return!!yr(e)||(t.append(xr(i,n,s),l(e)),!1)}const d=[],u=Object.assign(br,{defaultVisitor:c,convertValue:l,isVisitable:yr});if(!pr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pr.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),pr.forEach(n,(function(n,s){!0===(!(pr.isUndefined(n)||null===n)&&i.call(t,n,pr.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])})),d.pop()}}(e),t}function wr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function _r(e,t){this._pairs=[],e&&jr(e,this,t)}const kr=_r.prototype;function Sr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nr(e,t,n){if(!t)return e;const r=n&&n.encode||Sr;pr.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):pr.isURLSearchParams(t)?t.toString():new _r(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}kr.append=function(e,t){this._pairs.push([e,t])},kr.toString=function(e){const t=e?function(t){return e.call(this,t,wr)}:wr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class Tr{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const Pr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cr={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:_r,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Er="undefined"!=typeof window&&"undefined"!=typeof document,Or="object"==typeof navigator&&navigator||void 0,Ar=Er&&(!Or||["ReactNative","NativeScript","NS"].indexOf(Or.product)<0),Ir="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,zr=Er&&window.location.href||"http://localhost",Rr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Er,hasStandardBrowserEnv:Ar,hasStandardBrowserWebWorkerEnv:Ir,navigator:Or,origin:zr},Symbol.toStringTag,{value:"Module"})),Lr=p(p({},Rr),Cr);function Mr(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&pr.isArray(r)?r.length:s,o)return pr.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&pr.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&pr.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(pr.isFormData(e)&&pr.isFunction(e.entries)){const n={};return pr.forEachEntry(e,((e,r)=>{t(function(e){return pr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const Dr={transitional:Pr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=pr.isObject(e);i&&pr.isHTMLForm(e)&&(e=new FormData(e));if(pr.isFormData(e))return r?JSON.stringify(Mr(e)):e;if(pr.isArrayBuffer(e)||pr.isBuffer(e)||pr.isStream(e)||pr.isFile(e)||pr.isBlob(e)||pr.isReadableStream(e))return e;if(pr.isArrayBufferView(e))return e.buffer;if(pr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jr(e,new Lr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Lr.isNode&&pr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=pr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jr(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t){if(pr.isString(e))try{return(t||JSON.parse)(e),pr.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Dr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(pr.isResponse(e)||pr.isReadableStream(e))return e;if(e&&pr.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw mr.from(i,mr.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pr.forEach(["delete","get","head","post","put","patch"],(e=>{Dr.headers[e]={}}));const Fr=pr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Br=Symbol("internals");function Vr(e){return e&&String(e).trim().toLowerCase()}function Ur(e){return!1===e||null==e?e:pr.isArray(e)?e.map(Ur):String(e)}function qr(e,t,n,r,i){return pr.isFunction(r)?r.call(this,t,n):(i&&(t=n),pr.isString(t)?pr.isString(r)?-1!==t.indexOf(r):pr.isRegExp(r)?r.test(t):void 0:void 0)}class $r{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Vr(t);if(!i)throw new Error("header name must be a non-empty string");const s=pr.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Ur(e))}const s=(e,t)=>pr.forEach(e,((e,n)=>i(e,n,t)));if(pr.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(pr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Fr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(pr.isHeaders(e))for(const[a,o]of e.entries())i(o,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=Vr(e)){const n=pr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(pr.isFunction(t))return t.call(this,e,n);if(pr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vr(e)){const n=pr.findKey(this,e);return!(!n||void 0===this[n]||t&&!qr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Vr(e)){const i=pr.findKey(n,e);!i||t&&!qr(0,n[i],i,t)||(delete n[i],r=!0)}}return pr.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!qr(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return pr.forEach(this,((r,i)=>{const s=pr.findKey(n,i);if(s)return t[s]=Ur(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Ur(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return pr.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&pr.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Br]=this[Br]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Vr(e);t[r]||(!function(e,t){const n=pr.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return pr.isArray(e)?e.forEach(r):r(e),this}}function Wr(e,t){const n=this||Dr,r=t||n,i=$r.from(r.headers);let s=r.data;return pr.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Hr(e){return!(!e||!e.__CANCEL__)}function Qr(e,t,n){mr.call(this,null==e?"canceled":e,mr.ERR_CANCELED,t,n),this.name="CanceledError"}function Kr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new mr("Request failed with status code "+n.status,[mr.ERR_BAD_REQUEST,mr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}$r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pr.reduceDescriptors($r.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),pr.freezeMethods($r),pr.inherits(Qr,mr,{__CANCEL__:!0});const Jr=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let d=a,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let n,r,i=0,s=1e3/t;const a=(t,s=Date.now())=>{i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),o=t-i;o>=s?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),s-o)))},()=>n&&a(n)]}((n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Xr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Yr=e=>(...t)=>pr.asap((()=>e(...t))),Gr=Lr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Lr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,Zr=Lr.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];pr.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),pr.isString(r)&&a.push("path="+r),pr.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ei(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ti=e=>e instanceof $r?p({},e):e;function ni(e,t){t=t||{};const n={};function r(e,t,n,r){return pr.isPlainObject(e)&&pr.isPlainObject(t)?pr.merge.call({caseless:r},e,t):pr.isPlainObject(t)?pr.merge({},t):pr.isArray(t)?t.slice():t}function i(e,t,n,i){return pr.isUndefined(t)?pr.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!pr.isUndefined(t))return r(void 0,t)}function a(e,t){return pr.isUndefined(t)?pr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(ti(e),ti(t),0,!0)};return pr.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,a=s(e[r],t[r],r);pr.isUndefined(a)&&s!==o||(n[r]=a)})),n}const ri=e=>{const t=ni({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=$r.from(o),t.url=Nr(ei(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),pr.isFormData(r))if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Lr.hasStandardBrowserEnv&&(i&&pr.isFunction(i)&&(i=i(t)),i||!1!==i&&Gr(t.url))){const e=s&&a&&Zr.read(a);e&&o.set(s,e)}return t},ii="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=ri(e);let i=r.data;const s=$r.from(r.headers).normalize();let a,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=$r.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Kr((function(e){t(e),m()}),(function(e){n(e),m()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new mr("Request aborted",mr.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new mr("Network Error",mr.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Pr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new mr(t,i.clarifyTimeoutError?mr.ETIMEDOUT:mr.ECONNABORTED,e,f)),f=null},void 0===i&&s.setContentType(null),"setRequestHeader"in f&&pr.forEach(s.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),pr.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),p&&([l,d]=Jr(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Jr(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{f&&(n(!t||t.type?new Qr(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Lr.protocols.indexOf(y)?n(new mr("Unsupported protocol "+y+":",mr.ERR_BAD_REQUEST,e)):f.send(i||null)}))},si=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof mr?t:new Qr(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new mr(`timeout ${t} of ms exceeded`,mr.ETIMEDOUT))}),t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:o}=r;return o.unsubscribe=()=>pr.asap(a),o}},ai=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},oi=function(e,t){return x(this,null,(function*(){try{for(var n,r,i,s=((e,t,n)=>(t=e[d("asyncIterator")])?t.call(e):(e=e[d("iterator")](),t={},(n=(n,r)=>(r=e[n])&&(t[n]=t=>new Promise(((n,i,s)=>(t=r.call(e,t),s=t.done,Promise.resolve(t.value).then((e=>n({value:e,done:s})),i))))))("next"),n("return"),t))(li(e));n=!(r=yield new v(s.next())).done;n=!1){const e=r.value;yield*b(ai(e,t))}}catch(r){i=[r]}finally{try{n&&(r=s.return)&&(yield new v(r.call(s)))}finally{if(i)throw i[0]}}}))},li=function(e){return x(this,null,(function*(){if(e[Symbol.asyncIterator])return void(yield*b(e));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield new v(t.read());if(e)break;yield n}}finally{yield new v(t.cancel())}}))},ci=(e,t,n,r)=>{const i=oi(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({pull(e){return y(this,null,(function*(){try{const{done:t,value:r}=yield i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}}))},cancel:e=>(o(e),i.return())},{highWaterMark:2})},di="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ui=di&&"function"==typeof ReadableStream,hi=di&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):e=>y(void 0,null,(function*(){return new Uint8Array(yield new Response(e).arrayBuffer())}))),pi=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},mi=ui&&pi((()=>{let e=!1;const t=new Request(Lr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),fi=ui&&pi((()=>pr.isReadableStream(new Response("").body))),gi={stream:fi&&(e=>e.body)};var yi;di&&(yi=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!gi[e]&&(gi[e]=pr.isFunction(yi[e])?t=>t[e]():(t,n)=>{throw new mr(`Response type '${e}' is not supported`,mr.ERR_NOT_SUPPORT,n)})})));const vi=(e,t)=>y(void 0,null,(function*(){const n=pr.toFiniteNumber(e.getContentLength());return null==n?(e=>y(void 0,null,(function*(){if(null==e)return 0;if(pr.isBlob(e))return e.size;if(pr.isSpecCompliantForm(e)){const t=new Request(Lr.origin,{method:"POST",body:e});return(yield t.arrayBuffer()).byteLength}return pr.isArrayBufferView(e)||pr.isArrayBuffer(e)?e.byteLength:(pr.isURLSearchParams(e)&&(e+=""),pr.isString(e)?(yield hi(e)).byteLength:void 0)})))(t):n})),xi={http:null,xhr:ii,fetch:di&&(e=>y(void 0,null,(function*(){let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=ri(e);c=c?(c+"").toLowerCase():"text";let f,g=si([i,s&&s.toAbortSignal()],a);const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(l&&mi&&"get"!==n&&"head"!==n&&0!==(v=yield vi(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(pr.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Xr(v,Jr(Yr(l)));r=ci(n.body,65536,e,t)}}pr.isString(u)||(u=u?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,m(p({},h),{signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:i?u:void 0}));let s=yield fetch(f);const a=fi&&("stream"===c||"response"===c);if(fi&&(o||a&&y)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=pr.toFiniteNumber(s.headers.get("content-length")),[n,r]=o&&Xr(t,Jr(Yr(o),!0))||[];s=new Response(ci(s.body,65536,n,(()=>{r&&r(),y&&y()})),e)}c=c||"text";let x=yield gi[pr.findKey(gi,c)||"text"](s,e);return!a&&y&&y(),yield new Promise(((t,n)=>{Kr(t,n,{data:x,headers:$r.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(x){if(y&&y(),x&&"TypeError"===x.name&&/fetch/i.test(x.message))throw Object.assign(new mr("Network Error",mr.ERR_NETWORK,e,f),{cause:x.cause||x});throw mr.from(x,x&&x.code,e,f)}})))};pr.forEach(xi,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const bi=e=>`- ${e}`,ji=e=>pr.isFunction(e)||null===e||!1===e,wi=e=>{e=pr.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!ji(n)&&(r=xi[(t=String(n)).toLowerCase()],void 0===r))throw new mr(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new mr("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(bi).join("\n"):" "+bi(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function _i(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qr(null,e)}function ki(e){_i(e),e.headers=$r.from(e.headers),e.data=Wr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return wi(e.adapter||Dr.adapter)(e).then((function(t){return _i(e),t.data=Wr.call(e,e.transformResponse,t),t.headers=$r.from(t.headers),t}),(function(t){return Hr(t)||(_i(e),t&&t.response&&(t.response.data=Wr.call(e,e.transformResponse,t.response),t.response.headers=$r.from(t.response.headers))),Promise.reject(t)}))}const Si="1.7.9",Ni={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ni[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ti={};Ni.transitional=function(e,t,n){return(r,i,s)=>{if(!1===e)throw new mr(function(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}(i," has been removed"+(t?" in "+t:"")),mr.ERR_DEPRECATED);return t&&!Ti[i]&&(Ti[i]=!0),!e||e(r,i,s)}},Ni.spelling=function(e){return(e,t)=>!0};const Pi={assertOptions:function(e,t,n){if("object"!=typeof e)throw new mr("options must be an object",mr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new mr("option "+s+" must be "+n,mr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new mr("Unknown option "+s,mr.ERR_BAD_OPTION)}},validators:Ni},Ci=Pi.validators;class Ei{constructor(e){this.defaults=e,this.interceptors={request:new Tr,response:new Tr}}request(e,t){return y(this,null,(function*(){try{return yield this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}))}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ni(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Pi.assertOptions(n,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),null!=r&&(pr.isFunction(r)?t.paramsSerializer={serialize:r}:Pi.assertOptions(r,{encode:Ci.function,serialize:Ci.function},!0)),Pi.assertOptions(t,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&pr.merge(i.common,i[t.method]);i&&pr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=$r.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[ki.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let h=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=ki.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Nr(ei((e=ni(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}pr.forEach(["delete","get","head","options"],(function(e){Ei.prototype[e]=function(t,n){return this.request(ni(n||{},{method:e,url:t,data:(n||{}).data}))}})),pr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ni(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ei.prototype[e]=t(),Ei.prototype[e+"Form"]=t(!0)}));class Oi{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Qr(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Oi((function(t){e=t})),cancel:e}}}const Ai={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ai).forEach((([e,t])=>{Ai[t]=e}));const Ii=function e(t){const n=new Ei(t),r=Sn(Ei.prototype.request,n);return pr.extend(r,Ei.prototype,n,{allOwnKeys:!0}),pr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ni(t,n))},r}(Dr);Ii.Axios=Ei,Ii.CanceledError=Qr,Ii.CancelToken=Oi,Ii.isCancel=Hr,Ii.VERSION=Si,Ii.toFormData=jr,Ii.AxiosError=mr,Ii.Cancel=Ii.CanceledError,Ii.all=function(e){return Promise.all(e)},Ii.spread=function(e){return function(t){return e.apply(null,t)}},Ii.isAxiosError=function(e){return pr.isObject(e)&&!0===e.isAxiosError},Ii.mergeConfig=ni,Ii.AxiosHeaders=$r,Ii.formToJSON=e=>Mr(pr.isHTMLForm(e)?new FormData(e):e),Ii.getAdapter=wi,Ii.HttpStatusCode=Ai,Ii.default=Ii;const zi="CART_ITEMS",Ri="1.0.0",Li="BLITX_CACHE_",Mi="BLITX_CACHE_METADATA",Di={CATEGORIES:`${Li}CATEGORIES`,MANIFEST:`${Li}MANIFEST`,PRODUCTS:`${Li}PRODUCTS`,PRODUCT_DETAILS:`${Li}PRODUCT_DETAILS`,VENDORS:`${Li}VENDORS`,SEARCH_RESULTS:`${Li}SEARCH`,FEATURED_PRODUCTS:`${Li}FEATURED`,BANNER_CATEGORIES:`${Li}BANNER_CATS`},Fi={CATEGORIES:864e5,MANIFEST:432e5,PRODUCTS:72e5,PRODUCT_DETAILS:36e5,VENDORS:216e5,SEARCH_RESULTS:18e5,FEATURED_PRODUCTS:144e5,BANNER_CATEGORIES:864e5},Bi=52428800,Vi=864e5,Ui=!0,qi="ugflix_auth_token",$i="ugflix_user",Wi="https://katogo.schooldynamics.ug",Hi="https://katogo.schooldynamics.ug/api",Qi={NAME:"UgFlix",CURRENCY:"UGX",DATE_FORMAT:"YYYY-MM-DD",LOGO:"https://katogo.schooldynamics.ug/storage/images/logo.png"},Ki="ugflix_auth_token",Ji="ugflix_user",Xi="/media/svg/files/blank-image.svg",Yi={NAME:"UgFlix",TAGLINE:"Your trusted marketplace for quality products",DESCRIPTION:"UgFlix is Uganda's leading e-commerce platform connecting buyers and sellers across the country.",EMAIL:"blitelofficial@gmail.com",PHONE:"0800200146",WHATSAPP:"+256 790 742428",ADDRESS:"Kampala, Uganda"},Gi={TWITTER:"https://x.com/blit_xpress",FACEBOOK:"https://www.facebook.com/people/Blit-Xpress/61575579878607/",INSTAGRAM:"https://www.instagram.com/blit_xpress/",TIKTOK:"https://www.tiktok.com/@blit_xpress"},Zi={IOS:"https://apps.apple.com/in/app/ugflix/id6742859129",ANDROID:"https://play.google.com/store/apps/details?id=com.eurosatgroup.ugflix&pli=1"},es={BUYER_PROTECTION:{TITLE:"Buyer Protection",SUBTITLE:"Shop with confidence on UgFlix",FEATURES:[{icon:"bi-shield-check",title:"Secure Payments",description:"All payments are processed securely through encrypted channels"},{icon:"bi-truck",title:"Safe Delivery",description:"Track your orders and get guaranteed delivery to your doorstep"},{icon:"bi-arrow-return-left",title:"Easy Returns",description:"Return items within 7 days if they don't meet your expectations"},{icon:"bi-headset",title:"24/7 Support",description:"Our customer support team is always ready to help you"}]},VENDOR_BENEFITS:["Reach thousands of customers across Uganda","Easy product listing and management","Secure payment processing","Marketing and promotional support","Real-time analytics and insights","Dedicated vendor support team"],VENDOR_REQUIREMENTS:["Valid business registration or identification","Quality products that meet our standards","Competitive pricing and good customer service","Ability to fulfill orders within specified timeframes","Compliance with local laws and regulations"]};let ts=(g(n=class{static moneyFormat(e){return null==e||"undefined"===e?"0":(e.includes(".")&&(e=e.split(".")[0]),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}static int_parse(e){return null==e||"undefined"===e||""===e?0:parseInt(e)}static isValidMail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static to_str(e,t){return null==e||"undefined"===e||""===e?t:e}static formatDateTime(e){return new Date(e).toLocaleString()}static initials(e){if(!e)return"";const t=e.trim().split(" ");return 1===t.length?t[0].charAt(0).toUpperCase():t.length>=2?`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`.toUpperCase():""}static formatDate(e){return new Date(e).toLocaleDateString()}static cleanApiParams(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>null!=t&&""!==t&&"undefined"!==t&&"null"!==t)).map((([e,t])=>[e,String(t)])))}static buildQueryParams(e){const t=n.cleanApiParams(e);return new URLSearchParams(t)}static toJson(e){return JSON.stringify(e)}static fromJson(e,t){return new t(JSON.parse(e))}static toJsonList(e){return JSON.stringify(e)}static removeFromDatabase(e=""){localStorage.removeItem(e)}static saveToDatabase(e,t){if(null!=t&&"undefined"!==t)try{localStorage.setItem(e,JSON.stringify(t))}catch(n){return}}static loadFromDatabase(e=""){var t=localStorage.getItem(e);if(null===t)return null;if(void 0===t)return null;if("undefined"===t)return null;if(""===t)return null;var n=null;try{n=JSON.parse(t)}catch(r){return null}return n}static generateUniqueId(){return"_"+Math.random().toString(36).substring(2,11)}static saveProfile(e){try{const t=JSON.stringify(e);localStorage.setItem(Ji,t)}catch(t){alert(""+t)}}static img(e){var t=Wi+"/storage/images/default.png";if(null===e)return t;if(void 0===e)return t;if("undefined"===e)return t;if(""===e)return t;if("null"===e)return t;var n="";try{n=e.split("/").pop()||""}catch(r){return confirm("Error: "+r),""}return"undefined"===n||"null"===n||""===n||null==n?"":Wi+"/storage/images/"+n}static file(e){var t=Wi+"/storage/images/default.png";if(null===e)return t;if(void 0===e)return t;if("undefined"===e)return t;if(""===e)return t;if("null"===e)return t;var n="";try{n=e.split("/").pop()||""}catch(r){return confirm("Error: "+r),""}return"undefined"===n||"null"===n||""===n||null==n?"":Wi+"/storage/files/"+n}moneyFormat(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},"delay",(e=>new Promise((t=>setTimeout(t,1e3*e))))),n);const ns={position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};class rs{static success(e,t){fn.success(e,p(p({},ns),t))}static error(e,t){fn.error(e,p(p({},ns),t))}static warning(e,t){fn.warning(e,p(p({},ns),t))}static info(e,t){fn.info(e,p(p({},ns),t))}static default(e,t){fn(e,p(p({},ns),t))}static loginSuccess(e){this.success(e?`Welcome back, ${e}!`:"Logged in successfully!",{autoClose:2e3})}static loginError(e="Login failed. Please check your credentials."){this.error(e,{autoClose:4e3})}static registerSuccess(e){this.success(e?`Welcome to UgFlix, ${e}!`:"Account created successfully!",{autoClose:3e3})}static registerError(e="Registration failed. Please try again."){this.error(e,{autoClose:4e3})}static logoutSuccess(){this.info("You have been logged out successfully.",{autoClose:2e3})}static addToCart(e){this.success(e?`${e} added to cart!`:"Product added to cart!",{autoClose:1500})}static removeFromCart(e){this.warning(e?`${e} removed from cart`:"Product removed from cart",{autoClose:1500})}static addToWishlist(e){this.info(e?`${e} added to wishlist!`:"Product added to wishlist!",{autoClose:3e3})}static removeFromWishlist(e){this.warning(e?`${e} removed from wishlist`:"Product removed from wishlist",{autoClose:3e3})}static orderSuccess(e){this.success(e?`Order ${e} placed successfully!`:"Order placed successfully!",{autoClose:5e3})}static orderError(e="Failed to place order. Please try again."){this.error(e,{autoClose:6e3})}static paymentSuccess(){this.success("Payment processed successfully!",{autoClose:4e3})}static paymentError(e="Payment failed. Please try again."){this.error(e,{autoClose:6e3})}static profileUpdated(){this.success("Profile updated successfully!",{autoClose:3e3})}static profileError(e="Failed to update profile."){this.error(e,{autoClose:5e3})}static passwordChanged(){this.success("Password changed successfully!",{autoClose:4e3})}static passwordError(e="Failed to change password."){this.error(e,{autoClose:5e3})}static networkError(){this.error("Network error. Please check your connection and try again.",{autoClose:6e3})}static serverError(){this.error("Server error. Please try again later.",{autoClose:5e3})}static apiError(e){this.error(e,{autoClose:5e3})}static actionSuccess(e){this.success(`${e} completed successfully!`,{autoClose:3e3})}static actionError(e){this.error(`Failed to ${e.toLowerCase()}. Please try again.`,{autoClose:5e3})}static copied(e="Link"){this.info(`${e} copied to clipboard!`,{autoClose:2e3})}static shared(e="Item"){this.success(`${e} shared successfully!`,{autoClose:3e3})}static validationError(e){this.warning(e,{autoClose:4e3})}static loading(e="Loading...",t){return fn.loading(e,{toastId:t,position:"top-center"})}static updateLoading(e,t,n){fn.update(e,{render:n,type:t,isLoading:!1,autoClose:3e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}static dismiss(e){e?fn.dismiss(e):fn.dismiss()}static dismissAll(){fn.dismiss()}}const is=Ii.create({baseURL:Hi,headers:{Accept:"application/json"},withCredentials:!1,timeout:3e4}),ss=localStorage.getItem("ugflix_auth_token"),as=localStorage.getItem("ugflix_user"),os=as?JSON.parse(as):null;function ls(e,t,n){return y(this,null,(function*(){return hs("users/register",p({username:e,password:t,email:e},n))}))}function cs(e,t){return y(this,null,(function*(){return hs("users/login",{username:e,password:t})}))}function ds(e){return y(this,null,(function*(){try{const t=yield ps("users/login",{username:e,task:"request_password_reset"});if(1!==t.code)throw new Error(t.message||"Failed to send password reset email");return t}catch(t){throw new Error(`Password reset request failed: ${t}`)}}))}function us(e,t,n){return y(this,null,(function*(){try{const r=yield ps("users/login",{email:e,code:t,password:n,task:"reset_password"});if(1!==r.code)throw new Error(r.message||"Failed to reset password");return r}catch(r){throw new Error(`Password reset failed: ${r}`)}}))}function hs(e,t){return y(this,null,(function*(){try{const n=yield ps(e,t);if(1!==n.code)throw new Error(n.message||"Authentication failed");return function(e){const t=e.user,n=t.token||t.remember_token;if(!n||n.length<=5)throw new Error("No authentication token received from server");try{ts.saveToDatabase(qi,n),ts.saveToDatabase($i,t),e.company&&ts.saveToDatabase("DB_COMPANY",e.company)}catch(r){throw new Error("Failed to save data to local storage: "+r)}}(n.data),n}catch(n){throw new Error(`${e.split("/").pop()} failed: ${n}`)}}))}ss&&(is.defaults.headers.common.Authorization=`Bearer ${ss}`,is.defaults.headers.common.authorization=`Bearer ${ss}`,is.defaults.headers.common.Tok=`Bearer ${ss}`,is.defaults.headers.common.tok=`Bearer ${ss}`),os&&os.id&&(is.defaults.headers.common.logged_in_user_id=os.id.toString()),"undefined"!=typeof window&&(window.debugAuth=()=>{const e=localStorage.getItem("ugflix_auth_token"),t=localStorage.getItem("ugflix_user");return{token:e,user:t?JSON.parse(t):null}}),is.interceptors.request.use((e=>{const t=ts.loadFromDatabase(qi),n=ts.loadFromDatabase($i);return e.headers||(e.headers={}),t&&(is.defaults.headers.common.Authorization=`Bearer ${t}`,is.defaults.headers.common.authorization=`Bearer ${t}`,is.defaults.headers.common.Tok=`Bearer ${t}`,is.defaults.headers.common.tok=`Bearer ${t}`,e.headers.Authorization=`Bearer ${t}`,e.headers.authorization=`Bearer ${t}`,e.headers.Tok=`Bearer ${t}`,e.headers.tok=`Bearer ${t}`),n&&n.id&&(is.defaults.headers.common.logged_in_user_id=n.id.toString(),e.headers.logged_in_user_id=n.id.toString()),"post"!==e.method||!e.data||e.data instanceof FormData||(e.data.platform_type="web"),e}),(e=>Promise.reject(e))),is.interceptors.response.use((e=>e),(e=>{var t,n,r,i,s,a,o,l;if((null==(t=e.message)?void 0:t.includes("Network Error"))||e.code,"Unauthenticated"===(null==(r=null==(n=e.response)?void 0:n.data)?void 0:r.message))return rs.error("You are not logged in."),Promise.reject(e);if(403===(null==(i=e.response)?void 0:i.status)&&(null==(o=null==(a=null==(s=e.response)?void 0:s.data)?void 0:a.data)?void 0:o.require_subscription)){e.response.data.message;return Promise.reject(e)}return 429===(null==(l=e.response)?void 0:l.status)?(rs.error("Server busy. Please wait a moment and try again."),Promise.reject(e)):(e.response?e.response.status>=500?rs.serverError():401===e.response.status&&rs.error("Session expired. Please login again."):rs.networkError(),Promise.reject(e))}));const ps=(e,t)=>y(void 0,null,(function*(){var n;try{const n=ts.loadFromDatabase($i);localStorage.getItem("ugflix_auth_token");let r;if(t instanceof FormData){r=t;for(let e of r.entries())e[1],File;n&&n.id&&(r.append("user",n.id.toString()),r.append("User-Id",n.id.toString()),r.append("user_id",n.id.toString()));for(let e of r.entries())e[1],File}else n&&n.id&&(t.user=n.id.toString(),t["User-Id"]=n.id.toString(),t.user_id=n.id.toString()),r=new FormData,Object.keys(t).forEach((e=>{r.append(e,t[e])}));const i={};t instanceof FormData?i.headers={"Content-Type":void 0}:i.headers={"Content-Type":"application/json"};return fs(yield is.post(e,r,i))}catch(r){let e="Unknown error occurred";return e=r.response?`Server error ${r.response.status}: ${(null==(n=r.response.data)?void 0:n.message)||r.response.statusText}`:r.request?"No response from server. Please check your connection.":r.message||"Request failed",{code:0,message:e,data:null}}})),ms=(e,t)=>y(void 0,null,(function*(){var n;try{const n=ts.loadFromDatabase($i);t||(t={}),n&&n.id&&(t.user=n.id.toString(),t["User-Id"]=n.id.toString(),t.user_id=n.id.toString());const r=yield is.get(e,{params:t});return fs(r)}catch(r){return(null==(n=null==r?void 0:r.message)?void 0:n.includes("Network Error"))||null==r||r.code,{code:0,message:"GET request failed: "+r,data:null}}}));function fs(e){if(!e)return{code:0,message:"Failed to connect to internet. Check your connection and try again",data:null};let{data:t}=e;if(!t)return{code:0,message:"Failed to fetch data because data is null",data:null};let n=t;if("string"==typeof t)try{n=JSON.parse(t)}catch(r){n={code:0,message:t.toString(),data:null}}if("Unauthenticated"===n.message)return rs.error("You are not logged in."),{code:0,message:"You are not logged in.",data:null};return{code:parseInt(n.code||n.status||"0",10),message:n.message||"Request completed",data:n.data||n}}const gs=Object.freeze(Object.defineProperty({__proto__:null,http_get:ms,http_post:ps,login:cs,register:ls,requestPasswordReset:ds,resetPassword:us},Symbol.toStringTag,{value:"Module"})),ys=D({name:"auth",initialState:{isAuthenticated:!1,user:null,token:null,isLoading:!0,error:null},reducers:{loginStart:e=>{e.isLoading=!0,e.error=null},loginSuccess:(e,t)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,e.error=null;try{localStorage.setItem("ugflix_auth_token",t.payload.token),localStorage.setItem("ugflix_user",JSON.stringify(t.payload.user))}catch(n){}},loginFailure:(e,t)=>{e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.token=null,e.error=t.payload},logout:e=>{e.isAuthenticated=!1,e.user=null,e.token=null,e.error=null,e.isLoading=!1;try{localStorage.removeItem("ugflix_auth_token"),localStorage.removeItem("ugflix_user")}catch(t){}},updateProfile:(e,t)=>{if(e.user){e.user=p(p({},e.user),t.payload);try{localStorage.setItem("ugflix_user",JSON.stringify(e.user))}catch(n){}}},restoreAuthState:e=>{try{if("undefined"==typeof window||"undefined"==typeof localStorage)return void(e.isLoading=!1);const n=localStorage.getItem("ugflix_auth_token"),r=localStorage.getItem("ugflix_user");if(n&&r)try{const t="string"==typeof r?JSON.parse(r):r;t&&t.id?(e.isAuthenticated=!0,e.user=t,e.token=n,e.isLoading=!1,e.error=null):(e.isAuthenticated=!1,e.user=null,e.token=null,e.isLoading=!1,e.error=null)}catch(t){e.isAuthenticated=!1,e.user=null,e.token=null,e.isLoading=!1,e.error=null}else e.isAuthenticated=!1,e.user=null,e.token=null,e.isLoading=!1,e.error=null}catch(n){try{localStorage.removeItem("ugflix_auth_token"),localStorage.removeItem("ugflix_user")}catch(r){}e.isAuthenticated=!1,e.user=null,e.token=null,e.isLoading=!1,e.error=null}}}}),{loginStart:vs,loginSuccess:xs,loginFailure:bs,logout:js,updateProfile:ws,restoreAuthState:_s}=ys.actions,ks=e=>e.auth.isAuthenticated,Ss=e=>e.auth.user,Ns=e=>e.auth.isLoading,Ts=e=>t=>y(void 0,null,(function*(){t(vs());try{const n=yield cs(e.email,e.password);if(1===n.code&&n.data){const e=n.data,r=e.remember_token||e.token||e.access_token;if(!r)throw new Error("No authentication token received from server");return t(xs({user:e,token:r})),{success:!0,user:e}}throw new Error(n.message||"Login failed")}catch(n){const e=(null==n?void 0:n.message)||"Login failed. Please try again.";return t(bs(e)),{success:!1,error:e}}})),Ps=e=>t=>y(void 0,null,(function*(){t(vs());try{const n={first_name:e.firstName,last_name:e.lastName,name:`${e.firstName} ${e.lastName}`,newsletter:e.newsletter?1:0},r=yield ls(e.email,e.password,n);if(1===r.code&&r.data){const e=r.data,n=e.remember_token||e.token||e.access_token;if(!n)throw new Error("No authentication token received from server");return t(xs({user:e,token:n})),{success:!0,user:e}}throw new Error(r.message||"Registration failed")}catch(n){const e=(null==n?void 0:n.message)||"Registration failed. Please try again.";return t(bs(e)),{success:!1,error:e}}})),Cs=e=>t=>y(void 0,null,(function*(){try{const t=yield ds(e);if(1===t.code)return{success:!0,message:t.message||"Password reset code sent to your email"};throw new Error(t.message||"Failed to send password reset email")}catch(t){return{success:!1,error:(null==t?void 0:t.message)||"Failed to send password reset email"}}})),Es=(e,t,n)=>r=>y(void 0,null,(function*(){try{const r=yield us(e,t,n);if(1===r.code)return{success:!0,message:r.message||"Password reset successfully"};throw new Error(r.message||"Failed to reset password")}catch(r){return{success:!1,error:(null==r?void 0:r.message)||"Failed to reset password"}}})),Os=ys.reducer;class As{constructor(e={}){g(this,"id"),g(this,"product_id"),g(this,"product_name"),g(this,"product_price_1"),g(this,"product_quantity"),g(this,"product_feature_photo"),g(this,"color"),g(this,"size"),g(this,"variant"),g(this,"added_at"),g(this,"updated_at"),this.product_id=e.product_id||0,this.product_name=e.product_name||"",this.product_price_1=e.product_price_1||"0",this.product_quantity=e.product_quantity||1,this.product_feature_photo=e.product_feature_photo||"",this.color=e.color||"",this.size=e.size||"",this.variant=e.variant||{},this.added_at=e.added_at||(new Date).toISOString(),this.updated_at=e.updated_at||(new Date).toISOString(),this.id=this.generateId()}generateId(){const e=JSON.stringify(p({color:this.color,size:this.size},this.variant));return`${this.product_id}_${btoa(e).replace(/[^a-zA-Z0-9]/g,"")}`}static fromProduct(e,t=1,n={}){return new As({product_id:e.id,product_name:e.name,product_price_1:e.price_1,product_quantity:t,product_feature_photo:e.feature_photo||"",color:n.color||"",size:n.size||"",variant:n})}static fromJson(e){var t,n,r;return new As({id:e.id,product_id:parseInt((null==(t=e.product_id)?void 0:t.toString())||"0"),product_name:e.product_name||"",product_price_1:(null==(n=e.product_price_1)?void 0:n.toString())||"0",product_quantity:parseInt((null==(r=e.product_quantity)?void 0:r.toString())||"1"),product_feature_photo:e.product_feature_photo||"",color:e.color||"",size:e.size||"",variant:e.variant||{},added_at:e.added_at||(new Date).toISOString(),updated_at:e.updated_at||(new Date).toISOString()})}toJson(){return{id:this.id,product_id:this.product_id,product_name:this.product_name,product_price_1:this.product_price_1,product_quantity:this.product_quantity,product_feature_photo:this.product_feature_photo,color:this.color,size:this.size,variant:this.variant,added_at:this.added_at,updated_at:this.updated_at}}updateQuantity(e){this.product_quantity=Math.max(0,e),this.updated_at=(new Date).toISOString()}getSubtotal(){return parseFloat(this.product_price_1)*this.product_quantity}hasVariant(){return""!==this.color||""!==this.size||Object.keys(this.variant).length>0}getVariantDisplay(){const e=[];return this.color&&e.push(`Color: ${this.color}`),this.size&&e.push(`Size: ${this.size}`),Object.entries(this.variant).forEach((([t,n])=>{n&&"color"!==t&&"size"!==t&&e.push(`${t}: ${n}`)})),e.join(", ")}getImageUrl(){return this.product_feature_photo?ts.img(this.product_feature_photo):"/media/svg/files/blank-image.svg"}}const Is="shop_cart_items",zs=()=>{try{const e=localStorage.getItem(Is);if(e){return JSON.parse(e).map((e=>As.fromJson(e)))}}catch(e){}return[]},Rs=e=>({totalQuantity:e.reduce(((e,t)=>e+t.product_quantity),0),totalAmount:e.reduce(((e,t)=>e+parseFloat(t.product_price_1)*t.product_quantity),0)}),Ls=e=>{try{const t=e.map((e=>({id:e.id,product_id:e.product_id,product_name:e.product_name,product_price_1:e.product_price_1,product_quantity:e.product_quantity,product_feature_photo:e.product_feature_photo,color:e.color,size:e.size,variant:e.variant,added_at:e.added_at,updated_at:e.updated_at})));localStorage.setItem(Is,JSON.stringify(t))}catch(t){}},Ms=zs(),{totalQuantity:Ds,totalAmount:Fs}=Rs(Ms),Bs={items:Ms,totalQuantity:Ds,totalAmount:Fs,isLoading:!1,lastUpdated:(new Date).toISOString()},Vs=D({name:"cart",initialState:Bs,reducers:{addToCart:(e,t)=>{const{product:n,quantity:r=1,variant:i={}}=t.payload,s=As.fromProduct(n,r,i),a=e.items.findIndex((e=>e.id===s.id));a>=0?(e.items[a].product_quantity+=r,e.items[a].updated_at=(new Date).toISOString()):e.items.push(s);const o=Rs(e.items);e.totalQuantity=o.totalQuantity,e.totalAmount=o.totalAmount,e.lastUpdated=(new Date).toISOString(),Ls(e.items)},removeFromCart:(e,t)=>{const{productId:n,variant:r={}}=t.payload,i=new As({product_id:n,color:r.color||"",size:r.size||"",variant:r});e.items=e.items.filter((e=>e.id!==i.id));const s=Rs(e.items);e.totalQuantity=s.totalQuantity,e.totalAmount=s.totalAmount,e.lastUpdated=(new Date).toISOString(),Ls(e.items)},updateQuantity:(e,t)=>{const{productId:n,quantity:r,variant:i={}}=t.payload,s=new As({product_id:n,color:i.color||"",size:i.size||"",variant:i}),a=e.items.findIndex((e=>e.id===s.id));if(a>=0){r<=0?e.items.splice(a,1):(e.items[a].product_quantity=r,e.items[a].updated_at=(new Date).toISOString());const t=Rs(e.items);e.totalQuantity=t.totalQuantity,e.totalAmount=t.totalAmount,e.lastUpdated=(new Date).toISOString(),Ls(e.items)}},clearCart:e=>{e.items=[],e.totalQuantity=0,e.totalAmount=0,e.lastUpdated=(new Date).toISOString(),localStorage.removeItem(Is)},setLoading:(e,t)=>{e.isLoading=t.payload},syncFromStorage:e=>{const t=zs();e.items=t;const n=Rs(t);e.totalQuantity=n.totalQuantity,e.totalAmount=n.totalAmount,e.lastUpdated=(new Date).toISOString()},updateCartItems:(e,t)=>{e.items=t.payload;const n=Rs(e.items);e.totalQuantity=n.totalQuantity,e.totalAmount=n.totalAmount,e.lastUpdated=(new Date).toISOString(),Ls(e.items)}}}),Us=e=>e.cart.items,qs=e=>e.cart.totalQuantity,$s=e=>e.cart.totalAmount,Ws=e=>e.cart.isLoading,Hs=e=>0===e.cart.items.length,{addToCart:Qs,removeFromCart:Ks,updateQuantity:Js,clearCart:Xs,setLoading:Ys,syncFromStorage:Gs,updateCartItems:Zs}=Vs.actions,ea=Vs.reducer,ta=()=>{const e=F(),t=B(Us),n=B(qs),r=B($s),i=B(Ws),s=B(Hs);M.useEffect((()=>{e(Gs())}),[e]);const a=M.useCallback(((t,...n)=>y(void 0,[t,...n],(function*(t,n=1,r={}){var i,s;try{if(e(Ys(!0)),!t||!t.id||n<=0)return rs.error("Invalid product or quantity"),!1;const a=(null==(i=t.getColors)?void 0:i.call(t))||[],o=(null==(s=t.getSizes)?void 0:s.call(t))||[];if(a.length>0&&!r.color)return rs.error("Please select a color"),!1;if(o.length>0&&!r.size)return rs.error("Please select a size"),!1;e(Qs({product:t,quantity:n,variant:r}));const l=r.color||r.size?` (${Object.entries(r).filter((([e,t])=>t)).map((([e,t])=>`${e}: ${t}`)).join(", ")})`:"";return rs.success(`${t.name}${l} added to cart`),!0}catch(a){return rs.error("Failed to add item to cart"),!1}finally{e(Ys(!1))}}))),[e]),o=M.useCallback(((t,...n)=>y(void 0,[t,...n],(function*(t,n={}){try{return e(Ys(!0)),e(Ks({productId:t,variant:n})),rs.success("Item removed from cart"),!0}catch(r){return rs.error("Failed to remove item from cart"),!1}finally{e(Ys(!1))}}))),[e]),l=M.useCallback(((t,n,...r)=>y(void 0,[t,n,...r],(function*(t,n,r={}){try{return n<0?(rs.error("Invalid quantity"),!1):(e(Js({productId:t,quantity:n,variant:r})),0===n?rs.success("Item removed from cart"):rs.success("Cart updated"),!0)}catch(i){return rs.error("Failed to update cart"),!1}}))),[e]),c=M.useCallback((()=>y(void 0,null,(function*(){try{return e(Xs()),rs.success("Cart cleared"),!0}catch(t){return rs.error("Failed to clear cart"),!1}}))),[e]),d=M.useCallback(((e,n={})=>{try{const r=new As({product_id:e,color:n.color||"",size:n.size||"",variant:n});return t.some((e=>e.id===r.id))}catch(r){return!1}}),[t]),u=M.useCallback(((e,n={})=>{try{const r=new As({product_id:e,color:n.color||"",size:n.size||"",variant:n}),i=t.find((e=>e.id===r.id));return i?i.product_quantity:0}catch(r){return 0}}),[t]),h=M.useCallback((()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(r)),[r]),p=M.useCallback((()=>{const e=r,i=e+0;return{items:t,totalItems:t.length,totalQuantity:n,subtotal:e,totalAmount:i,deliveryFee:0,isEmpty:s}}),[t,n,r,s]),m=M.useCallback((()=>t.some((e=>e.hasVariant()))),[t]),f=M.useCallback((e=>t.filter((t=>t.product_id===e))),[t]);return{cartItems:t,cartCount:n,cartTotal:r,isLoading:i,isEmpty:s,addToCart:a,removeFromCart:o,updateQuantity:l,clearCart:c,isInCart:d,getItemQuantity:u,getFormattedTotal:h,getCartSummary:p,hasVariantItems:m,getItemsByProduct:f}};class na{constructor(){g(this,"id",0),g(this,"name",""),g(this,"metric",0),g(this,"currency",1),g(this,"description",null),g(this,"summary",null),g(this,"price_1","0.00"),g(this,"price_2","0.00"),g(this,"feature_photo",""),g(this,"rates","[]"),g(this,"date_added",""),g(this,"date_updated",""),g(this,"user",1),g(this,"category",null),g(this,"sub_category",null),g(this,"supplier",1),g(this,"url",null),g(this,"status",1),g(this,"in_stock",1),g(this,"keywords","[]"),g(this,"p_type","No"),g(this,"local_id",""),g(this,"updated_at",""),g(this,"created_at",""),g(this,"stripe_id",null),g(this,"stripe_price",null),g(this,"has_colors","No"),g(this,"colors",""),g(this,"has_sizes","No"),g(this,"sizes",""),g(this,"category_text",""),g(this,"tags",""),g(this,"tags_array",[]),g(this,"attributes_array",[]),g(this,"category_attributes",[]),g(this,"review_count",0),g(this,"average_rating",0),g(this,"variants",{}),g(this,"images",[]),g(this,"stock",{items_sold:0,total_items:0}),g(this,"rating",0),g(this,"reviewsCount",0),g(this,"specifications",[])}updateProfile(e){Object.assign(this,e)}toJSON(){const e={};for(const t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e[t]=this[t]);return e}static fromJson(e){const t=new na;let n={};if("string"==typeof e)try{n=JSON.parse(e)}catch(i){return t}else n=e;const r=Object.keys(t);for(const s of Object.keys(n))r.includes(s)&&(t[s]=n[s]);return void 0!==n.review_count&&(t.reviewsCount=Number(n.review_count)||0),void 0!==n.average_rating&&(t.rating=Number(n.average_rating)||0),t}getMainImage(){return this.feature_photo?ts.img(this.feature_photo):"/media/svg/files/blank-image.svg"}getHoverImage(){var e;try{const t=JSON.parse(this.rates||"[]");if(Array.isArray(t)&&(null==(e=t[1])?void 0:e.src))return ts.img(t[1].src)}catch(t){}return null}getAllImages(){try{const e=JSON.parse(this.rates||"[]");if(Array.isArray(e)){const t=e.map(((e,t)=>{if(e.src){let t=e.src.replace(/\\\//g,"/").replace(/\\/g,"/").trim();return t=t.replace(/\/+/g,"/"),t.includes("/")&&(t=t.split("/").pop()||t),t}return null})).filter(Boolean);return t.map(((e,t)=>ts.img(e)))}}catch(e){}return[this.getMainImage()]}getFormattedPrice(){return ts.moneyFormat(this.price_1)}getFormattedPrice2(){return ts.moneyFormat(this.price_2)}isInStock(){return 1===this.in_stock}isActive(){return 1===this.status}hasColors(){return"Yes"===this.has_colors&&this.colors.length>0}getColors(){return this.hasColors()?this.colors.split(",").map((e=>e.trim())).filter(Boolean):[]}hasSizes(){return"Yes"===this.has_sizes&&this.sizes.length>0}getSizes(){return this.hasSizes()?this.sizes.split(",").map((e=>e.trim())).filter(Boolean):[]}getKeywords(){try{const e=JSON.parse(this.keywords||"[]");return Array.isArray(e)?e:[]}catch(e){return[]}}isPremiumType(){return"Yes"===this.p_type}static fetchProducts(){return y(this,arguments,(function*(e=1,t={}){try{const r=yield ms("products-1");if(!r||"object"!=typeof r)throw new Error("Invalid API response structure");const i=r.data||r;if(!Array.isArray(i))throw new Error("Invalid products data structure");const s=[];for(const e of i)try{const t=na.fromJson(e);s.push(t)}catch(n){}let a=s;if(t.category&&(a=a.filter((e=>e.category==t.category))),t.search){const e=String(t.search).toLowerCase();a=a.filter((t=>{var n;return t.name.toLowerCase().includes(e)||(null==(n=t.description)?void 0:n.toLowerCase().includes(e))||t.keywords.toLowerCase().includes(e)}))}if(t.price_min){const e=Number(t.price_min);a=a.filter((t=>Number(t.price_1)>=e))}if(t.price_max){const e=Number(t.price_max);a=a.filter((t=>Number(t.price_1)<=e))}const o=20,l=Number(e)||1,c=(l-1)*o,d=a.slice(c,c+o),u=Math.ceil(a.length/o);return{current_page:l,data:d,first_page_url:"products-1?page=1",from:c+1,last_page:u,last_page_url:`products-1?page=${u}`,links:[],next_page_url:l<u?`products-1?page=${l+1}`:null,path:"products-1",per_page:o,prev_page_url:l>1?"products-1?page="+(l-1):null,to:Math.min(c+o,a.length),total:a.length}}catch(n){return{current_page:1,data:[],first_page_url:"",from:null,last_page:1,last_page_url:"",links:[],next_page_url:null,path:"",per_page:20,prev_page_url:null,to:null,total:0}}}))}static fetchProductById(e){return y(this,null,(function*(){try{const t=yield ms("products-1"),n=(t.data||[]).find((t=>t.id==e));if(!n)throw new Error(`Product with ID ${e} not found`);return na.fromJson(n)}catch(t){throw t}}))}static fetchProductsByCategory(e){return y(this,arguments,(function*(e,t=1,n={}){try{return yield this.fetchProducts(t,m(p({},n),{category:e}))}catch(r){throw r}}))}static searchProducts(e){return y(this,arguments,(function*(e,t=1,n={}){try{return yield this.fetchProducts(t,m(p({},n),{search:e}))}catch(r){throw r}}))}static createProduct(e){return y(this,null,(function*(){try{const t=yield ps("product-create",e),n=t.data||t;return na.fromJson(n)}catch(t){throw t}}))}static updateProduct(e,t){return y(this,null,(function*(){try{const n=yield ps(`products/${e}?_method=PUT`,t);return na.fromJson(n)}catch(n){throw n}}))}static deleteProduct(e){return y(this,null,(function*(){try{return yield ps("products-delete",{id:e}),!0}catch(t){throw t}}))}}class ra{constructor(){g(this,"id",0),g(this,"category",""),g(this,"image",""),g(this,"banner_image",null),g(this,"show_in_banner","No"),g(this,"show_in_categories","Yes"),g(this,"attributes",null),g(this,"is_parent","No"),g(this,"parent_id",null),g(this,"parent_text",0),g(this,"category_text",0),g(this,"created_at",""),g(this,"updated_at","")}updateProfile(e){Object.assign(this,e)}toJSON(){const e={};for(const t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e[t]=this[t]);return e}static fromJson(e){const t=new ra;let n={};if("string"==typeof e)try{n=JSON.parse(e)}catch(i){return t}else n=e;const r=Object.keys(t);for(const s of Object.keys(n))r.includes(s)&&(t[s]=n[s]);return t}getImageUrl(){return this.image?ts.img(this.image):ts.img("media/categories/placeholder.png")}getBannerImageUrl(){return this.banner_image?ts.img(this.banner_image):null}isShownInBanner(){return"Yes"===this.show_in_banner}isShownInCategories(){return"Yes"===this.show_in_categories}isParentCategory(){return"Yes"===this.is_parent}static fetchCategoryById(e){return y(this,null,(function*(){try{const t=yield ms(`/categories/${e}`);if(1!==t.code)throw new Error(t.message||"Failed to fetch category");return ra.fromJson(t.data)}catch(t){throw t}}))}static createCategory(e){return y(this,null,(function*(){try{const t=yield ps("/categories",e);return ra.fromJson(t)}catch(t){throw t}}))}static updateCategory(e,t){return y(this,null,(function*(){try{const n=yield ps(`/categories/${e}?_method=PUT`,t);return ra.fromJson(n)}catch(n){throw n}}))}static deleteCategory(e){return y(this,null,(function*(){try{return yield ps(`/categories/${e}?_method=DELETE`,{}),!0}catch(t){throw t}}))}}class ia{constructor(){g(this,"id",0),g(this,"username",""),g(this,"first_name",""),g(this,"last_name",""),g(this,"email",null),g(this,"phone_number",""),g(this,"user_type","Vendor"),g(this,"sex",null),g(this,"reg_number",""),g(this,"country",""),g(this,"occupation",""),g(this,"profile_photo",null),g(this,"profile_photo_large",""),g(this,"location_lat",""),g(this,"location_long",""),g(this,"facebook",""),g(this,"twitter",""),g(this,"whatsapp",null),g(this,"linkedin",""),g(this,"website",""),g(this,"other_link",""),g(this,"cv",""),g(this,"language",""),g(this,"about",""),g(this,"address",""),g(this,"avatar",""),g(this,"name",""),g(this,"campus_id",1),g(this,"complete_profile",null),g(this,"title",null),g(this,"dob",null),g(this,"intro",null),g(this,"business_name",""),g(this,"business_license_number",""),g(this,"business_license_issue_authority",""),g(this,"business_license_issue_date",""),g(this,"business_license_validity",""),g(this,"business_address",""),g(this,"business_phone_number",""),g(this,"business_whatsapp",""),g(this,"business_email",""),g(this,"business_logo",""),g(this,"business_cover_photo",null),g(this,"business_cover_details",null),g(this,"nin",""),g(this,"status","Active"),g(this,"approved",null),g(this,"reg_date",null),g(this,"last_seen",null),g(this,"created_at",""),g(this,"updated_at",""),g(this,"remember_token",null)}updateProfile(e){Object.assign(this,e)}toJSON(){const e={};for(const t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e[t]=this[t]);return e}static fromJson(e){const t=new ia;let n={};if("string"==typeof e)try{n=JSON.parse(e)}catch(i){return t}else n=e;const r=Object.keys(t);for(const s of Object.keys(n))r.includes(s)&&(t[s]=n[s]);return t}getAvatarUrl(){return this.avatar&&!this.avatar.includes("user.jpg")?ts.img(this.avatar):this.profile_photo?ts.img(this.profile_photo):ts.img("media/avatars/default.jpg")}getFullName(){return`${this.first_name} ${this.last_name}`.trim()||this.name||this.username}getBusinessLogoUrl(){return this.business_logo?ts.img(this.business_logo):ts.img("media/vendors/default-logo.png")}isActive(){return"Active"===this.status}isApproved(){return 1===this.approved}isProfileComplete(){return 1===this.complete_profile}static fetchVendors(){return y(this,null,(function*(){try{const e=yield ms("/vendors");if(1!==e.code)throw new Error(e.message||"Failed to fetch vendors");const t=e.data;if(!Array.isArray(t))throw new Error("Invalid response format for vendors.");return t.map((e=>ia.fromJson(e)))}catch(e){throw e}}))}static fetchVendorById(e){return y(this,null,(function*(){try{const t=yield ms(`/vendors/${e}`);if(1!==t.code)throw new Error(t.message||"Failed to fetch vendor");return ia.fromJson(t.data)}catch(t){throw t}}))}static createVendor(e){return y(this,null,(function*(){try{const t=yield ps("/vendors",e);return ia.fromJson(t)}catch(t){throw t}}))}static updateVendor(e,t){return y(this,null,(function*(){try{const n=yield ps(`/vendors/${e}?_method=PUT`,t);return ia.fromJson(n)}catch(n){throw n}}))}static deleteVendor(e){return y(this,null,(function*(){try{return yield ps(`/vendors/${e}?_method=DELETE`,{}),!0}catch(t){throw t}}))}}class sa{static getProducts(){return y(this,arguments,(function*(e={}){try{const t=e,{page:n=1,in_stock:r}=t,i=f(t,["page","in_stock"]),s=p({},i);return void 0!==r&&(s.in_stock=r?1:0),yield na.fetchProducts(n,s)}catch(t){throw rs.error("Failed to load products"),t}}))}static getProduct(e){return y(this,null,(function*(){try{return yield na.fetchProductById(e)}catch(t){throw rs.error("Product not found"),t}}))}static getProductsByCategory(e){return y(this,arguments,(function*(e,t=1,n={}){try{return yield na.fetchProductsByCategory(e,t,n)}catch(r){throw rs.error("Failed to load category products"),r}}))}static searchProducts(e){return y(this,arguments,(function*(e,t=1,n={}){try{return yield na.searchProducts(e,t,n)}catch(r){throw rs.error("Search failed"),r}}))}static getCategories(){return y(this,null,(function*(){return[]}))}static getBannerCategories(){return y(this,null,(function*(){try{return[]}catch(e){throw rs.error("Failed to load banner categories"),e}}))}static getNavigationCategories(){return y(this,null,(function*(){try{return[]}catch(e){throw rs.error("Failed to load navigation categories"),e}}))}static getCategory(e){return y(this,null,(function*(){try{return yield ra.fetchCategoryById(e)}catch(t){throw rs.error("Category not found"),t}}))}static getVendors(){return y(this,null,(function*(){return[]}))}static getActiveVendors(){return y(this,null,(function*(){try{return(yield ia.fetchVendors()).filter((e=>e.isActive()&&e.isApproved()))}catch(e){throw rs.error("Failed to load active vendors"),e}}))}static getVendor(e){return y(this,null,(function*(){try{return yield ia.fetchVendorById(e)}catch(t){throw rs.error("Vendor not found"),t}}))}static getUserOrders(e=1){return y(this,null,(function*(){try{return yield ms("orders")}catch(e){throw rs.error("Failed to load orders"),e}}))}static getOrder(e){return y(this,null,(function*(){try{const t=yield ms("orders"),n=t.data||t,r=Array.isArray(n)?n.find((t=>t.id==e)):null;if(!r)throw new Error("Order not found");return r}catch(t){throw rs.error("Order not found"),t}}))}static createOrder(e){return y(this,null,(function*(){try{const t=yield ps("orders",e);return rs.success("Order placed successfully!"),t}catch(t){throw rs.error("Failed to place order"),t}}))}static updateOrderStatus(e,t){return y(this,null,(function*(){try{return yield ps(`orders/${e}/status`,{status:t})}catch(n){throw n}}))}static addToCart(e,t=1,n){return y(this,null,(function*(){try{const r=JSON.parse(localStorage.getItem("CART_ITEMS")||"[]"),i=r.findIndex((t=>t.product_id===e&&JSON.stringify(t.variant||{})===JSON.stringify(n||{})));return i>=0?r[i].quantity+=t:r.push({product_id:e,quantity:t,variant:n||{},added_at:(new Date).toISOString()}),localStorage.setItem("CART_ITEMS",JSON.stringify(r)),rs.success("Added to cart"),!0}catch(r){throw rs.error("Failed to add to cart"),r}}))}static getCartItems(){return y(this,null,(function*(){try{const t=JSON.parse(localStorage.getItem("CART_ITEMS")||"[]"),n=[];for(const r of t)try{const e=yield na.fetchProductById(r.product_id);n.push({product:e,quantity:r.quantity,variant:r.variant||{}})}catch(e){}return n}catch(e){throw rs.error("Failed to load cart"),e}}))}static updateCartItem(e,t,n){return y(this,null,(function*(){try{const r=JSON.parse(localStorage.getItem("CART_ITEMS")||"[]"),i=r.findIndex((t=>t.product_id===e&&JSON.stringify(t.variant||{})===JSON.stringify(n||{})));return i>=0&&(t<=0?r.splice(i,1):r[i].quantity=t,localStorage.setItem("CART_ITEMS",JSON.stringify(r)),rs.success("Cart updated"),!0)}catch(r){throw rs.error("Failed to update cart"),r}}))}static removeFromCart(e,t){return y(this,null,(function*(){return this.updateCartItem(e,0,t)}))}static clearCart(){return y(this,null,(function*(){try{return localStorage.removeItem("CART_ITEMS"),rs.success("Cart cleared"),!0}catch(e){throw rs.error("Failed to clear cart"),e}}))}static addToWishlist(e){return y(this,null,(function*(){try{yield ps("wishlist_add",{product_id:e});return rs.success("Added to wishlist"),!0}catch(t){throw rs.error("Failed to add to wishlist"),t}}))}static removeFromWishlist(e){return y(this,null,(function*(){try{yield ps("wishlist_remove",{product_id:e});return rs.success("Removed from wishlist"),!0}catch(t){throw rs.error("Failed to remove from wishlist"),t}}))}static getWishlist(){return y(this,null,(function*(){try{const e=yield ms("wishlist_get");return(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:[]}catch(e){throw rs.error("Failed to load wishlist"),e}}))}static checkWishlist(e){return y(this,null,(function*(){var t;try{const n=yield ps("wishlist_check",{product_id:e});return(null==(t=null==n?void 0:n.data)?void 0:t.in_wishlist)||!1}catch(n){return!1}}))}static getManifest(){return y(this,null,(function*(){var e,t,n,r;try{let r=null;try{const{default:i}=yield qe((()=>y(this,null,(function*(){const{default:e}=yield import("./manifest.service-B4hL4qbh.js");return{default:e}}))),__vite__mapDeps([0,1,2,3,4,5,6,7])),s=yield i.getManifest(),a=null==(e=null==s?void 0:s.data)?void 0:e.subscription;r=a&&"object"==typeof a?p({has_active_subscription:Boolean(null!=(t=a.has_active_subscription)&&t),days_remaining:"number"==typeof a.days_remaining?Math.max(0,a.days_remaining):0,hours_remaining:"number"==typeof a.hours_remaining?Math.max(0,a.hours_remaining):0,is_in_grace_period:Boolean(null!=(n=a.is_in_grace_period)&&n),subscription_status:String(a.subscription_status||"Unknown"),end_date:a.end_date||null,require_subscription:void 0!==a.require_subscription&&Boolean(a.require_subscription)},a):null}catch(i){r=null}const{default:s}=yield qe((()=>y(this,null,(function*(){const{default:e}=yield import("./ManifestService-LcWlQrOy.js");return{default:e}}))),__vite__mapDeps([8,2,3,4,5,6,7])),a=yield s.loadHomepageManifest(),o=yield this.getCategories(),l={app_info:{app_name:"UgFlix Shop",app_version:"1.0.0",support_email:"support@ugflix.com",support_phone:"+256700000000"},categories:o.map((e=>({id:e.id,category:e.category,name:e.category,category_text:e.category_text,parent_id:e.parent_id,parent_text:e.parent_text,image:e.image,banner_image:e.banner_image,show_in_banner:e.show_in_banner,show_in_categories:e.show_in_categories,is_parent:e.is_parent,attributes:e.attributes,created_at:e.created_at,updated_at:e.updated_at}))),delivery_locations:[{id:1,name:"Kampala",delivery_fee:5e3},{id:2,name:"Entebbe",delivery_fee:8e3},{id:3,name:"Jinja",delivery_fee:12e3}],settings:{app_theme:"light",currency:"UGX",language:"en",notifications_enabled:!0},features:{shop_enabled:!0,movies_enabled:!0,job_seeker_enabled:!0,vendor_registration_enabled:!0},counts:{total_products:a.topProducts.length,total_categories:o.length,total_orders:0,total_users:0,total_vendors:0,active_vendors:0,total_delivery_locations:3,active_promotions:0,wishlist_count:0,cart_count:0,notifications_count:0,unread_messages_count:0,pending_orders:0,completed_orders:0,cancelled_orders:0,processing_orders:0,recent_orders_this_week:0,orders_today:0,orders_this_month:0},user:null,is_authenticated:!1,featured_products:a.topProducts,recent_products:[],recent_orders:[],recent_search_suggestions:[],wishlist:[],subscription:r||{has_active_subscription:!1,days_remaining:0,hours_remaining:0,is_in_grace_period:!1,subscription_status:"Unknown",end_date:null,require_subscription:!1}};return l.subscription&&"object"==typeof l.subscription||(l.subscription={has_active_subscription:!1,days_remaining:0,hours_remaining:0,is_in_grace_period:!1,subscription_status:"Error",end_date:null,require_subscription:!1}),l}catch(s){if((null==(r=s.message)?void 0:r.includes("Network Error"))||"ERR_NETWORK"===s.code){const{OfflineService:e}=yield qe((()=>y(this,null,(function*(){const{OfflineService:e}=yield import("./OfflineService-D1dDFv_v.js");return{OfflineService:e}}))),[]);return e.getDefaultManifest()}throw s}}))}static getMovieById(e){return y(this,null,(function*(){try{const t=yield ms(`movie/${e}`);if(!t||1!==t.code)throw new Error((null==t?void 0:t.message)||"Failed to load movie");return t.data}catch(t){throw t}}))}static saveVideoProgress(e){return y(this,null,(function*(){try{const t={movie_model_id:e.movie_id,progress:e.progress,max_progress:Math.max(e.progress,0),duration:e.duration,percentage:Math.round(e.progress/e.duration*100),device:e.device||"Unknown",platform:e.platform||"Web",browser:e.browser||"Unknown",status:e.progress/e.duration>=.9?"Completed":"Active",last_watched_at:(new Date).toISOString()},n=yield ps("video-progress",t);if(n&&1===n.code)return n.data;throw new Error((null==n?void 0:n.message)||"Failed to save video progress")}catch(t){return null}}))}static getVideoProgress(e){return y(this,null,(function*(){try{const t=yield ms(`video-progress/${e}`);return t&&1===t.code?t.data:null}catch(t){return null}}))}static getWatchHistory(e=1,t=100){return y(this,null,(function*(){try{const n=yield ms(`account/watch-history?page=${e}&limit=${t}`);return n&&1===n.code?n.data:{items:[],total:0,current_page:1,last_page:1,per_page:t}}catch(n){return{items:[],total:0,current_page:1,last_page:1,per_page:t}}}))}static deleteVideoProgress(e){return y(this,null,(function*(){try{const t=yield ps(`video-progress/${e}/delete`,{});return t&&1===t.code}catch(t){return!1}}))}static markVideoCompleted(e,t){return y(this,null,(function*(){return this.saveVideoProgress({movie_id:e,progress:.95*t,duration:t})}))}static liveSearch(e,t=10){return y(this,null,(function*(){try{const n=yield ms(`movies?search=${encodeURIComponent(e)}&per_page=${t}&live_search=1`);if(!n||1!==n.code)throw new Error("API request failed");const r=n.data||{},i=r.items||r.data||[],s=r.pagination||{},a=i.map((e=>na.fromJson({id:e.id,name:e.title||"",description:e.description||null,feature_photo:e.thumbnail_url||"",url:e.url||null,summary:`${e.type||"Movie"} • ${e.year||"N/A"} • ${e.vj||"Unknown VJ"}`,price_1:"0.00",price_2:"0.00",rating:e.rating||0,category_text:e.category||"",tags:JSON.stringify({genre:e.genre,year:e.year,type:e.type,vj:e.vj,actor:e.actor,is_premium:e.is_premium,category:e.category,thumbnail_url:e.thumbnail_url}),status:"Yes"===e.is_premium?2:1})));return{products:a,suggestions:i.map((e=>e.title)).filter((t=>t&&t.toLowerCase().includes(e.toLowerCase()))).slice(0,5),total:s.total||i.length,search_term:e}}catch(n){return{products:[],suggestions:[],total:0,search_term:e}}}))}static getSearchHistory(e=10){return y(this,null,(function*(){var t;try{const n=this.getOrCreateSessionId(),r=yield ms(`search-history?limit=${e}&session_id=${n}`);return(null==(t=null==r?void 0:r.data)?void 0:t.recent_searches)||[]}catch(n){return[]}}))}static clearSearchHistory(){return y(this,null,(function*(){try{const e=this.getOrCreateSessionId();return yield ps("search-history/clear",{session_id:e}),!0}catch(e){return!1}}))}static getOrCreateSessionId(){let e=localStorage.getItem("ugflix_session_id");return e||(e="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("ugflix_session_id",e)),e}static getSearchSuggestions(e){return y(this,null,(function*(){try{const t=yield ms(`search/suggestions?q=${encodeURIComponent(e)}`);return Array.isArray(t)?t:[]}catch(t){return[]}}))}static getFilterOptions(e){return y(this,null,(function*(){try{const t={};e&&(t.category=String(e));const n=yield ms(`filters?${new URLSearchParams(t).toString()}`);return(null==n?void 0:n.data)||{priceRanges:[],brands:[],colors:[],sizes:[]}}catch(t){return{priceRanges:[],brands:[],colors:[],sizes:[]}}}))}static addReview(e,t){return y(this,null,(function*(){try{const n=yield ps(`products/${e}/reviews`,t);return rs.success("Review submitted successfully"),n}catch(n){throw rs.error("Failed to submit review"),n}}))}static getProductReviews(e,t=1){return y(this,null,(function*(){try{return yield ms(`products/${e}/reviews?page=${t}`)}catch(n){return{data:[],total:0}}}))}static fetchUserProfile(){return y(this,null,(function*(){var e,t;try{const e=yield ms("me");if(1===(null==e?void 0:e.code)&&(null==e?void 0:e.data))return e.data;throw new Error((null==e?void 0:e.message)||"Failed to fetch user profile")}catch(n){const r=(null==(t=null==(e=null==n?void 0:n.response)?void 0:e.data)?void 0:t.message)||(null==n?void 0:n.message)||"Failed to fetch user profile";throw rs.error(r),n}}))}static updateProfile(e){return y(this,null,(function*(){var t,n;try{const t={first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number};e.email&&(t.email=e.email),e.dob&&(t.dob=e.dob),e.sex&&(t.sex=e.sex),e.intro&&(t.bio=e.intro),e.address&&(t.address=e.address);const n=yield ps("api/User",t);if(1===(null==n?void 0:n.code))return rs.success(n.message||"Profile updated successfully!"),n.data;throw new Error((null==n?void 0:n.message)||"Failed to update profile")}catch(r){const e=(null==(n=null==(t=null==r?void 0:r.response)?void 0:t.data)?void 0:n.message)||(null==r?void 0:r.message)||"Failed to update profile";throw rs.error(e),r}}))}static updateProfileComprehensive(e){return y(this,null,(function*(){var t,n;try{const t=yield ps("api/User",e);if(1===(null==t?void 0:t.code))return rs.success(t.message||"Profile updated successfully!"),t.data;throw new Error((null==t?void 0:t.message)||"Failed to update profile")}catch(r){const e=(null==(n=null==(t=null==r?void 0:r.response)?void 0:t.data)?void 0:n.message)||(null==r?void 0:r.message)||"Failed to update profile";throw rs.error(e),r}}))}static toggleMovieLike(e){return y(this,null,(function*(){var t,n,r,i,s,a;try{const t=yield ps("account/likes/toggle",{movie_id:e});if(1===(null==t?void 0:t.code)){const e=t.data;return"liked"===e.action?rs.success("Added to your liked movies! ❤️"):rs.info("Removed from liked movies"),{liked:e.liked,action:e.action,likes_count:e.likes_count,like_id:e.like_id}}throw new Error((null==t?void 0:t.message)||"Failed to toggle like")}catch(o){if(401===(null==(t=null==o?void 0:o.response)?void 0:t.status))throw rs.error("Please log in to like movies"),new Error("Authentication required");if(403===(null==(n=null==o?void 0:o.response)?void 0:n.status)){const e=(null==(i=null==(r=null==o?void 0:o.response)?void 0:r.data)?void 0:i.message)||"Guest users cannot like movies. Please create an account.";throw rs.warning(e),new Error(e)}const e=(null==(a=null==(s=null==o?void 0:o.response)?void 0:s.data)?void 0:a.message)||(null==o?void 0:o.message)||"Failed to toggle like";throw rs.error(e),o}}))}static getLikedMovies(e=1,t=20){return y(this,null,(function*(){var n,r,i;try{const n=yield ms("account/likes",{page:e,per_page:t});if(1===(null==n?void 0:n.code))return n.data;throw new Error((null==n?void 0:n.message)||"Failed to fetch liked movies")}catch(s){if(401===(null==(n=null==s?void 0:s.response)?void 0:n.status))throw rs.error("Please log in to view liked movies"),new Error("Authentication required");const e=(null==(i=null==(r=null==s?void 0:s.response)?void 0:r.data)?void 0:i.message)||(null==s?void 0:s.message)||"Failed to fetch liked movies";throw rs.error(e),s}}))}static toggleMovieWishlist(e){return y(this,null,(function*(){var t,n,r,i,s,a;try{const t=yield ps("account/wishlist/toggle",{movie_id:e});if(1===(null==t?void 0:t.code)){const e=t.data;return"added"===e.action?rs.success("Added to your wishlist! 📌"):rs.info("Removed from wishlist"),{wishlisted:e.wishlisted,action:e.action,wishlist_count:e.wishlist_count,wishlist_id:e.wishlist_id}}throw new Error((null==t?void 0:t.message)||"Failed to toggle wishlist")}catch(o){if(401===(null==(t=null==o?void 0:o.response)?void 0:t.status))throw rs.error("Please log in to add movies to wishlist"),new Error("Authentication required");if(403===(null==(n=null==o?void 0:o.response)?void 0:n.status)){const e=(null==(i=null==(r=null==o?void 0:o.response)?void 0:r.data)?void 0:i.message)||"Guest users cannot add to wishlist. Please create an account.";throw rs.warning(e),new Error(e)}const e=(null==(a=null==(s=null==o?void 0:o.response)?void 0:s.data)?void 0:a.message)||(null==o?void 0:o.message)||"Failed to toggle wishlist";throw rs.error(e),o}}))}static getWishlistedMovies(e=1,t=20){return y(this,null,(function*(){var n,r,i;try{const n=yield ms("account/wishlist",{page:e,per_page:t});if(1===(null==n?void 0:n.code))return n.data;throw new Error((null==n?void 0:n.message)||"Failed to fetch wishlisted movies")}catch(s){if(401===(null==(n=null==s?void 0:s.response)?void 0:n.status))throw rs.error("Please log in to view wishlist"),new Error("Authentication required");const e=(null==(i=null==(r=null==s?void 0:s.response)?void 0:r.data)?void 0:i.message)||(null==s?void 0:s.message)||"Failed to fetch wishlist";throw rs.error(e),s}}))}}const aa=Object.freeze(Object.defineProperty({__proto__:null,ApiService:sa,default:sa},Symbol.toStringTag,{value:"Module"})),oa=V("manifest/load",((e,t)=>y(void 0,[e,t],(function*(e,{rejectWithValue:t}){try{return yield sa.getManifest()}catch(n){return t(n.message||"Failed to load manifest")}})))),la=D({name:"manifest",initialState:{data:null,isLoading:!1,error:null,lastUpdated:null,initialized:!1},reducers:{updateCounts:(e,t)=>{e.data&&(e.data.counts=p(p({},e.data.counts),t.payload))},updateCartCount:(e,t)=>{e.data&&(e.data.counts.cart_count=t.payload)},incrementWishlistCount:e=>{e.data&&(e.data.counts.wishlist_count+=1)},decrementWishlistCount:e=>{e.data&&(e.data.counts.wishlist_count=Math.max(0,e.data.counts.wishlist_count-1))},updateUserInfo:(e,t)=>{e.data&&(e.data.user=t.payload,e.data.is_authenticated=!0)},clearUserInfo:e=>{e.data&&(e.data.user=null,e.data.is_authenticated=!1,e.data.counts.total_orders=0,e.data.counts.wishlist_count=0,e.data.counts.notifications_count=0,e.data.counts.unread_messages_count=0)},markAsInitialized:e=>{e.initialized=!0}},extraReducers:e=>{e.addCase(oa.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(oa.fulfilled,((e,t)=>{var n;e.isLoading=!1;const r=t.payload;if(!r||"object"!=typeof r)return e.error="Invalid manifest data received",void(e.initialized=!0);try{r.subscription&&"object"==typeof r.subscription||(r.subscription={has_active_subscription:!1,days_remaining:0,hours_remaining:0,is_in_grace_period:!1,subscription_status:"Unknown",end_date:null,require_subscription:!1}),r.featured_products&&Array.isArray(r.featured_products)&&(r.featured_products=r.featured_products.map((e=>e.toJSON?e.toJSON():e))),r.recent_products&&Array.isArray(r.recent_products)&&(r.recent_products=r.recent_products.map((e=>e.toJSON?e.toJSON():e))),r.wishlist&&Array.isArray(r.wishlist)&&(r.wishlist=r.wishlist.map((e=>e.toJSON?e.toJSON():e)));const t=m(p({},r),{is_authenticated:Boolean(null!=(n=r.is_authenticated)&&n),categories:Array.isArray(r.categories)?r.categories:[],delivery_locations:Array.isArray(r.delivery_locations)?r.delivery_locations:[],featured_products:Array.isArray(r.featured_products)?r.featured_products:[],recent_products:Array.isArray(r.recent_products)?r.recent_products:[],recent_orders:Array.isArray(r.recent_orders)?r.recent_orders:[],wishlist:Array.isArray(r.wishlist)?r.wishlist:[]});e.data=t,e.lastUpdated=Date.now(),e.initialized=!0,e.error=null}catch(i){e.error="Failed to process manifest data",e.initialized=!0}})).addCase(oa.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{updateCounts:ca,updateCartCount:da,incrementWishlistCount:ua,decrementWishlistCount:ha,updateUserInfo:pa,clearUserInfo:ma,markAsInitialized:fa}=la.actions,ga=e=>e.manifest.data,ya=e=>e.manifest.isLoading,va=e=>e.manifest.initialized,xa=e=>{var t;return(null==(t=e.manifest.data)?void 0:t.is_authenticated)||!1},ba=e=>{var t;return(null==(t=e.manifest.data)?void 0:t.subscription)||null},ja=la.reducer,wa=()=>{const e=F(),t=M.useRef(!1),n=B((e=>ga(e))),r=B((e=>ya(e))),i=B((e=>(e=>e.manifest.error)(e))),s=B((e=>va(e)));M.useEffect((()=>{t.current||(t.current=!0,s||r||e(oa()))}),[e,s,r]);return{manifest:n,isLoading:r,error:i,initialized:s,reloadManifest:()=>{e(oa())},updateManifestCartCount:t=>{e(da(t))}}},_a=()=>{const e=B((e=>ga(e)));return(null==e?void 0:e.categories)||[]},ka=()=>{const e=B((e=>ga(e)));return(null==e?void 0:e.delivery_locations)||[]},Sa=()=>{const e=B((e=>ga(e)));return(null==e?void 0:e.counts)||{total_products:0,total_categories:0,total_orders:0,total_users:0,total_vendors:0,active_vendors:0,total_delivery_locations:0,active_promotions:0,wishlist_count:0,cart_count:0,notifications_count:0,unread_messages_count:0,pending_orders:0,completed_orders:0,cancelled_orders:0,processing_orders:0,recent_orders_this_week:0,orders_today:0,orders_this_month:0,new_users_this_week:0,new_users_today:0,products_out_of_stock:0,low_stock_products:0,featured_products_count:0,total_revenue:0,revenue_this_month:0,average_order_value:0}},Na=class e{constructor(){g(this,"memoryCache",new Map),g(this,"stats",{hits:0,misses:0,hitRate:0,totalSize:0,itemCount:0,storageUsage:{localStorage:0,sessionStorage:0}}),this.initializeCache(),this.scheduleCleanup()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeCache(){try{const e=this.getMetadata();e&&e.version===Ri||(this.clearAll(),this.setMetadata({totalSize:0,itemCount:0,lastCleanup:Date.now(),version:Ri,createdAt:Date.now()})),this.updateStats()}catch(e){}}set(e,t,n,r="localStorage"){try{const i=Di[e],s=n||Fi[e]||Fi.PRODUCTS,a={data:t,timestamp:Date.now(),expiration:Date.now()+s,version:Ri,size:this.calculateSize(t),accessCount:0,lastAccessed:Date.now()};if(!this.hasStorageSpace(a.size,r)&&(this.cleanup(r),!this.hasStorageSpace(a.size,r)))return!1;const o=this.storeItem(i,a,r);return o&&(this.updateMetadata(a.size,1),this.updateStats()),o}catch(i){return!1}}get(e,t="localStorage"){try{const n=Di[e],r=this.getItem(n,t);return r?this.isExpired(r)?(this.delete(e,t),this.stats.misses++,this.updateHitRate(),null):(r.accessCount++,r.lastAccessed=Date.now(),this.storeItem(n,r,t),this.stats.hits++,this.updateHitRate(),r.data):(this.stats.misses++,this.updateHitRate(),null)}catch(n){return this.stats.misses++,this.updateHitRate(),null}}has(e,t="localStorage"){try{const n=Di[e],r=this.getItem(n,t);return null!==r&&!this.isExpired(r)}catch(n){return!1}}delete(e,t="localStorage"){try{const n=Di[e],r=this.getItem(n,t);return r&&this.updateMetadata(-r.size,-1),this.removeItem(n,t)}catch(n){return!1}}clearAll(){try{Object.values(Di).forEach((e=>{localStorage.removeItem(e),sessionStorage.removeItem(e)})),this.memoryCache.clear(),this.setMetadata({totalSize:0,itemCount:0,lastCleanup:Date.now(),version:Ri,createdAt:Date.now()}),this.stats={hits:0,misses:0,hitRate:0,totalSize:0,itemCount:0,storageUsage:{localStorage:0,sessionStorage:0}}}catch(e){}}getStats(){return this.updateStats(),p({},this.stats)}isExpired(e){return Date.now()>e.expiration}storeItem(e,t,n){try{const r=JSON.stringify(t);switch(n){case"localStorage":return localStorage.setItem(e,r),!0;case"sessionStorage":return sessionStorage.setItem(e,r),!0;case"memory":return this.memoryCache.set(e,t),!0;default:return!1}}catch(r){return!1}}getItem(e,t){try{let n=null;switch(t){case"localStorage":n=localStorage.getItem(e);break;case"sessionStorage":n=sessionStorage.getItem(e);break;case"memory":return this.memoryCache.get(e)||null}return n?JSON.parse(n):null}catch(n){return null}}removeItem(e,t){try{switch(t){case"localStorage":return localStorage.removeItem(e),!0;case"sessionStorage":return sessionStorage.removeItem(e),!0;case"memory":return this.memoryCache.delete(e);default:return!1}}catch(n){return!1}}calculateSize(e){try{return new Blob([JSON.stringify(e)]).size}catch(t){return 2*JSON.stringify(e).length}}hasStorageSpace(e,t){if("memory"===t)return this.stats.totalSize+e<=Bi;try{const n="__cache_test__",r="x".repeat(e);return"localStorage"===t?(localStorage.setItem(n,r),localStorage.removeItem(n)):(sessionStorage.setItem(n,r),sessionStorage.removeItem(n)),!0}catch(n){return!1}}cleanup(e){try{let t=0,n=0;(e?[e]:["localStorage","sessionStorage","memory"]).forEach((e=>{"memory"===e?this.memoryCache.forEach(((e,r)=>{this.isExpired(e)&&(n+=e.size,this.memoryCache.delete(r),t++)})):Object.values(Di).forEach((r=>{const i=this.getItem(r,e);i&&this.isExpired(i)&&(n+=i.size,this.removeItem(r,e),t++)}))})),t>0&&(this.updateMetadata(-n,-t),this.updateStats());const r=this.getMetadata();r&&(r.lastCleanup=Date.now(),this.setMetadata(r))}catch(t){}}scheduleCleanup(){"undefined"!=typeof window&&setInterval((()=>{this.cleanup()}),Vi)}updateStats(){try{let e=0,t=0;Object.values(Di).forEach((n=>{const r=this.getItem(n,"localStorage");r&&!this.isExpired(r)&&(e+=r.size,t++)})),Object.values(Di).forEach((n=>{const r=this.getItem(n,"sessionStorage");r&&!this.isExpired(r)&&(e+=r.size,t++)})),this.memoryCache.forEach((n=>{this.isExpired(n)||(e+=n.size,t++)})),this.stats.totalSize=e,this.stats.itemCount=t,this.updateHitRate()}catch(e){}}updateHitRate(){const e=this.stats.hits+this.stats.misses;this.stats.hitRate=e>0?this.stats.hits/e*100:0}getMetadata(){try{const e=localStorage.getItem(Mi);return e?JSON.parse(e):null}catch(e){return null}}setMetadata(e){try{localStorage.setItem(Mi,JSON.stringify(e))}catch(t){}}updateMetadata(e,t){try{const n=this.getMetadata()||{totalSize:0,itemCount:0,lastCleanup:Date.now(),version:Ri,createdAt:Date.now()};n.totalSize=Math.max(0,n.totalSize+e),n.itemCount=Math.max(0,n.itemCount+t),this.setMetadata(n)}catch(n){}}};g(Na,"instance");let Ta=Na;const Pa=Ta.getInstance();class Ca{static getWithFallback(e,t){return y(this,arguments,(function*(e,t,n={}){const{storageType:r="localStorage",customDuration:i,skipCache:s=!1,validateData:a}=n;try{if(!s){const t=Pa.get(e,r);if(null!==t){if(!a||a(t))return t;Pa.delete(e,r)}}const n=yield t();if(a&&!a(n))throw new Error(`Fresh data validation failed for ${e}`);return Pa.set(e,n,i,r),n}catch(o){throw o}}))}static preload(e,t){return y(this,arguments,(function*(e,t,n={}){const{storageType:r="localStorage",customDuration:i,force:s=!1}=n;try{if(!s&&Pa.has(e,r))return!0;const n=yield t();return Pa.set(e,n,i,r)}catch(a){return!1}}))}static refreshInBackground(e,t){return y(this,arguments,(function*(e,t,n={}){const{storageType:r="localStorage",customDuration:i,onSuccess:s,onError:a}=n;setTimeout((()=>y(this,null,(function*(){try{const n=yield t();Pa.set(e,n,i,r)&&s&&s(n)}catch(n){a&&a(n)}}))),0)}))}static setBatch(e){return e.map((e=>Pa.set(e.key,e.data,e.duration,e.storageType||"localStorage")))}static getBatch(e){return e.map((e=>Pa.get(e.key,e.storageType||"localStorage")))}static invalidatePattern(e,t){let n=0;try{Object.entries(Di).forEach((([r,i])=>{if(r.includes(e)){const e=r;Pa.delete(e,t||"localStorage")&&n++}}))}catch(r){}return n}static warmUpCache(e){return y(this,null,(function*(){const t={high:0,medium:1,low:2},n=e.sort(((e,n)=>t[e.priority]-t[n.priority])),r=n.filter((e=>"high"===e.priority));yield Promise.all(r.map((e=>this.preload(e.key,e.dataFn,{storageType:e.storageType}))));const i=n.filter((e=>"medium"===e.priority));yield Promise.all(i.map((e=>this.preload(e.key,e.dataFn,{storageType:e.storageType}))));const s=n.filter((e=>"low"===e.priority));setTimeout((()=>{Promise.all(s.map((e=>this.preload(e.key,e.dataFn,{storageType:e.storageType}))))}),100)}))}static getCacheHealth(){const e=Pa.getStats(),t=[];let n="healthy";return e.hitRate<30&&(t.push("Low cache hit rate (< 30%)"),n="warning"),e.totalSize>41943040&&(t.push("High storage usage (> 40MB)"),n="warning"),e.hitRate<10&&(n="critical"),{status:n,issues:t,stats:e}}}g(Ca,"validators",{categories:e=>!(!Array.isArray(e)||0===e.length)&&e.every((e=>e&&("number"==typeof e.id||"string"==typeof e.id)&&"string"==typeof e.category&&e.category.length>0)),products:e=>Array.isArray(e)?e.every((e=>e&&("number"==typeof e.id||"string"==typeof e.id)&&"string"==typeof e.name)):e&&("number"==typeof e.id||"string"==typeof e.id)&&"string"==typeof e.name,manifest:e=>e&&"object"==typeof e&&"string"==typeof e.app_name,vendors:e=>!!Array.isArray(e)&&e.every((e=>e&&("number"==typeof e.id||"string"==typeof e.id)&&"string"==typeof e.name))});class Ea{static getCategories(){return y(this,null,(function*(){return Ca.getWithFallback("CATEGORIES",(()=>sa.getCategories()),{storageType:"localStorage",validateData:Ca.validators.categories})}))}static getBannerCategories(){return y(this,null,(function*(){return Ca.getWithFallback("BANNER_CATEGORIES",(()=>sa.getBannerCategories()),{storageType:"localStorage",validateData:Ca.validators.categories})}))}static getNavigationCategories(){return y(this,null,(function*(){return Ca.getWithFallback("CATEGORIES",(()=>y(this,null,(function*(){return(yield sa.getCategories()).filter((e=>e.isShownInCategories()&&!e.isParentCategory()))}))),{storageType:"localStorage",validateData:Ca.validators.categories})}))}static getCategory(e){return y(this,null,(function*(){const t=yield sa.getCategory(e);return Ca.refreshInBackground("CATEGORIES",(()=>sa.getCategories()),{storageType:"localStorage"}),t}))}static getManifest(){return y(this,null,(function*(){return Ca.getWithFallback("MANIFEST",(()=>sa.getManifest()),{storageType:"localStorage",validateData:Ca.validators.manifest})}))}static getProducts(){return y(this,arguments,(function*(e={}){try{return!(e.search||e.min_price||e.max_price||1!==(e.page||1)||e.sort_by)&&e.category?Ca.getWithFallback("PRODUCTS",(()=>sa.getProducts(e)),{storageType:"sessionStorage",customDuration:72e5,validateData:e=>e&&Array.isArray(e.data)}):sa.getProducts(e)}catch(t){return sa.getProducts(e)}}))}static getProductsByCategory(e){return y(this,arguments,(function*(e,t=1,n={}){return 1===t&&0===Object.keys(n).length?Ca.getWithFallback("PRODUCTS",(()=>sa.getProductsByCategory(e,t,n)),{storageType:"sessionStorage",customDuration:72e5,validateData:e=>e&&Array.isArray(e.data)}):sa.getProductsByCategory(e,t,n)}))}static getProduct(e){return y(this,null,(function*(){try{return yield sa.getProduct(e)}catch(t){throw t}}))}static searchProducts(e){return y(this,arguments,(function*(e,t=1,n={}){return sa.searchProducts(e,t,n)}))}static getVendors(){return y(this,null,(function*(){return[]}))}static getActiveVendors(){return y(this,null,(function*(){return[]}))}static getVendor(e){return y(this,null,(function*(){return sa.getVendor(e)}))}static liveSearch(e,t=10){return y(this,null,(function*(){return sa.liveSearch(e,t)}))}static addToCart(e,t=1,n){return y(this,null,(function*(){return sa.addToCart(e,t,n)}))}static getCartItems(){return y(this,null,(function*(){return sa.getCartItems()}))}static updateCartItem(e,t,n){return y(this,null,(function*(){return sa.updateCartItem(e,t,n)}))}static removeFromCart(e,t){return y(this,null,(function*(){return sa.removeFromCart(e,t)}))}static clearCart(){return y(this,null,(function*(){return sa.clearCart()}))}static addToWishlist(e){return y(this,null,(function*(){return sa.addToWishlist(e)}))}static removeFromWishlist(e){return y(this,null,(function*(){return sa.removeFromWishlist(e)}))}static getWishlist(){return y(this,null,(function*(){return sa.getWishlist()}))}static checkWishlist(e){return y(this,null,(function*(){return sa.checkWishlist(e)}))}static getUserOrders(e=1){return y(this,null,(function*(){return sa.getUserOrders(e)}))}static getOrder(e){return y(this,null,(function*(){return sa.getOrder(e)}))}static createOrder(e){return y(this,null,(function*(){return sa.createOrder(e)}))}static updateOrderStatus(e,t){return y(this,null,(function*(){return sa.updateOrderStatus(e,t)}))}static addReview(e,t){return y(this,null,(function*(){return sa.addReview(e,t)}))}static getProductReviews(e,t=1){return y(this,null,(function*(){return sa.getProductReviews(e,t)}))}static clearSearchHistory(){return y(this,null,(function*(){return sa.clearSearchHistory()}))}static updateProfile(e){return y(this,null,(function*(){return sa.updateProfile(e)}))}static preloadEssentialData(){return y(this,null,(function*(){try{if(!(yield this.checkServerHealth()))return;yield Ca.warmUpCache([{key:"CATEGORIES",dataFn:()=>y(this,null,(function*(){try{return yield sa.getCategories()}catch(e){return[]}})),priority:"high",storageType:"localStorage"},{key:"MANIFEST",dataFn:()=>y(this,null,(function*(){try{return yield sa.getManifest()}catch(e){return{lists:[],genres:[],vj:[]}}})),priority:"high",storageType:"localStorage"}])}catch(e){}}))}static checkServerHealth(){return y(this,null,(function*(){try{const{http_get:e}=yield qe((()=>y(this,null,(function*(){const{http_get:e}=yield Promise.resolve().then((()=>gs));return{http_get:e}}))),void 0);return yield e("chat-heads"),!0}catch(e){return!1}}))}static refreshBackgroundData(){return y(this,null,(function*(){Ca.refreshInBackground("CATEGORIES",(()=>sa.getCategories()),{storageType:"localStorage"}),Ca.refreshInBackground("MANIFEST",(()=>sa.getManifest()),{storageType:"localStorage"})}))}static forceRefresh(e){return y(this,null,(function*(){switch(e){case"categories":yield Ca.getWithFallback("CATEGORIES",(()=>sa.getCategories()),{skipCache:!0,storageType:"localStorage"});break;case"manifest":yield Ca.getWithFallback("MANIFEST",(()=>sa.getManifest()),{skipCache:!0,storageType:"localStorage"});break;case"all":yield Promise.all([this.forceRefresh("categories"),this.forceRefresh("manifest")])}}))}}const Oa=({placeholder:e="Search for products, brands, categories...",className:t="",size:n,showRecentSearches:r=!0,onProductSelect:i,onSearchSubmit:s})=>{const[a,o]=M.useState(""),[l,c]=M.useState(!1),[d,u]=M.useState(!1),[h,p]=M.useState(null),[m,f]=M.useState([]),g=ve(),v=M.useRef(null),x=M.useRef(null),{manifest:b}=wa();M.useEffect((()=>{const e="live-search-box-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent="\n  /* Live  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setQuery(value);\n\n    if (value.trim().length === 0) {\n      setSearchResults(null);\n      setShowDropdown(showRecentSearches && recentSearches.length > 0);\n    } else {\n      setShowDropdown(true);\n      debouncedSearch(value);\n    }\n  };ht Mode Minimalistic */\n  .live-search-box {\n    position: relative;\n    width: 100%;\n  }\n\n  .live-search-box .search-form {\n    margin: 0;\n  }\n\n  .live-search-box .search-input-wrapper {\n    width: 100%;\n  }\n\n  .live-search-box .search-input-group {\n    display: flex;\n    align-items: stretch;\n    border: 1px solid var(--ugflix-border-color, #2a2a2a);\n    border-radius: 3px;\n    overflow: hidden;\n    background: var(--ugflix-bg-secondary, #1a1a1a);\n    transition: all 0.2s ease;\n    height: 32px;\n  }\n\n  .live-search-box .search-input-group:focus-within {\n    border-color: var(--ugflix-primary, #ff6b35);\n    box-shadow: 0 0 0 1px rgba(255, 107, 53, 0.2);\n  }\n\n  .live-search-box .search-input-group-sm {\n    height: 28px;\n    width: 20px!important;\n  }\n\n  .live-search-box .search-input-group-lg {\n    height: 36px;\n  }\n\n  .live-search-box .search-input {\n    flex: 1;\n    border: none;\n    outline: none;\n    background: transparent;\n    padding: 0 8px;\n    font-size: 13px;\n    color: var(--ugflix-text-primary, #ffffff);\n    height: 100%;\n  }\n\n  .live-search-box .search-input::placeholder {\n    color: var(--ugflix-text-secondary, #cccccc);\n  }\n\n  .live-search-box .btn-search {\n    background: var(--ugflix-primary, #ff6b35);\n    color: var(--ugflix-text-primary, #ffffff);\n    border: none;\n    width: 32px !important; /* Compact width for both mobile and desktop */\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.2s ease;\n    cursor: pointer;\n    padding: 0;\n    margin: 0;\n    flex-shrink: 0;\n    border-radius: 0;\n  }\n\n  .live-search-box .btn-search:hover {\n    background: var(--ugflix-primary-hover, #e55a2b);\n  }\n\n  .live-search-box .btn-search:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  .live-search-box .btn-search svg {\n    width: 16px;\n    height: 16px;\n    transition: all 0.2s ease;\n    stroke-width: 2.5;\n    flex-shrink: 0;\n  }\n\n  .live-search-box .btn-search:hover svg {\n    transform: scale(1.05);\n  }\n\n  .live-search-box .btn-search i {\n    font-size: 14px; /* Slightly larger for better visibility */\n    line-height: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  /* Movie search result styling */\n  .live-search-box .livesearch-product-info small {\n    font-size: 11px;\n    margin-top: 2px;\n  }\n\n  .live-search-box .livesearch-item-action.bi-play-circle {\n    color: var(--ugflix-primary, #ff6b35);\n    font-size: 18px;\n  }\n\n  /* Search Dropdown - Ultra Compact with Solid Black Background */\n  .livesearch-dropdown {\n    position: absolute !important;\n    top: calc(100% + 1px) !important;\n    left: 0 !important;\n    right: 0 !important;\n    background: #0a0a0a !important;\n    border: 1px solid #ff6b35 !important;\n    border-radius: 4px !important;\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.9) !important;\n    z-index: 9999 !important;\n    max-height: 260px !important;\n    overflow-y: auto !important;\n    animation: slideDown 0.15s ease-out !important;\n    display: block !important;\n    visibility: visible !important;\n    opacity: 1 !important;\n    backdrop-filter: blur(10px) !important;\n  }\n\n  @keyframes slideDown {\n    from {\n      opacity: 0;\n      transform: translateY(-4px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .livesearch-dropdown-section {\n    border-bottom: 1px solid var(--ugflix-border-color, #2a2a2a);\n  }\n\n  .livesearch-dropdown-section:last-child {\n    border-bottom: none;\n  }\n\n  .livesearch-dropdown-header {\n    display: flex;\n    align-items: center;\n    gap: 3px;\n    padding: 6px 10px 4px;\n    font-size: 10px;\n    font-weight: 600;\n    color: #ffffff;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    background: rgba(255, 107, 53, 0.1);\n    border-bottom: 1px solid rgba(255, 107, 53, 0.3);\n  }\n\n  .livesearch-dropdown-header i {\n    font-size: 10px;\n    color: #ff6b35;\n  }\n\n  .livesearch-dropdown-item {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    padding: 8px 10px;\n    cursor: pointer;\n    transition: all 0.15s ease;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    position: relative;\n    background: transparent;\n  }\n\n  .livesearch-dropdown-item:last-child {\n    border-bottom: none;\n  }\n\n  .livesearch-dropdown-item:hover {\n    background: rgba(255, 107, 53, 0.2);\n    border-left: 3px solid #ff6b35;\n    padding-left: 7px;\n  }\n\n  .livesearch-dropdown-item i {\n    color: #ffffff;\n    font-size: 12px;\n    flex-shrink: 0;\n    opacity: 0.7;\n  }\n\n  .livesearch-dropdown-item span {\n    flex: 1;\n    font-size: 13px;\n    color: #ffffff;\n    font-weight: 400;\n  }\n\n  .livesearch-item-action {\n    opacity: 0.5;\n    transition: all 0.15s ease;\n    color: #ffffff;\n    font-size: 11px;\n  }\n\n  .livesearch-dropdown-item:hover .livesearch-item-action {\n    opacity: 1;\n    color: #ff6b35;\n    transform: scale(1.1);\n  }\n\n  /* Product Items - Ultra Compact */\n  .livesearch-dropdown-item.livesearch-product-item {\n    align-items: flex-start;\n    padding: 5px 8px;\n    gap: 6px;\n  }\n\n  .livesearch-product-image {\n    width: 40px;\n    height: 56px;\n    border-radius: 4px;\n    overflow: hidden;\n    flex-shrink: 0;\n    background: var(--ugflix-bg-tertiary, #2a2a2a);\n    border: 1px solid var(--ugflix-border-color, #404040);\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .image-shimmer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(\n      90deg,\n      transparent 0%,\n      rgba(255, 255, 255, 0.1) 50%,\n      transparent 100%\n    );\n    animation: shimmer 2s infinite;\n    pointer-events: none;\n  }\n\n  @keyframes shimmer {\n    0% {\n      transform: translateX(-100%);\n    }\n    100% {\n      transform: translateX(100%);\n    }\n  }\n\n  .livesearch-product-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 1px;\n    min-width: 0;\n  }\n\n  .livesearch-product-name {\n    font-size: 12px;\n    font-weight: 500;\n    color: #ffffff;\n    line-height: 1.2;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 100%;\n  }\n\n  .livesearch-product-price {\n    font-size: 10px;\n    font-weight: 600;\n    color: #ff6b35;\n  }\n\n  /* Loading State */\n  .livesearch-dropdown-loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n    color: #ffffff;\n    font-size: 13px;\n    gap: 8px;\n  }\n\n  /* No Results */\n  .livesearch-no-results {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 8px;\n    padding: 24px;\n    text-align: center;\n    color: #ffffff;\n  }\n\n  .livesearch-no-results i {\n    font-size: 32px;\n    opacity: 0.3;\n    color: #ff6b35;\n  }\n\n  .livesearch-no-results span {\n    font-size: 13px;\n    opacity: 0.8;\n  }\n\n  /* Footer */\n  .livesearch-dropdown-footer {\n    padding: 10px 12px;\n    text-align: center;\n    background: rgba(255, 107, 53, 0.05);\n    border-top: 1px solid rgba(255, 107, 53, 0.2);\n  }\n\n  .livesearch-dropdown-footer .btn-link {\n    color: #ff6b35;\n    text-decoration: none;\n    font-size: 12px;\n    font-weight: 600;\n    transition: all 0.15s ease;\n  }\n\n  .livesearch-dropdown-footer .btn-link:hover {\n    color: #ffffff;\n    text-decoration: none;\n    transform: scale(1.05);\n  }\n\n  /* Responsive - Mobile Ultra Compact */\n  @media (max-width: 576px) {\n    .livesearch-dropdown {\n      max-height: 300px;\n      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.95) !important;\n      border-width: 2px !important;\n    }\n    \n    .livesearch-dropdown-item {\n      padding: 10px 12px;\n    }\n    \n    .livesearch-dropdown-item.livesearch-product-item {\n      padding: 10px 12px;\n      gap: 8px;\n    }\n    \n    .livesearch-product-image {\n      width: 40px;\n      height: 56px;\n    }\n    \n    .livesearch-product-name {\n      font-size: 12px;\n      line-height: 1.2;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    \n    .livesearch-product-price {\n      font-size: 10px;\n    }\n    \n    .livesearch-dropdown-header {\n      padding: 8px 12px 6px;\n      font-size: 10px;\n    }\n\n    .live-search-box .search-input {\n      padding: 0 8px;\n      font-size: 13px;\n    }\n\n    .live-search-box .search-input-group {\n      height: 32px;\n    }\n\n    .live-search-box .btn-search {\n      width: 36px;\n      flex-shrink: 0;\n    }\n\n    .live-search-box .btn-search i {\n      font-size: 14px;\n    }\n  }\n",document.head.appendChild(t)}}),[]),M.useEffect((()=>{r&&b&&y(void 0,null,(function*(){try{const e=(null==b?void 0:b.recent_search_suggestions)||[];f(e)}catch(e){}}))}),[b,r]);const j=M.useCallback(((e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e(...r)),t)}})((e=>y(void 0,null,(function*(){if(e.trim().length<2)return p(null),void c(!1);try{c(!0);const t=yield Ea.liveSearch(e,6);p(t),u(!0)}catch(t){p(null)}finally{c(!1)}}))),300),[]),S=e=>{u(!1),o(e),s?s(e):g(`/movies?search=${encodeURIComponent(e)}`)},N=e=>{S(e)};return w.jsx("div",{className:`live-search-box ${t}`,children:w.jsx(_,{onSubmit:e=>{e.preventDefault(),a.trim()&&S(a.trim())},className:"search-form",children:w.jsxs("div",{className:"search-input-wrapper position-relative",children:[w.jsxs("div",{className:"search-input-group "+(n?`search-input-group-${n}`:""),children:[w.jsx("input",{ref:v,type:"search",className:"search-input form-control",placeholder:e,value:a,onChange:e=>{const t=e.target.value;o(t),0===t.trim().length?(p(null),u(r&&m.length>0)):(u(!0),j(t))},onFocus:()=>{(0===a.trim().length&&r&&m.length>0||a.trim().length>=2)&&u(!0)},onBlur:e=>{setTimeout((()=>{var t;(null==(t=x.current)?void 0:t.contains(e.relatedTarget))||u(!1)}),200)},autoComplete:"off"}),w.jsx("button",{className:"btn btn-search",type:"submit",disabled:!a.trim(),"aria-label":"Search",children:l?w.jsx(k,{animation:"border",size:"sm"}):w.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("circle",{cx:"11",cy:"11",r:"8"}),w.jsx("path",{d:"m21 21-4.35-4.35"})]})})]}),(d&&setTimeout((()=>{const e=document.querySelector(".livesearch-dropdown");e&&window.getComputedStyle(e)}),100),null),d&&w.jsxs("div",{ref:x,className:"livesearch-dropdown",onMouseDown:e=>e.preventDefault(),style:{position:"absolute",top:"calc(100% + 2px)",left:"0",right:"0",backgroundColor:"#1a1a1a",border:"2px solid #ff6b35",borderRadius:"4px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",zIndex:99999,maxHeight:"400px",overflowY:"auto",display:"block",visibility:"visible",opacity:1,minHeight:"50px"},children:[l&&w.jsx("div",{className:"livesearch-dropdown-section",children:w.jsxs("div",{className:"livesearch-dropdown-loading",children:[w.jsx(k,{animation:"border",size:"sm"}),w.jsx("span",{className:"ms-2",children:"Searching..."})]})}),h&&!l&&w.jsxs(w.Fragment,{children:[h.products.length>0&&w.jsxs("div",{className:"livesearch-dropdown-section",children:[w.jsxs("div",{className:"livesearch-dropdown-header",children:[w.jsx("i",{className:"bi bi-film"}),w.jsx("span",{children:"Movies & Series"})]}),h.products.map((e=>{let t;try{t=JSON.parse(e.tags||"{}")}catch(n){t={}}return w.jsxs("div",{className:"livesearch-dropdown-item livesearch-product-item",onClick:()=>(e=>{var t;if(u(!1),i)i(e);else{let r=!1;try{const t=JSON.parse(e.tags||"{}");r=t.genre||t.vj||t.type}catch(n){r=(null==(t=e.summary)?void 0:t.includes("•"))||!1}g(r?`/movies/${e.id}`:`/product/${e.id}`)}})(e),children:[w.jsx("div",{className:"livesearch-product-image",style:{backgroundImage:`url(${e.feature_photo||"/placeholder-image.jpg"})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:w.jsx("div",{className:"image-shimmer"})}),w.jsxs("div",{className:"livesearch-product-info",children:[w.jsx("div",{className:"livesearch-product-name",children:e.name}),w.jsx("div",{className:"livesearch-product-price",children:e.summary&&w.jsx("small",{className:"text-muted d-block",children:e.summary})})]}),w.jsx("i",{className:"bi bi-play-circle livesearch-item-action"})]},e.id)})),h.total>h.products.length&&w.jsx("div",{className:"livesearch-dropdown-footer",children:w.jsxs("button",{className:"btn btn-link btn-sm",onClick:()=>S(a),children:["View all ",h.total," results"]})})]}),h.suggestions.length>0&&w.jsxs("div",{className:"livesearch-dropdown-section",children:[w.jsxs("div",{className:"livesearch-dropdown-header",children:[w.jsx("i",{className:"bi bi-search"}),w.jsx("span",{children:"Suggestions"})]}),h.suggestions.map(((e,t)=>w.jsxs("div",{className:"livesearch-dropdown-item",onClick:()=>N(e),children:[w.jsx("i",{className:"bi bi-search"}),w.jsx("span",{children:e}),w.jsx("i",{className:"bi bi-arrow-up-left livesearch-item-action"})]},t)))]}),0===h.products.length&&0===h.suggestions.length&&w.jsx("div",{className:"livesearch-dropdown-section",children:w.jsxs("div",{className:"livesearch-no-results",children:[w.jsx("i",{className:"bi bi-search"}),w.jsxs("span",{children:['No results found for "',a,'"']}),w.jsx("button",{className:"btn btn-link btn-sm",onClick:()=>S(a),children:"Search anyway"})]})})]}),!h&&!l&&r&&m.length>0&&w.jsxs("div",{className:"livesearch-dropdown-section",children:[w.jsxs("div",{className:"livesearch-dropdown-header",children:[w.jsx("i",{className:"bi bi-clock-history"}),w.jsx("span",{children:"Recent Searches"}),w.jsx("button",{className:"btn btn-link btn-sm ms-auto",onClick:()=>y(void 0,null,(function*(){try{yield Ea.clearSearchHistory(),f([])}catch(e){}})),children:"Clear"})]}),m.map(((e,t)=>w.jsxs("div",{className:"livesearch-dropdown-item",onClick:()=>N(e),children:[w.jsx("i",{className:"bi bi-clock"}),w.jsx("span",{children:e}),w.jsx("i",{className:"bi bi-arrow-up-left livesearch-item-action"})]},t)))]})]})]})})})};var Aa={exports:{}};(()=>{var e={296:(e,t,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),u=Object.prototype.toString,h=Math.max,p=Math.min,m=function(){return d.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==u.call(t))return NaN;var t;if(f(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=f(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var l=s.test(e);return l||a.test(e)?o(e.slice(2),l?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,a,o,l,c=0,d=!1,u=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,s=i;return r=i=void 0,c=t,a=e.apply(s,n)}function x(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=s}function b(){var e,n,r=m();if(x(r))return j(r);o=setTimeout(b,(n=t-((e=r)-l),u?p(n,s-(e-c)):n))}function j(e){return o=void 0,y&&r?v(e):(r=i=void 0,a)}function w(){var e,n=m(),s=x(n);if(r=arguments,i=this,l=n,s){if(void 0===o)return c=e=l,o=setTimeout(b,t),d?v(e):a;if(u)return o=setTimeout(b,t),v(l)}return void 0===o&&(o=setTimeout(b,t)),a}return t=g(t)||0,f(n)&&(d=!!n.leading,s=(u="maxWait"in n)?h(g(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=i=o=void 0},w.flush=function(){return void 0===o?a:j(m())},w}},96:(e,t,n)=>{var r="Expected a function",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==h.call(t))return NaN;var t;if(g(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=a.test(e);return r||o.test(e)?l(e.slice(2),r?2:8):s.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),function(e,t,n){var i,s,a,o,l,c,d=0,u=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function x(t){var n=i,r=s;return i=s=void 0,d=t,o=e.apply(r,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-d>=a}function j(){var e,n,r=f();if(b(r))return w(r);l=setTimeout(j,(n=t-((e=r)-c),h?m(n,a-(e-d)):n))}function w(e){return l=void 0,v&&i?x(e):(i=s=void 0,o)}function _(){var e,n=f(),r=b(n);if(i=arguments,s=this,c=n,r){if(void 0===l)return d=e=c,l=setTimeout(j,t),u?x(e):o;if(h)return l=setTimeout(j,t),x(c)}return void 0===l&&(l=setTimeout(j,t)),o}return t=y(t)||0,g(n)&&(u=!!n.leading,a=(h="maxWait"in n)?p(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==l&&clearTimeout(l),d=0,i=c=s=l=void 0},_.flush=function(){return void 0===l?o:w(f())},_}(e,t,{leading:i,maxWait:t,trailing:s})}},703:(e,t,n)=>{var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>q,LazyLoadImage:()=>ee,trackWindowScroll:()=>O});const e=M;var t=n.n(e),i=n(697);function s(){return"undefined"!=typeof window&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e){if("object"!==a(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){e.forEach((function(e){e.isIntersecting&&e.target.onVisible()}))},p={},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(g,e);var n,r,i,m,f=(i=g,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(i);if(m){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function g(e){var t,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=f.call(this,e)).supportsObserver=!e.scrollPosition&&e.useIntersectionObserver&&s(),t.supportsObserver){var r=e.threshold;t.observer=(p[n=r]=p[n]||new IntersectionObserver(h,{rootMargin:n+"px"}),p[n])}return t}return n=g,r=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollPosition,t=this.placeholder.getBoundingClientRect(),n=this.placeholder.style,r=parseInt(n.getPropertyValue("margin-left"),10)||0,i=parseInt(n.getPropertyValue("margin-top"),10)||0;return{bottom:e.y+t.bottom+i,left:e.x+t.left+r,right:e.x+t.right+r,top:e.y+t.top+i}}},{key:"isPlaceholderInViewport",value:function(){if("undefined"==typeof window||!this.placeholder)return!1;var e=this.props,t=e.scrollPosition,n=e.threshold,r=this.getPlaceholderBoundingBox(t),i=t.y+window.innerHeight,s=t.x,a=t.x+window.innerWidth,o=t.y;return Boolean(o-n<=r.bottom&&i+n>=r.top&&s-n<=r.right&&a+n>=r.left)}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var e=this,n=this.props,r=n.className,i=n.height,s=n.placeholder,a=n.style,c=n.width;if(s&&"function"!=typeof s.type)return t().cloneElement(s,{ref:function(t){return e.placeholder=t}});var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({display:"inline-block"},a);return void 0!==c&&(d.width=c),void 0!==i&&(d.height=i),t().createElement("span",{className:r,ref:function(t){return e.placeholder=t},style:d},s)}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),g}(t().Component);m.propTypes={onVisible:i.PropTypes.func.isRequired,className:i.PropTypes.string,height:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),placeholder:i.PropTypes.element,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,scrollPosition:i.PropTypes.shape({x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired}),width:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string])},m.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const f=m;var g=n(296),y=n.n(g),v=n(96),x=n.n(v),b=function(e){var t=getComputedStyle(e,null);return t.getPropertyValue("overflow")+t.getPropertyValue("overflow-y")+t.getPropertyValue("overflow-x")};const j=function(e){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t instanceof HTMLElement;){if(/(scroll|auto)/.test(b(t)))return t;t=t.parentNode}return window};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["delayMethod","delayTime"];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(){return"undefined"==typeof window?0:window.scrollX||window.pageXOffset},E=function(){return"undefined"==typeof window?0:window.scrollY||window.pageYOffset};const O=function(e){var n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,n);var r,i,a,o,l=(a=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(a);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function c(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=l.call(this,e)).useIntersectionObserver=e.useIntersectionObserver&&s(),n.useIntersectionObserver)return N(n);var r=n.onChangeScroll.bind(T(n));return"debounce"===e.delayMethod?n.delayedScroll=y()(r,e.delayTime):"throttle"===e.delayMethod&&(n.delayedScroll=x()(r,e.delayTime)),n.state={scrollPosition:{x:C(),y:E()}},n.baseComponentRef=t().createRef(),n}return r=c,(i=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){"undefined"==typeof window||this.useIntersectionObserver||j(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){"undefined"==typeof window||this.useIntersectionObserver||(this.scrollElement=j(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){"undefined"==typeof window||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:C(),y:E()}})}},{key:"render",value:function(){var n=this.props,r=(n.delayMethod,n.delayTime,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,_)),i=this.useIntersectionObserver?null:this.state.scrollPosition;return t().createElement(e,k({forwardRef:this.baseComponentRef,scrollPosition:i},r))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==w(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===w(i)?i:String(i)),r)}var i}(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);return n.propTypes={delayMethod:i.PropTypes.oneOf(["debounce","throttle"]),delayTime:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool},n.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},n};function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(o,e);var n,r,i,s,a=(i=o,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(i);if(s){var n=z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,e)}return n=o,(r=[{key:"render",value:function(){return t().createElement(f,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==A(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===A(i)?i:String(i)),r)}var i}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),o}(t().Component);const L=O(R);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(l,e);var n,r,i,a,o=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(i);if(a){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,e)});function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=o.call(this,e);var n=e.afterLoad,r=e.beforeLoad,i=e.scrollPosition,s=e.visibleByDefault;return t.state={visible:s},s&&(r(),n()),t.onVisible=t.onVisible.bind(B(t)),t.isScrollTracked=Boolean(i&&Number.isFinite(i.x)&&i.x>=0&&Number.isFinite(i.y)&&i.y>=0),t}return n=l,(r=[{key:"componentDidUpdate",value:function(e,t){t.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var e=this.props,n=e.className,r=e.delayMethod,i=e.delayTime,a=e.height,o=e.placeholder,l=e.scrollPosition,c=e.style,d=e.threshold,u=e.useIntersectionObserver,h=e.width;return this.isScrollTracked||u&&s()?t().createElement(f,{className:n,height:a,onVisible:this.onVisible,placeholder:o,scrollPosition:l,style:c,threshold:d,useIntersectionObserver:u,width:h}):t().createElement(L,{className:n,delayMethod:r,delayTime:i,height:a,onVisible:this.onVisible,placeholder:o,style:c,threshold:d,width:h})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==D(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(i)?i:String(i)),r)}var i}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t().Component);U.propTypes={afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool},U.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const q=U;function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var W=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return(t=X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}function X(e){var t=function(e){if("object"!==$(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(t)?t:String(t)}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(o,e);var n,r,i,s,a=(i=o,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=G(i);if(s){var n=G(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={loaded:!1},t}return n=o,(r=[{key:"onImageLoad",value:function(){var e=this;return this.state.loaded?null:function(t){e.props.onLoad(t),e.props.afterLoad(),e.setState({loaded:!0})}}},{key:"getImg",value:function(){var e=this.props,n=(e.afterLoad,e.beforeLoad,e.delayMethod,e.delayTime,e.effect,e.placeholder,e.placeholderSrc,e.scrollPosition,e.threshold,e.useIntersectionObserver,e.visibleByDefault,e.wrapperClassName,e.wrapperProps,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,W));return t().createElement("img",J({},n,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var e=this.props,n=e.beforeLoad,r=e.className,i=e.delayMethod,s=e.delayTime,a=e.height,o=e.placeholder,l=e.scrollPosition,c=e.style,d=e.threshold,u=e.useIntersectionObserver,h=e.visibleByDefault,p=e.width;return t().createElement(q,{beforeLoad:n,className:r,delayMethod:i,delayTime:s,height:a,placeholder:o,scrollPosition:l,style:c,threshold:d,useIntersectionObserver:u,visibleByDefault:h,width:p},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(e){var n=this.props,r=n.effect,i=n.height,s=n.placeholderSrc,a=n.width,o=n.wrapperClassName,l=n.wrapperProps,c=this.state.loaded,d=c?" lazy-load-image-loaded":"",u=c||!s?{}:{backgroundImage:"url(".concat(s,")"),backgroundSize:"100% 100%"};return t().createElement("span",J({className:o+" lazy-load-image-background "+r+d,style:Q(Q({},u),{},{color:"transparent",display:"inline-block",height:i,width:a})},l),e)}},{key:"render",value:function(){var e=this.props,t=e.effect,n=e.placeholderSrc,r=e.visibleByDefault,i=e.wrapperClassName,s=e.wrapperProps,a=this.getLazyLoadImage();return(t||n)&&!r||i||s?this.getWrappedLazyLoadImage(a):a}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),o}(t().Component);Z.propTypes={onLoad:i.PropTypes.func,afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,delayMethod:i.PropTypes.string,delayTime:i.PropTypes.number,effect:i.PropTypes.string,placeholderSrc:i.PropTypes.string,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool,wrapperClassName:i.PropTypes.string,wrapperProps:i.PropTypes.object},Z.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const ee=Z})(),Aa.exports=r})();var Ia=Aa.exports;const za=e=>{let t="logo.png";if(null!=e&&void 0!==e){const n=e.toString();n.length>0&&(t=n)}return t.startsWith("media/")?`/${t}`:(t=t.replace("/images",""),`${Wi}/storage/${t}`)},Ra={getImageUrl:za,getProductImageUrl:e=>za(e),getCategoryImageUrl:e=>za(e),getBannerImageUrl:e=>za(e),getVendorImageUrl:e=>za(e),getFallbackImageUrl:()=>`${Wi}/storage/default.png`,isValidImageUrl:e=>!(!e||0===e.length)&&("null"!==e&&"undefined"!==e),getOptimizedImageUrl:(e,t,n)=>{const r=za(e);return t&&n?`${r}?w=${t}&h=${n}&fit=crop`:t?`${r}?w=${t}`:n?`${r}?h=${n}`:r},img:za};class La{static supportsWebP(){return new Promise((e=>{const t=new Image;t.onload=t.onerror=()=>{e(2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}))}static getOptimizedImageUrl(e,t={}){return e.startsWith("/media/")||e.startsWith("/public/")?e:Ra.img(e)}static generateResponsiveImageData(e,t={}){const{width:n=800,height:r=600,placeholder:i="/placeholder-product.svg",sizes:s="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}=t,a=e.startsWith("/media/")||e.startsWith("/public/")?e:Ra.img(e),o=[{width:Math.round(.5*n),descriptor:"0.5x"},{width:n,descriptor:"1x"},{width:Math.round(1.5*n),descriptor:"1.5x"},{width:Math.round(2*n),descriptor:"2x"}].map((e=>`${a} ${e.descriptor}`)).join(", ");return{src:a,srcSet:o,placeholder:i,sizes:s,width:n,height:r}}static getWebPImageUrl(e,t){const n=Ra.img(e);return{webp:n,fallback:t||n}}static createLazyImageProps(e,t,n={}){const{width:r,height:i,placeholder:s="/placeholder-product.svg",loading:a="lazy"}=n,o=this.generateResponsiveImageData(e,n);return{src:o.src,srcSet:o.srcSet,sizes:o.sizes,alt:t,loading:a,placeholderSrc:s,effect:"blur",width:r||"100%",height:i||"auto",className:"optimized-image",onError:e=>{e.currentTarget.src="/media/svg/files/blank-image.svg"}}}static preloadImage(e,t={}){return new Promise(((n,r)=>{const i=new Image;i.onload=()=>n(),i.onerror=()=>r(new Error(`Failed to preload image: ${e}`));const s=this.generateResponsiveImageData(e,t);i.src=s.src,s.srcSet&&(i.srcset=s.srcSet)}))}static preloadImages(e){return y(this,arguments,(function*(e,t={}){const n=e.map((e=>this.preloadImage(e,t).catch((()=>{}))));yield Promise.allSettled(n)}))}static calculateOptimalDimensions(e,t,n=window.devicePixelRatio||1){return{width:Math.round(e*n),height:Math.round(t*n)}}static generateBlurPlaceholder(e=10,t=10){const n=document.createElement("canvas");n.width=e,n.height=t;const r=n.getContext("2d");if(!r)return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IiNmOGY5ZmEiLz48L3N2Zz4=";const i=r.createLinearGradient(0,0,e,t);return i.addColorStop(0,"#f8f9fa"),i.addColorStop(1,"#e9ecef"),r.fillStyle=i,r.fillRect(0,0,e,t),n.toDataURL()}}const Ma=L.memo((({src:e,alt:t,className:n="",width:r="100%",height:i="auto",options:s={},style:a,onClick:o,onLoad:l,onError:c})=>{const[d,u]=M.useState(!1),[h,f]=M.useState(null);M.useEffect((()=>{La.supportsWebP().then(f)}),[]);const g=La.createLazyImageProps(e,t,m(p({},s),{width:"number"==typeof r?r:void 0,height:"number"==typeof i?i:void 0})),y=m(p({},g),{effect:"blur",className:`optimized-lazy-image ${n} ${d?"loaded":"loading"}`,style:a,width:r,height:i,onClick:o,onLoad:()=>{u(!0),null==l||l()},onError:e=>{e.currentTarget.src="/media/svg/files/blank-image.svg",null==c||c(e)}});return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"\n          .optimized-lazy-image {\n            transition: opacity 0.3s ease, filter 0.3s ease;\n          }\n          \n          .optimized-lazy-image.loading {\n            filter: blur(5px);\n            opacity: 0.8;\n          }\n          \n          .optimized-lazy-image.loaded {\n            filter: none;\n            opacity: 1;\n          }\n          \n          .optimized-lazy-image:hover {\n            transition: transform 0.3s ease;\n          }\n        "}}),w.jsx(Ia.LazyLoadImage,p({},y))]})}));class Da{static getPendingSubscription(){return y(this,null,(function*(){try{return(yield ms("subscriptions/pending")).data}catch(e){throw e}}))}static initiatePendingPayment(e){return y(this,null,(function*(){try{return(yield ps(`subscriptions/${e}/initiate-payment`,{})).data}catch(t){throw t}}))}static checkPendingPaymentStatus(e){return y(this,null,(function*(){try{return(yield ps(`subscriptions/${e}/check-payment`,{})).data}catch(t){throw t}}))}static cancelPendingSubscription(e){return y(this,null,(function*(){try{return(yield ps(`subscriptions/${e}/cancel`,{})).data}catch(t){throw t}}))}static getPlans(e="en"){return y(this,null,(function*(){try{return(yield ms(`subscription-plans?lang=${e}`)).data}catch(t){throw t}}))}static createSubscription(e){return y(this,null,(function*(){try{return(yield ps("subscriptions/create",e)).data}catch(t){throw t}}))}static getMySubscription(){return y(this,null,(function*(){try{return(yield ms("subscriptions/my-subscription")).data}catch(e){throw e}}))}static getHistory(e=10){return y(this,null,(function*(){try{return(yield ms(`subscriptions/history?limit=${e}`)).data}catch(t){throw t}}))}static retryPayment(e){return y(this,null,(function*(){try{return(yield ps("subscriptions/retry-payment",e)).data}catch(t){throw t}}))}static checkPaymentStatus(e){return y(this,null,(function*(){try{return(yield ps("subscriptions/check-status",e)).data}catch(t){throw t}}))}static cancelSubscription(e){return y(this,null,(function*(){try{return(yield ps("subscriptions/cancel",e)).data}catch(t){throw t}}))}static hasActiveSubscription(){return y(this,null,(function*(){try{const e=yield this.getMySubscription();return e.has_subscription&&e.is_active}catch(e){return!1}}))}static redirectToPayment(e){window.location.href=e}static getStatusColor(e){switch(e){case"Active":return"success";case"Pending":return"warning";case"Expired":case"Failed":return"danger";case"Cancelled":return"secondary";default:return"info"}}static getPaymentStatusColor(e){switch(e){case"Completed":return"success";case"Pending":return"warning";case"Processing":return"info";case"Failed":return"danger";default:return"secondary"}}static formatDate(e){try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}}static getRelativeTime(e){try{const t=new Date(e),n=new Date,r=t.getTime()-n.getTime(),i=Math.floor(r/864e5),s=Math.floor(r/36e5);if(i>0)return`${i} day${1===i?"":"s"} left`;if(s>0)return`${s} hour${1===s?"":"s"} left`;if(0===i&&0===s)return"Expiring soon";{const e=Math.abs(i);return`Expired ${e} day${1===e?"":"s"} ago`}}catch(t){return"Unknown"}}static calculateDailyCost(e,t){return Math.round(e/t*100)/100}static getPlanBadge(e){return e.is_featured?"RECOMMENDED":e.is_popular?"MOST POPULAR":e.is_trial?"TRIAL":e.discount_percentage>0?`${e.discount_percentage}% OFF`:null}static parseCallbackParams(){const e=new URLSearchParams(window.location.search);return{status:e.get("status"),message:e.get("message"),subscription_id:e.get("subscription_id")?parseInt(e.get("subscription_id")):null}}static cacheSubscriptionStatus(e){try{localStorage.setItem("subscription_status",JSON.stringify(e)),localStorage.setItem("subscription_cached_at",(new Date).toISOString())}catch(t){}}static getCachedSubscriptionStatus(){try{const e=localStorage.getItem("subscription_status"),t=localStorage.getItem("subscription_cached_at");if(!e||!t)return null;const n=Date.now()-new Date(t).getTime();return n>3e5?(localStorage.removeItem("subscription_status"),localStorage.removeItem("subscription_cached_at"),null):JSON.parse(e)}catch(e){return null}}static clearCache(){localStorage.removeItem("subscription_status"),localStorage.removeItem("subscription_cached_at")}}g(Da,"BASE_PATH","");var Fa={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ba=L.createContext&&L.createContext(Fa),Va=["attr","size","title"];function Ua(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa.apply(this,arguments)}function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ha(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qa(e){return e&&e.map(((e,t)=>L.createElement(e.tag,Wa({key:t},e.attr),Qa(e.child))))}function Ka(e){return t=>L.createElement(Ja,qa({attr:Wa({},e.attr)},t),Qa(e.child))}function Ja(e){var t=t=>{var n,{attr:r,size:i,title:s}=e,a=Ua(e,Va),o=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),L.createElement("svg",qa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:Wa(Wa({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&L.createElement("title",null,s),e.children)};return void 0!==Ba?L.createElement(Ba.Consumer,null,(e=>t(e))):t(Fa)}function Xa(e){return Ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function Ya(e){return Ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Ga(e){return Ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Za(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function eo(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function to(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function no(e){return Ka({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(e)}function ro(e){return Ka({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function io(e){return Ka({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(e)}function so(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function ao(e){return Ka({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function oo(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function lo(e){return Ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function co(e){return Ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function uo(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function ho(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function po(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function mo(e){return Ka({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function fo(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function go(e){return Ka({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}const yo=()=>{const[e,t]=M.useState(null),[n,r]=M.useState(!0);ve(),M.useEffect((()=>{i();const e=setInterval(i,3e5);return()=>clearInterval(e)}),[]);const i=()=>y(void 0,null,(function*(){try{const e=yield Da.getMySubscription();if(e.days_remaining<=2&&e.end_date){const t=new Date(e.end_date),n=new Date,r=Math.max(0,Math.floor((t.getTime()-n.getTime())/36e5));e.hours_remaining=r}t(e)}catch(e){}finally{r(!1)}}));if(n||!(null==e?void 0:e.has_subscription)||!e.is_active)return null;return w.jsxs("div",{className:e.is_in_grace_period?"subscription-timer-widget grace-period":0===e.days_remaining?"subscription-timer-widget critical":e.days_remaining<=1?"subscription-timer-widget warning":e.days_remaining<=3?"subscription-timer-widget attention":"subscription-timer-widget normal",onClick:()=>{window.location.href="/account/subscriptions"},role:"button",tabIndex:0,title:"View subscription details",children:[e.is_in_grace_period||e.days_remaining<=1?w.jsx(ro,{}):e.days_remaining<=3?w.jsx(to,{}):w.jsx(no,{}),w.jsx("span",{className:"time-display",children:0===e.days_remaining&&void 0!==e.hours_remaining?`${e.hours_remaining}h`:e.days_remaining<=2&&void 0!==e.hours_remaining?`${e.days_remaining}d ${e.hours_remaining%24}h`:`${e.days_remaining}d`})]})};function vo(){return vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(this,arguments)}function xo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bo=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=xo(e,["color","size"]);return L.createElement("svg",vo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),L.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),L.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),L.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))}));function jo(){return jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(this,arguments)}function wo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}bo.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},bo.displayName="Calendar";var _o=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=wo(e,["color","size"]);return L.createElement("svg",jo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polyline",{points:"6 9 12 15 18 9"}))}));function ko(){return ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(this,arguments)}function So(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}_o.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},_o.displayName="ChevronDown";var No=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=So(e,["color","size"]);return L.createElement("svg",ko({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polyline",{points:"9 18 15 12 9 6"}))}));function To(){return To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}function Po(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}No.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},No.displayName="ChevronRight";var Co=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Po(e,["color","size"]);return L.createElement("svg",To({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("circle",{cx:"12",cy:"12",r:"10"}),L.createElement("polyline",{points:"12 6 12 12 16 14"}))}));function Eo(){return Eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(this,arguments)}function Oo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Co.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Co.displayName="Clock";var Ao=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Oo(e,["color","size"]);return L.createElement("svg",Eo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),L.createElement("polyline",{points:"7 10 12 15 17 10"}),L.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))}));function Io(){return Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(this,arguments)}function zo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ao.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Ao.displayName="Download";var Ro=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=zo(e,["color","size"]);return L.createElement("svg",Io({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),L.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));function Lo(){return Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function Mo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ro.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Ro.displayName="Eye";var Do=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Mo(e,["color","size"]);return L.createElement("svg",Lo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),L.createElement("polyline",{points:"14 2 14 8 20 8"}),L.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),L.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),L.createElement("polyline",{points:"10 9 9 9 8 9"}))}));function Fo(){return Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(this,arguments)}function Bo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Do.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Do.displayName="FileText";var Vo=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Bo(e,["color","size"]);return L.createElement("svg",Fo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),L.createElement("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),L.createElement("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),L.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),L.createElement("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),L.createElement("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),L.createElement("line",{x1:"17",y1:"17",x2:"22",y2:"17"}),L.createElement("line",{x1:"17",y1:"7",x2:"22",y2:"7"}))}));function Uo(){return Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(this,arguments)}function qo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Vo.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Vo.displayName="Film";var $o=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=qo(e,["color","size"]);return L.createElement("svg",Uo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("circle",{cx:"12",cy:"12",r:"10"}),L.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),L.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));function Wo(){return Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(this,arguments)}function Ho(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}$o.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},$o.displayName="Globe";var Qo=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Ho(e,["color","size"]);return L.createElement("svg",Wo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}));function Ko(){return Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}function Jo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Qo.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Qo.displayName="Heart";var Xo=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Jo(e,["color","size"]);return L.createElement("svg",Ko({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),L.createElement("polyline",{points:"10 17 15 12 10 7"}),L.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));function Yo(){return Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(this,arguments)}function Go(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Xo.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Xo.displayName="LogIn";var Zo=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Go(e,["color","size"]);return L.createElement("svg",Yo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),L.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),L.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))}));function el(){return el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},el.apply(this,arguments)}function tl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Zo.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Zo.displayName="Menu";var nl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=tl(e,["color","size"]);return L.createElement("svg",el({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))}));function rl(){return rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rl.apply(this,arguments)}function il(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}nl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},nl.displayName="MessageCircle";var sl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=il(e,["color","size"]);return L.createElement("svg",rl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}function ol(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}sl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},sl.displayName="MessageSquare";var ll=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=ol(e,["color","size"]);return L.createElement("svg",al({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),L.createElement("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),L.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),L.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}function dl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ll.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},ll.displayName="Mic";var ul=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=dl(e,["color","size"]);return L.createElement("svg",cl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("circle",{cx:"12",cy:"12",r:"10"}),L.createElement("polygon",{points:"10 8 16 12 10 16 10 8"}))}));function hl(){return hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hl.apply(this,arguments)}function pl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ul.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},ul.displayName="PlayCircle";var ml=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=pl(e,["color","size"]);return L.createElement("svg",hl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));function fl(){return fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}function gl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ml.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},ml.displayName="Play";var yl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=gl(e,["color","size"]);return L.createElement("svg",fl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("circle",{cx:"9",cy:"21",r:"1"}),L.createElement("circle",{cx:"20",cy:"21",r:"1"}),L.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}))}));function vl(){return vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(this,arguments)}function xl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}yl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},yl.displayName="ShoppingCart";var bl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=xl(e,["color","size"]);return L.createElement("svg",vl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}))}));function jl(){return jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(this,arguments)}function wl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}bl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},bl.displayName="Star";var _l=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=wl(e,["color","size"]);return L.createElement("svg",jl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polyline",{points:"3 6 5 6 21 6"}),L.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),L.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),L.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));function kl(){return kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}function Sl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}_l.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},_l.displayName="Trash2";var Nl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Sl(e,["color","size"]);return L.createElement("svg",kl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),L.createElement("polyline",{points:"17 2 12 7 7 2"}))}));function Tl(){return Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}function Pl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Nl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Nl.displayName="Tv";var Cl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Pl(e,["color","size"]);return L.createElement("svg",Tl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),L.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),L.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),L.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));function El(){return El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function Ol(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Cl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Cl.displayName="UserPlus";var Al=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Ol(e,["color","size"]);return L.createElement("svg",El({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),L.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));function Il(){return Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}function zl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Al.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Al.displayName="User";var Rl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=zl(e,["color","size"]);return L.createElement("svg",Il({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),L.createElement("circle",{cx:"9",cy:"7",r:"4"}),L.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),L.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))}));function Ll(){return Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ll.apply(this,arguments)}function Ml(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Rl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Rl.displayName="Users";var Dl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Ml(e,["color","size"]);return L.createElement("svg",Ll({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),L.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}))}));function Fl(){return Fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fl.apply(this,arguments)}function Bl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Dl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Dl.displayName="Volume2";var Vl=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=Bl(e,["color","size"]);return L.createElement("svg",Fl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),L.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),L.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}))}));function Ul(){return Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}function ql(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Vl.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},Vl.displayName="VolumeX";var $l=M.forwardRef((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=ql(e,["color","size"]);return L.createElement("svg",Ul({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));$l.propTypes={color:S.string,size:S.oneOfType([S.string,S.number])},$l.displayName="X";const Wl=()=>{ve();const e=F(),t=xe();ta(),Sa(),wa();const n=B(ks),r=B((e=>e.auth)),i=B((e=>e.auth.user)),s=B((e=>e.auth.token)),[,a]=M.useState({});M.useEffect((()=>{const t=localStorage.getItem("ugflix_auth_token"),i=localStorage.getItem("ugflix_user");t&&i&&!n&&!r.isLoading&&e(_s()),a({})}),[n,r,e,i,s]);const[o,l]=M.useState(!1),[c,d]=M.useState(!1),u=M.useRef(null),h=M.useRef(null),p=()=>l(!o),m=!1,f=e=>{const n=t.pathname,r=t.search;switch(e){case"/movies":return"/movies"===n||n.startsWith("/movies/")||n.startsWith("/watch/")||"/search"===n&&r.includes("type=movie");case"/series":return"/series"===n||n.startsWith("/series/");case"/products":return"/products"===n||n.startsWith("/products/")||n.startsWith("/product/")||"/account/post-product"===n;case"/connect":return"/connect"===n||n.startsWith("/connect/");case"/account/chats":return"/account/chats"===n||n.startsWith("/account/chats/")||n.startsWith("/account/chat/");case"/account":return"/account"===n||n.startsWith("/account/")&&!n.startsWith("/account/chat")&&"/account/post-product"!==n;case"/auth/login":return n.startsWith("/auth/");default:return n===e||n.startsWith(e+"/")}};return M.useEffect((()=>{const e=e=>{const t=u.current,n=h.current;if(t&&n){const r=t.contains(e.relatedTarget),i=n.contains(e.relatedTarget);r||i||d(!1)}},t=u.current,n=h.current;return t&&t.addEventListener("mouseleave",e),n&&n.addEventListener("mouseleave",e),()=>{t&&t.removeEventListener("mouseleave",e),n&&n.removeEventListener("mouseleave",e)}}),[]),w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"modern-mobile-nav d-lg-none",children:[w.jsx("div",{className:"mobile-nav-top",children:w.jsx("div",{className:"container-fluid",children:w.jsxs("div",{className:"mobile-top-row",children:[w.jsx("button",{className:"mobile-menu-toggle",type:"button",onClick:p,"aria-label":"Toggle navigation menu",children:o?w.jsx($l,{size:20}):w.jsx(Zo,{size:20})}),w.jsx(ye,{to:"/",className:"mobile-logo-wrapper",children:w.jsx("img",{src:"/media/logos/logo-white.png",alt:"UgFlix",className:"mobile-logo"})}),(n||r.user&&r.token)&&w.jsx("div",{className:"mobile-subscription-timer-wrapper",children:w.jsx(yo,{})}),w.jsxs("div",{className:"mobile-action-icons",children:[w.jsx(ye,{to:"/movies",className:"mobile-action-link",children:w.jsx("div",{className:"mobile-action-icon-wrapper",children:w.jsx(Vo,{size:18})})}),n||r.user&&r.token?w.jsx(ye,{to:"/account",className:"mobile-action-link",children:w.jsxs("div",{className:"mobile-action-icon-wrapper",children:[w.jsx(Al,{size:18}),m]})}):w.jsx(ye,{to:"/auth/login",className:"mobile-action-link",children:w.jsx("div",{className:"mobile-action-icon-wrapper",children:w.jsx(Al,{size:18})})})]})]})})}),w.jsx("div",{className:"mobile-nav-bottom",children:w.jsx("div",{className:"mobile-search-wrapper",children:w.jsx(Oa,{placeholder:"Search for movies, actors, genres...",className:"mobile-search-box",size:"sm",showRecentSearches:!1})})})]}),w.jsx("div",{className:"main-nav-wrapper d-none d-lg-block",children:w.jsxs("nav",{className:"container-fluid d-flex align-items-center h-100",style:{paddingLeft:"60px",paddingRight:"60px"},children:[w.jsx(ye,{to:"/",className:"logo-wrapper me-4",children:w.jsx("img",{src:"/media/logos/logo.png",alt:"UgFlix",className:"main-logo"})}),w.jsxs("div",{ref:u,className:"category-toggle  "+(c?"active":""),onMouseEnter:()=>d(!0),children:[w.jsxs("div",{className:"category-toggle-content",children:[w.jsx(ll,{size:18,className:"category-icon"}),w.jsx("span",{className:"category-text",children:"VJs"}),w.jsx(_o,{size:16,className:"chevron-icon"})]}),w.jsx("div",{ref:h,className:"mega-menu m-0 "+(c?"show":""),onMouseEnter:()=>d(!0),children:w.jsxs("div",{className:"mega-menu-content",children:[w.jsx("div",{className:"row g-4",children:[["Vj Junior","Vj Emmy","Vj Jovan","Vj Tom","Vj Shao Khan","Vj Jingo","Vj Ice P","Vj Kevo","Vj Kevin","Vj Kriss Sweet","Vj Hd","Vj Dan De","Vj Sammy"],["Vj Ivo","Vj Isma K","Vj Little T","Vj Mox","Vj Muba","Vj Eddy","Vj Kam","Vj Lance","Vj KS","Vj Ulio","Vj Aaron","Vj Cabs","Vj Banks"],["Vj Jimmy","Vj Baros","Vj Kimuli","Vj Fredy","Vj Jumpers","Vj Ashim","Vj Pauleta","Vj Martin K","Vj Henrico","Vj Uncle T","Vj Soul","Vj Nelly"]].map(((e,t)=>w.jsx("div",{className:"col-md-4",children:w.jsx("div",{className:"mega-menu-section",children:w.jsx("div",{className:"mega-menu-links",children:e.map((e=>w.jsx(ye,{to:`/movies?search=${encodeURIComponent(e.replace("Vj ",""))}`,className:"mega-menu-link vj-link",onClick:()=>d(!1),children:w.jsx("span",{children:e})},e)))})})},t)))}),w.jsx("div",{className:"mega-menu-banner mt-4 pt-4",children:w.jsxs("div",{className:"row",children:[w.jsx("div",{className:"col-md-6",children:w.jsx("div",{className:"featured-category-card",children:w.jsxs("div",{className:"featured-content",children:[w.jsx("div",{className:"featured-icon",children:w.jsx(ul,{size:24})}),w.jsxs("div",{className:"featured-text",children:[w.jsx("h6",{children:"Premium Movies"}),w.jsx("p",{children:"Unlimited access to exclusive content"})]})]})})}),w.jsx("div",{className:"col-md-6",children:w.jsx("div",{className:"featured-category-card",children:w.jsxs("div",{className:"featured-content",children:[w.jsx("div",{className:"featured-icon featured-icon-secondary",children:w.jsx(Ao,{size:24})}),w.jsxs("div",{className:"featured-text",children:[w.jsx("h6",{children:"Download & Watch"}),w.jsx("p",{children:"Watch offline anytime, anywhere"})]})]})})})]})})]})})]}),w.jsx("div",{className:"search-form flex-grow-1 position-relative",children:w.jsx(Oa,{placeholder:"Search for movies, actors, genres...",className:"desktop-search-box",showRecentSearches:!0})}),(n||r.user&&r.token)&&w.jsx("div",{className:"subscription-timer-container me-3",children:w.jsx(yo,{})}),w.jsxs("div",{className:"main-menu-links",children:[w.jsxs(ye,{to:"/movies",className:"main-menu-link "+(f("/movies")?"active":""),children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx(Vo,{size:20,className:"main-menu-icon"})}),w.jsx("span",{children:"Movies"})]}),w.jsxs(ye,{to:"/series",className:"main-menu-link "+(f("/series")?"active":""),children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx(Nl,{size:20,className:"main-menu-icon"})}),w.jsx("span",{children:"Series"})]}),w.jsxs(ye,{to:"/products",className:"main-menu-link "+(f("/products")?"active":""),children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx(yl,{size:20,className:"main-menu-icon"})}),w.jsx("span",{children:"Buy And Sell"})]}),w.jsxs(ye,{to:"/connect",className:"main-menu-link "+(f("/connect")?"active":""),children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx(Rl,{size:20,className:"main-menu-icon"})}),w.jsx("span",{children:"Connect"})]}),w.jsxs(ye,{to:"/account/chats",className:"main-menu-link "+(f("/account/chats")?"active":""),children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx(nl,{size:20,className:"main-menu-icon"})}),w.jsx("span",{children:"Chats"})]}),r.isLoading?w.jsxs("div",{className:"main-menu-link",children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:w.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),w.jsx("span",{children:"..."})]}):n||r.user&&r.token?w.jsxs(ye,{to:"/account",className:"main-menu-link "+(f("/account")?"active":""),children:[w.jsxs("div",{className:"main-menu-icon-wrapper",children:[w.jsx(Al,{size:20,className:"main-menu-icon"}),m]}),w.jsx("span",{children:"Account"})]}):w.jsxs(ye,{to:"/auth/login",className:"main-menu-link "+(f("/auth/login")?"active":""),children:[w.jsx("div",{className:"main-menu-icon-wrapper",children:w.jsx(Xo,{size:20,className:"main-menu-icon"})}),w.jsx("span",{children:"Login"})]})]})]})}),w.jsx("div",{className:"nav-overlay "+(o?"show":""),onClick:p}),w.jsxs("div",{className:"mobile-nav-offcanvas "+(o?"show":""),children:[w.jsxs("div",{className:"offcanvas-header",children:[w.jsx("div",{className:"offcanvas-logo",children:w.jsx(Ma,{src:"/media/logos/logo.png",alt:"UgFlix",className:"mobile-offcanvas-logo",options:{width:150,height:50,loading:"eager"}})}),w.jsx("button",{className:"offcanvas-close-btn",onClick:p,"aria-label":"Close menu",children:w.jsx($l,{size:20})})]}),w.jsxs("div",{className:"offcanvas-body",children:[w.jsxs("div",{className:"mobile-nav-section",children:[w.jsx("h6",{className:"mobile-nav-heading",children:"Main Menu"}),w.jsxs("ul",{className:"nav-links",children:[w.jsx("li",{children:w.jsxs(ye,{to:"/movies",onClick:p,className:f("/movies")?"active":"",children:[w.jsx(Vo,{size:20}),w.jsx("span",{children:"Movies"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/series",onClick:p,className:f("/series")?"active":"",children:[w.jsx(Nl,{size:20}),w.jsx("span",{children:"Series"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/products",onClick:p,className:f("/products")?"active":"",children:[w.jsx(yl,{size:20}),w.jsx("span",{children:"Buy And Sell"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/connect",onClick:p,className:f("/connect")?"active":"",children:[w.jsx(Rl,{size:20}),w.jsx("span",{children:"Connect"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/account/chats",onClick:p,className:f("/account/chats")?"active":"",children:[w.jsx(nl,{size:20}),w.jsx("span",{children:"Chats"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/account",onClick:p,className:f("/account")?"active":"",children:[w.jsx(Al,{size:20}),w.jsx("span",{children:"Account"}),w.jsx(No,{size:16})]})})]})]}),w.jsxs("div",{className:"mobile-nav-section",children:[w.jsx("h6",{className:"mobile-nav-heading",children:"Quick Actions"}),w.jsxs("ul",{className:"nav-links",children:[w.jsx("li",{children:w.jsxs(ye,{to:"/account/products/new",onClick:p,children:[w.jsx(Do,{size:20}),w.jsx("span",{children:"Post Product"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/account/watchlist",onClick:p,children:[w.jsx(Qo,{size:20}),w.jsx("span",{children:"My Watch List"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/account/history",onClick:p,children:[w.jsx(Ro,{size:20}),w.jsx("span",{children:"Watch History"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/help",onClick:p,children:[w.jsx(Do,{size:20}),w.jsx("span",{children:"Help And Support"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/account/subscription",onClick:p,children:[w.jsx(bl,{size:20}),w.jsx("span",{children:"My Subscription"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/mobile-apps",onClick:p,children:[w.jsx("i",{className:"bi bi-phone",style:{fontSize:"20px"}}),w.jsx("span",{children:"Mobile Apps"}),w.jsx(No,{size:16})]})})]})]}),r.isLoading?w.jsxs("div",{className:"mobile-nav-section",children:[w.jsx("h6",{className:"mobile-nav-heading",children:"Loading..."}),w.jsx("div",{className:"d-flex justify-content-center py-3",children:w.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:w.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]}):n||r.user&&r.token?null:w.jsxs("div",{className:"mobile-nav-section",children:[w.jsx("h6",{className:"mobile-nav-heading",children:"Get Started"}),w.jsxs("ul",{className:"nav-links",children:[w.jsx("li",{children:w.jsxs(ye,{to:"/auth/login",onClick:p,children:[w.jsx(Xo,{size:20}),w.jsx("span",{children:"Login"}),w.jsx(No,{size:16})]})}),w.jsx("li",{children:w.jsxs(ye,{to:"/auth/register",onClick:p,children:[w.jsx(Cl,{size:20}),w.jsx("span",{children:"Create Account"}),w.jsx(No,{size:16})]})})]})]})]})]})]})},Hl=()=>{const e=xe(),t=B((e=>e.auth.isAuthenticated)),n=B((e=>e.auth)),r=t=>{const n=e.pathname,r=e.search;switch(t){case"/movies":return"/movies"===n||n.startsWith("/movies/")||n.startsWith("/watch/")||"/search"===n&&r.includes("type=movie");case"/series":return"/series"===n||n.startsWith("/series/");case"/products":return"/products"===n||n.startsWith("/products/")||n.startsWith("/product/")||"/account/post-product"===n;case"/connect":return"/connect"===n||n.startsWith("/connect/");case"/account/chats":return"/account/chats"===n||n.startsWith("/account/chats/")||n.startsWith("/account/chat/");case"/account":return"/account"===n||n.startsWith("/account/")&&!n.startsWith("/account/chat")&&"/account/post-product"!==n;case"/auth/login":return n.startsWith("/auth/");default:return n===t||n.startsWith(t+"/")}};return w.jsxs("nav",{className:"mobile-bottom-nav d-lg-none",children:[w.jsxs(ye,{to:"/movies",className:"bottom-nav-item "+(r("/movies")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx(Vo,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Movies"})]}),w.jsxs(ye,{to:"/series",className:"bottom-nav-item "+(r("/series")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx(Nl,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Series"})]}),w.jsxs(ye,{to:"/products",className:"bottom-nav-item "+(r("/products")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx(yl,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Buy & Sell"})]}),w.jsxs(ye,{to:"/connect",className:"bottom-nav-item "+(r("/connect")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx($o,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Connect"})]}),w.jsxs(ye,{to:"/account/chats",className:"bottom-nav-item "+(r("/account/chats")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx(sl,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Chats"})]}),t||n.user&&n.token?w.jsxs(ye,{to:"/account",className:"bottom-nav-item "+(r("/account")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx(Al,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Account"})]}):w.jsxs(ye,{to:"/auth/login",className:"bottom-nav-item "+(r("/auth/login")?"active":""),children:[w.jsx("div",{className:"bottom-nav-icon-wrapper",children:w.jsx(Al,{size:22,className:"bottom-nav-icon"})}),w.jsx("span",{className:"bottom-nav-label",children:"Login"})]})]})},Ql=()=>w.jsxs(w.Fragment,{children:[w.jsxs("header",{className:"fixed-top header-wrapper",children:[w.jsx(kn,{}),w.jsx(Wl,{})]}),w.jsx(Hl,{})]}),Kl=()=>{const e=B(ba),t=B(ya),n=B(va),r=null!==e&&"object"==typeof e;return{hasActiveSubscription:!!r&&Boolean(e.has_active_subscription),daysRemaining:r&&"number"==typeof e.days_remaining?Math.max(0,e.days_remaining):0,hoursRemaining:r&&"number"==typeof e.hours_remaining?Math.max(0,e.hours_remaining):0,isInGracePeriod:!!r&&Boolean(e.is_in_grace_period),subscriptionStatus:r&&e.subscription_status?String(e.subscription_status):"Unknown",endDate:r&&e.end_date||null,requiresSubscription:!r||void 0===e.require_subscription||Boolean(e.require_subscription),isLoading:t,isInitialized:n}},Jl=["/subscription/plans","/subscription/callback","/subscription/history","/subscription/my-subscriptions","/login","/register","/forgot-password","/reset-password","/auth"],Xl=()=>{const e=ve(),t=xe(),{hasActiveSubscription:n,daysRemaining:r,isInGracePeriod:i,requiresSubscription:s,subscriptionStatus:a,isLoading:o,isInitialized:l}=Kl(),[c,d]=M.useState(!1),[u,h]=M.useState(!1),p=Boolean(n),m="number"==typeof r?Math.max(0,r):0,f=Boolean(i),g=Boolean(s),y=String(a||"Unknown");M.useEffect((()=>{try{const e=String((null==t?void 0:t.pathname)||"/");if(Jl.some((t=>{try{return e.startsWith(t)}catch(n){return!1}})))return void d(!1);if(!l)return;if(o)return;if(null!==r&&r>0&&r<=3)return void d(!0);if(i)return void d(!0);if(!s)return void d(!1);!g||p||u||(h(!0),setTimeout((()=>{window.location.href="/subscription/plans"}),2e3))}catch(e){}}),[n,r,i,s,t.pathname,e,u,o,l]);if(!c)return null;let v="subscription-banner",x=w.jsx(no,{}),b="",j="Renew Now";return f?(v+=" grace-period",x=w.jsx(ro,{}),b="Your subscription has expired but you are in a grace period. Please renew to continue accessing content."):m<=3&&m>0?(v+=" expiring-soon",x=w.jsx(ro,{}),b=`Your subscription expires in ${m} day${1!==m?"s":""}. Renew now to avoid interruption.`):p||(v+=" no-subscription",x=w.jsx(ro,{}),b="Active subscription required. Subscribe now to access movies and content.",j="Subscribe Now"),w.jsx("div",{className:v,children:w.jsxs("div",{className:"banner-content",children:[w.jsx("div",{className:"banner-icon",children:x}),w.jsxs("div",{className:"banner-message",children:[w.jsx("p",{children:b}),w.jsxs("small",{children:["Status: ",y]})]}),w.jsxs("div",{className:"banner-actions",children:[w.jsx("button",{className:"banner-btn primary",onClick:()=>{window.location.href="/subscription/plans"},children:j}),w.jsx("button",{className:"banner-btn secondary",onClick:()=>{d(!1)},children:"Dismiss"})]})]})})},Yl=()=>{const e="/"===xe().pathname;return w.jsxs(w.Fragment,{children:[w.jsx(Ql,{}),w.jsx(Xl,{}),w.jsx("main",{className:"main-content "+(e?"homepage-layout":""),children:w.jsx(be,{})})]})},Gl=()=>{const e=ve(),t=F();return w.jsxs("div",{className:"subscription-layout m-0",children:[w.jsx("div",{className:"subscription-topbar",children:w.jsxs("div",{className:"topbar-content",children:[w.jsx("div",{className:"logo-section",children:w.jsx(ye,{to:"/",className:"app-logo-link",title:"Go to Home",children:w.jsx("span",{className:"app-logo",children:"🎬 UGFlix"})})}),w.jsxs("div",{className:"topbar-actions",children:[w.jsxs(ye,{to:"/",className:"home-btn",title:"Go to Home",children:[w.jsx(ao,{}),w.jsx("span",{children:"Home"})]}),w.jsxs("button",{className:"logout-btn",onClick:()=>{window.confirm("Are you sure you want to logout?")&&(t(js()),e("/login"))},children:[w.jsx(ho,{}),w.jsx("span",{children:"Logout"})]})]})]})}),w.jsx("main",{className:"subscription-content",children:w.jsx(be,{})}),w.jsx("footer",{className:"subscription-footer",children:w.jsx("p",{children:"© 2025 UGFlix. All rights reserved."})})]})},Zl=({children:e,redirectTo:t="/landing"})=>{const n=B(ks),r=B(Ns),i=xe();return r?w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"1rem"},children:[w.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),w.jsx("p",{style:{color:"#666",margin:0},children:"Loading..."}),w.jsx("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):n?w.jsx(w.Fragment,{children:e}):w.jsx(je,{to:t,state:{from:i},replace:!0})},ec=({children:e,redirectTo:t="/"})=>{var n,r;const i=B(ks),s=xe();if(i){const e=(null==(r=null==(n=s.state)?void 0:n.from)?void 0:r.pathname)||t;return w.jsx(je,{to:e,replace:!0})}return w.jsx(w.Fragment,{children:e})},tc=({children:e})=>{const t=B(ks),n=B(Ss),r=xe(),i=ve(),[s,a]=M.useState(!0),[o,l]=M.useState(!1),[c,d]=M.useState(null),[u,h]=M.useState(null),[p,m]=M.useState(0);M.useEffect((()=>{try{f()}catch(e){h("Unexpected error checking subscription"),a(!1)}}),[n]);const f=()=>y(void 0,null,(function*(){var e,r;try{if(a(!0),h(null),!t||!n)return l(!1),void a(!1);const e=yield Da.getMySubscription();if(!e||"object"!=typeof e)throw new Error("Invalid subscription data received");d(e),m(0);const r=Boolean(e.has_subscription&&e.is_active);l(r)}catch(i){if(p<3&&("ECONNABORTED"===i.code||"ERR_NETWORK"===i.code))return m((e=>e+1)),void setTimeout((()=>f()),2e3*(p+1));const t=(null==(r=null==(e=i.response)?void 0:e.data)?void 0:r.message)||i.message||"Failed to verify subscription status";h(t),l(!1)}finally{a(!1)}}));return s?w.jsxs("div",{className:"subscription-checking",children:[w.jsx("div",{className:"checking-spinner"}),w.jsx("p",{children:"Verifying subscription..."})]}):t?o?w.jsx(w.Fragment,{children:e}):w.jsx("div",{className:"subscription-required-page",children:w.jsxs("div",{className:"subscription-required-card",children:[w.jsx("div",{className:"icon-container",children:w.jsx(lo,{className:"lock-icon"})}),w.jsx("h1",{className:"title",children:"Subscription Required"}),w.jsx("p",{className:"message",children:"You need an active subscription to access this content."}),(null==c?void 0:c.subscription)&&w.jsxs("div",{className:"subscription-info",children:[w.jsxs("div",{className:"info-item",children:[w.jsx("span",{className:"label",children:"Status:"}),w.jsx("span",{className:"value expired",children:c.subscription.status})]}),c.subscription.end_date&&w.jsxs("div",{className:"info-item",children:[w.jsx("span",{className:"label",children:"Expired:"}),w.jsx("span",{className:"value",children:new Date(c.subscription.end_date).toLocaleDateString()})]})]}),(null==c?void 0:c.is_in_grace_period)&&w.jsxs("div",{className:"grace-period-notice",children:[w.jsx(ro,{}),w.jsx("span",{children:"Grace period expired. Please renew your subscription."})]}),w.jsxs("div",{className:"actions",children:[w.jsxs("button",{className:"subscribe-btn",onClick:()=>i("/subscription/plans"),children:[w.jsx(no,{}),w.jsx("span",{children:"View Subscription Plans"})]}),(null==c?void 0:c.subscription)&&w.jsx("button",{className:"history-btn",onClick:()=>i("/subscription/history"),children:"View Subscription History"})]}),u&&w.jsxs("div",{className:"error-notice",children:[w.jsx("p",{children:u}),w.jsx("button",{className:"retry-btn",onClick:()=>{m(0),f()},children:"Retry"})]})]})}):w.jsx(je,{to:"/auth/login",state:{from:r},replace:!0})};function nc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function rc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function ic(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function sc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function ac(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function oc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function lc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function cc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function dc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function uc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function hc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function pc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function mc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function fc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function gc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function yc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function vc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function xc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function bc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function jc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function wc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function _c(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function kc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Sc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function Nc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Tc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function Pc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Cc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(e)}function Ec(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Oc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Ac(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Ic(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function zc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Rc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function Lc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function Mc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function Dc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Fc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Bc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Vc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(e)}function Uc(e){return Ka({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const qc=M.createContext({});function $c(e){const t=M.useRef(null);return null===t.current&&(t.current=e()),t.current}const Wc="undefined"!=typeof window,Hc=Wc?M.useLayoutEffect:M.useEffect,Qc=M.createContext(null);function Kc(e,t){-1===e.indexOf(t)&&e.push(t)}function Jc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xc=(e,t,n)=>n>t?t:n<e?e:n;const Yc={},Gc=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Zc(e){return"object"==typeof e&&null!==e}const ed=e=>/^0[^.\s]+$/u.test(e);function td(e){let t;return()=>(void 0===t&&(t=e()),t)}const nd=e=>e,rd=(e,t)=>n=>t(e(n)),id=(...e)=>e.reduce(rd),sd=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class ad{constructor(){this.subscriptions=[]}add(e){return Kc(this.subscriptions,e),()=>Jc(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const od=e=>1e3*e,ld=e=>e/1e3;function cd(e,t){return t?e*(1e3/t):0}const dd=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function ud(e,t,n,r){if(e===t&&n===r)return nd;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=dd(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:dd(i(e),t,r)}const hd=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pd=e=>t=>1-e(1-t),md=ud(.33,1.53,.69,.99),fd=pd(md),gd=hd(fd),yd=e=>(e*=2)<1?.5*fd(e):.5*(2-Math.pow(2,-10*(e-1))),vd=e=>1-Math.sin(Math.acos(e)),xd=pd(vd),bd=hd(vd),jd=ud(.42,0,1,1),wd=ud(0,0,.58,1),_d=ud(.42,0,.58,1),kd=e=>Array.isArray(e)&&"number"==typeof e[0],Sd={linear:nd,easeIn:jd,easeInOut:_d,easeOut:wd,circIn:vd,circInOut:bd,circOut:xd,backIn:fd,backInOut:gd,backOut:md,anticipate:yd},Nd=e=>{if(kd(e)){e.length;const[t,n,r,i]=e;return ud(t,n,r,i)}return"string"==typeof e?Sd[e]:e},Td=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Pd={value:null,addProjectionMetrics:null};function Cd(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Td.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:(e,t=!1,s=!1)=>{const o=s&&i?n:r;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Pd.value&&Pd.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(e)))}};return d}(s,t?n:void 0),e)),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=a,f=()=>{const s=Yc.useManualTiming?i.timestamp:performance.now();n=!1,Yc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Td.reduce(((t,s)=>{const o=a[s];return t[s]=(t,s=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,s,a)),t}),{}),cancel:e=>{for(let t=0;t<Td.length;t++)a[Td[t]].cancel(e)},state:i,steps:a}}const{schedule:Ed,cancel:Od,state:Ad,steps:Id}=Cd("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:nd,!0);let zd;function Rd(){zd=void 0}const Ld={now:()=>(void 0===zd&&Ld.set(Ad.isProcessing||Yc.useManualTiming?Ad.timestamp:performance.now()),zd),set:e=>{zd=e,queueMicrotask(Rd)}},Md=e=>t=>"string"==typeof t&&t.startsWith(e),Dd=Md("--"),Fd=Md("var(--"),Bd=e=>!!Fd(e)&&Vd.test(e.split("/*")[0].trim()),Vd=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ud={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},qd=m(p({},Ud),{transform:e=>Xc(0,1,e)}),$d=m(p({},Ud),{default:1}),Wd=e=>Math.round(1e5*e)/1e5,Hd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Qd=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kd=(e,t)=>n=>Boolean("string"==typeof n&&Qd.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jd=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,s,a,o]=r.match(Hd);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Xd=m(p({},Ud),{transform:e=>Math.round((e=>Xc(0,255,e))(e))}),Yd={test:Kd("rgb","red"),parse:Jd("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xd.transform(e)+", "+Xd.transform(t)+", "+Xd.transform(n)+", "+Wd(qd.transform(r))+")"};const Gd={test:Kd("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Yd.transform},Zd=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),eu=Zd("deg"),tu=Zd("%"),nu=Zd("px"),ru=Zd("vh"),iu=Zd("vw"),su=(()=>m(p({},tu),{parse:e=>tu.parse(e)/100,transform:e=>tu.transform(100*e)}))(),au={test:Kd("hsl","hue"),parse:Jd("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tu.transform(Wd(t))+", "+tu.transform(Wd(n))+", "+Wd(qd.transform(r))+")"},ou={test:e=>Yd.test(e)||Gd.test(e)||au.test(e),parse:e=>Yd.test(e)?Yd.parse(e):au.test(e)?au.parse(e):Gd.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Yd.transform(e):au.transform(e),getAnimatableNone:e=>{const t=ou.parse(e);return t.alpha=0,ou.transform(t)}},lu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const cu="number",du="color",uu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(uu,(e=>(ou.test(e)?(r.color.push(s),i.push(du),n.push(ou.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(cu),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:i}}function pu(e){return hu(e).values}function mu(e){const{split:t,types:n}=hu(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===cu?Wd(e[s]):t===du?ou.transform(e[s]):e[s]}return i}}const fu=e=>"number"==typeof e?0:ou.test(e)?ou.getAnimatableNone(e):e;const gu={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(Hd))?void 0:t.length)||0)+((null==(n=e.match(lu))?void 0:n.length)||0)>0},parse:pu,createTransformer:mu,getAnimatableNone:function(e){const t=pu(e);return mu(e)(t.map(fu))}};function yu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vu(e,t){return n=>n>0?t:e}const xu=(e,t,n)=>e+(t-e)*n,bu=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ju=[Gd,Yd,au];function wu(e){const t=(n=e,ju.find((e=>e.test(n))));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===au&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=yu(o,r,e+1/3),s=yu(o,r,e),a=yu(o,r,e-1/3)}else i=s=a=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(r)),r}const _u=(e,t)=>{const n=wu(e),r=wu(t);if(!n||!r)return vu(e,t);const i=p({},n);return e=>(i.red=bu(n.red,r.red,e),i.green=bu(n.green,r.green,e),i.blue=bu(n.blue,r.blue,e),i.alpha=xu(n.alpha,r.alpha,e),Yd.transform(i))},ku=new Set(["none","hidden"]);function Su(e,t){return n=>xu(e,t,n)}function Nu(e){return"number"==typeof e?Su:"string"==typeof e?Bd(e)?vu:ou.test(e)?_u:Cu:Array.isArray(e)?Tu:"object"==typeof e?ou.test(e)?_u:Pu:vu}function Tu(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Nu(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Pu(e,t){const n=p(p({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Nu(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Cu=(e,t)=>{const n=gu.createTransformer(t),r=hu(e),i=hu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ku.has(e)&&!i.values.length||ku.has(t)&&!r.values.length?function(e,t){return ku.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):id(Tu(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=null!=(n=e.values[o])?n:0;r[s]=l,i[a]++}return r}(r,i),i.values),n):vu(e,t)};function Eu(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return xu(e,t,n);return Nu(e)(e,t)}const Ou=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>Ed.update(t,e),stop:()=>Od(t),now:()=>Ad.isProcessing?Ad.timestamp:Ld.now()}},Au=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*e(s/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Iu=2e4;function zu(e){let t=0;let n=e.next(t);for(;!n.done&&t<Iu;)t+=50,n=e.next(t);return t>=Iu?1/0:t}function Ru(e,t,n){const r=Math.max(t-5,0);return cd(n-e(r),t-r)}const Lu=100,Mu=10,Du=1,Fu=0,Bu=800,Vu=.3,Uu=.3,qu={granular:.01,default:2},$u={granular:.005,default:.5},Wu=.01,Hu=10,Qu=.05,Ku=1,Ju=.001;function Xu({duration:e=Bu,bounce:t=Vu,velocity:n=Fu,mass:r=Du}){let i,s,a=1-t;a=Xc(Qu,Ku,a),e=Xc(Wu,Hu,ld(e)),a<1?(i=t=>{const r=t*a,i=r*e,s=r-n,o=Gu(t,a),l=Math.exp(-i);return Ju-s/o*l},s=t=>{const r=t*a*e,s=r*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Gu(Math.pow(t,2),a);return(-i(t)+Ju>0?-1:1)*((s-o)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let i=1;i<Yu;i++)r-=e(r)/t(r);return r}(i,s,5/e);if(e=od(e),isNaN(o))return{stiffness:Lu,damping:Mu,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const Yu=12;function Gu(e,t){return e*Math.sqrt(1-t*t)}const Zu=["duration","bounce"],eh=["stiffness","damping","mass"];function th(e,t){return t.some((t=>void 0!==e[t]))}function nh(e=Uu,t=Vu){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:f}=function(e){let t=p({velocity:Fu,stiffness:Lu,damping:Mu,mass:Du,isResolvedFromDuration:!1},e);if(!th(e,eh)&&th(e,Zu))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*Xc(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=m(p({},t),{mass:Du,stiffness:i,damping:s})}else{const n=Xu(e);t=m(p(p({},t),n),{mass:Du}),t.isResolvedFromDuration=!0}return t}(m(p({},n),{velocity:-ld(n.velocity||0)})),g=h||0,y=c/(2*Math.sqrt(l*d)),v=a-s,x=ld(Math.sqrt(l/d)),b=Math.abs(v)<5;let j;if(r||(r=b?qu.granular:qu.default),i||(i=b?$u.granular:$u.default),y<1){const e=Gu(x,y);j=t=>{const n=Math.exp(-y*x*t);return a-n*((g+y*x*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===y)j=e=>a-Math.exp(-x*e)*(v+(g+x*v)*e);else{const e=x*Math.sqrt(y*y-1);j=t=>{const n=Math.exp(-y*x*t),r=Math.min(e*t,300);return a-n*((g+y*x*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const w={calculatedDuration:f&&u||null,next:e=>{const t=j(e);if(f)o.done=e>=u;else{let n=0===e?g:0;y<1&&(n=0===e?od(g):Ru(j,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(zu(w),Iu),t=Au((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function rh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},p=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let m=n*t;const f=u+m,g=void 0===a?f:a(f);g!==f&&(m=g-u);const y=e=>-m*Math.exp(-e/r),v=e=>g+y(e),x=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let b,j;const w=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(b=e,j=nh({keyframes:[h.value,p(h.value)],velocity:Ru(v,e,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==b||(t=!0,x(e),w(e)),void 0!==b&&e>=b?j.next(e-b):(!t&&x(e),h)}}}function ih(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||Yc.mix||Eu,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||nd:t;n=id(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=sd(e[r],e[r+1],n);return o[r](i)};return n?t=>c(Xc(e[0],e[s-1],t)):c}function sh(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=sd(0,t,r);e.push(xu(n,1,i))}}(t,e.length-1),t}function ah({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(Nd):Nd(r),s={done:!1,value:t[0]},a=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:sh(t),e),o=ih(a,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map((()=>c||_d)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}nh.applyToOptions=e=>{const t=function(e,t=100,n){const r=n(m(p({},e),{keyframes:[0,t]})),i=Math.min(zu(r),Iu);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:ld(i)}}(e,100,nh);return e.ease=t.ease,e.duration=od(t.duration),e.type="keyframes",e};const oh=e=>null!==e;function lh(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(oh),a=i<0||t&&"loop"!==n&&t%2==1?0:s.length-1;return a&&void 0!==r?r:s[a]}const ch={decay:rh,inertia:rh,tween:ah,keyframes:ah,spring:nh};function dh(e){"string"==typeof e.type&&(e.type=ch[e.type])}class uh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const hh=e=>e/100;class ph extends uh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Ld.now()&&this.tick(Ld.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;dh(e);const{type:t=ah,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=e;let{keyframes:a}=e;const o=t||ah;o!==ah&&"number"!=typeof a[0]&&(this.mixKeyframes=id(hh,Eu(a[0],a[1])),a=[0,100]);const l=o(m(p({},e),{keyframes:a}));"mirror"===i&&(this.mirroredGenerator=o(m(p({},e),{keyframes:[...a].reverse(),velocity:-s}))),null===l.calculatedDuration&&(l.calculatedDuration=zu(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,x=n;if(d){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/a)):"mirror"===u&&(x=s)),v=Xc(0,1,n)*a}const b=y?{done:!1,value:c[0]}:x.next(v);i&&(b.value=i(b.value));let{done:j}=b;y||null===o||(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&p!==rh&&(b.value=lh(c,this.options,f,this.speed)),m&&m(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return ld(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ld(e)}get time(){return ld(this.currentTime)}set time(e){var t;e=od(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ld.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ld(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Ou,startTime:r}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null==(t=(e=this.options).onPlay)||t.call(e);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!=r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ld.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const mh=e=>180*e/Math.PI,fh=e=>{const t=mh(Math.atan2(e[1],e[0]));return yh(t)},gh={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fh,rotateZ:fh,skewX:e=>mh(Math.atan(e[1])),skewY:e=>mh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yh=e=>((e%=360)<0&&(e+=360),e),vh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),bh={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vh,scaleY:xh,scale:e=>(vh(e)+xh(e))/2,rotateX:e=>yh(mh(Math.atan2(e[6],e[5]))),rotateY:e=>yh(mh(Math.atan2(-e[2],e[0]))),rotateZ:fh,rotate:fh,skewX:e=>mh(Math.atan(e[4])),skewY:e=>mh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jh(e){return e.includes("scale")?1:0}function wh(e,t){if(!e||"none"===e)return jh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=bh,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gh,i=t}if(!i)return jh(t);const s=r[t],a=i[1].split(",").map(_h);return"function"==typeof s?s(a):a[s]}function _h(e){return parseFloat(e.trim())}const kh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sh=(()=>new Set(kh))(),Nh=e=>e===Ud||e===nu,Th=new Set(["x","y","z"]),Ph=kh.filter((e=>!Th.has(e)));const Ch={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wh(t,"x"),y:(e,{transform:t})=>wh(t,"y")};Ch.translateX=Ch.x,Ch.translateY=Ch.y;const Eh=new Set;let Oh=!1,Ah=!1,Ih=!1;function zh(){if(Ah){const e=Array.from(Eh).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Ph.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{var r;null==(r=e.getValue(t))||r.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Ah=!1,Oh=!1,Eh.forEach((e=>e.complete(Ih))),Eh.clear()}function Rh(){Eh.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Ah=!0)}))}class Lh{constructor(e,t,n,r,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Eh.add(this),Oh||(Oh=!0,Ed.read(Rh),Ed.resolveKeyframes(zh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null==r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)null!=e[t]||(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eh.delete(this)}cancel(){"scheduled"===this.state&&(Eh.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Mh=td((()=>void 0!==window.ScrollTimeline)),Dh={};function Fh(e,t){const n=td(e);return()=>{var e;return null!=(e=Dh[t])?e:n()}}const Bh=Fh((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),Vh=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vh([0,.65,.55,1]),circOut:Vh([.55,0,1,.45]),backIn:Vh([.31,.01,.66,-.59]),backOut:Vh([.33,1.53,.69,.99])};function qh(e,t){return e?"function"==typeof e?Bh()?Au(e,t):"ease-out":kd(e)?Vh(e):Array.isArray(e)?e.map((e=>qh(e,t)||Uh.easeOut)):Uh[e]:void 0}function $h(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const u=qh(o,i);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(d,h)}function Wh(e){return"function"==typeof e&&"applyToOptions"in e}class Hh extends uh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=e,e.type;const l=function(e){var t=e,{type:n}=t,r=f(t,["type"]);return Wh(n)&&Bh()?n.applyToOptions(r):(null!=r.duration||(r.duration=300),null!=r.ease||(r.ease="easeOut"),r)}(e);this.animation=$h(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=lh(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return ld(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ld(e)}get time(){return ld(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=od(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Mh()?(this.animation.timeline=e,nd):t(this)}}const Qh={anticipate:yd,backInOut:gd,circInOut:bd};function Kh(e){"string"==typeof e.ease&&e.ease in Qh&&(e.ease=Qh[e.ease])}class Jh extends Hh{constructor(e){Kh(e),dh(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:s,element:a}=n,o=f(n,["motionValue","onUpdate","onComplete","element"]);if(!r)return;if(void 0!==e)return void r.set(e);const l=new ph(m(p({},o),{autoplay:!1})),c=od(null!=(t=this.finishedTime)?t:this.time);r.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const Xh=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!gu.test(e)&&"0"!==e||e.startsWith("url(")));function Yh(e){e.duration=0,e.type="keyframes"}const Gh=new Set(["opacity","clipPath","filter","transform"]),Zh=td((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class ep extends uh{constructor(e){var t,n=e,{autoplay:r=!0,delay:i=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:u,element:h}=n,m=f(n,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=Ld.now();const g=p({autoplay:r,delay:i,type:s,repeat:a,repeatDelay:o,repeatType:l,name:d,motionValue:u,element:h},m),y=(null==h?void 0:h.KeyframeResolver)||Lh;this.keyframeResolver=new y(c,((e,t,n)=>this.onKeyframesResolved(e,t,g,!n)),d,u,h),null==(t=this.keyframeResolver)||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Ld.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=Xh(i,t),o=Xh(s,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Wh(n))&&r)}(e,i,s,a)||(!Yc.instantAnimations&&o||null==c||c(lh(e,n,t)),e[0]=e[e.length-1],Yh(n),n.repeat=0);const d=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,u=m(p({startTime:d,finalKeyframe:t},n),{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!((null==(t=null==n?void 0:n.owner)?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Zh()&&r&&Gh.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==s&&0!==a&&"inertia"!==o}(u)?new Jh(m(p({},u),{element:u.motionValue.owner.current})):new ph(u);h.finished.then((()=>this.notifyFinished())).catch(nd),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),Ih=!0,Rh(),zh(),Ih=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const tp=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function np(e,t,n=1){const[r,i]=function(e){const t=tp.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!=n?n:r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Gc(e)?parseFloat(e):e}return Bd(i)?np(i,t,n+1):i}function rp(e,t){var n,r;return null!=(r=null!=(n=null==e?void 0:e[t])?n:null==e?void 0:e.default)?r:e}const ip=new Set(["width","height","top","left","right","bottom",...kh]),sp=e=>t=>t.test(e),ap=[Ud,nu,tu,eu,iu,ru,{test:e=>"auto"===e,parse:e=>e}],op=e=>ap.find(sp(e));const lp=new Set(["brightness","contrast","saturate","opacity"]);function cp(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Hd)||[];if(!r)return e;const i=n.replace(r,"");let s=lp.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const dp=/\b([a-z-]*)\(.*?\)/gu,up=m(p({},gu),{getAnimatableNone:e=>{const t=e.match(dp);return t?t.map(cp).join(" "):e}}),hp=m(p({},Ud),{transform:Math.round}),pp=m(p({borderWidth:nu,borderTopWidth:nu,borderRightWidth:nu,borderBottomWidth:nu,borderLeftWidth:nu,borderRadius:nu,radius:nu,borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomRightRadius:nu,borderBottomLeftRadius:nu,width:nu,maxWidth:nu,height:nu,maxHeight:nu,top:nu,right:nu,bottom:nu,left:nu,padding:nu,paddingTop:nu,paddingRight:nu,paddingBottom:nu,paddingLeft:nu,margin:nu,marginTop:nu,marginRight:nu,marginBottom:nu,marginLeft:nu,backgroundPositionX:nu,backgroundPositionY:nu},{rotate:eu,rotateX:eu,rotateY:eu,rotateZ:eu,scale:$d,scaleX:$d,scaleY:$d,scaleZ:$d,skew:eu,skewX:eu,skewY:eu,distance:nu,translateX:nu,translateY:nu,translateZ:nu,x:nu,y:nu,z:nu,perspective:nu,transformPerspective:nu,opacity:qd,originX:su,originY:su,originZ:nu}),{zIndex:hp,fillOpacity:qd,strokeOpacity:qd,numOctaves:hp}),mp=m(p({},pp),{color:ou,backgroundColor:ou,outlineColor:ou,fill:ou,stroke:ou,borderColor:ou,borderTopColor:ou,borderRightColor:ou,borderBottomColor:ou,borderLeftColor:ou,filter:up,WebkitFilter:up}),fp=e=>mp[e];function gp(e,t){let n=fp(e);return n!==up&&(n=gu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yp=new Set(["auto","none","0"]);class vp extends Lh{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),Bd(n))){const r=np(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ip.has(n)||2!==e.length)return;const[r,i]=e,s=op(r),a=op(i);if(s!==a)if(Nh(s)&&Nh(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else Ch[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(null===e[i]||("number"==typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||ed(r)))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!yp.has(t)&&hu(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=gp(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ch[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Ch[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach((([e,n])=>{t.getValue(e).set(n)})),this.resolveNoneKeyframes()}}const xp=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function bp(e){return Zc(e)&&"offsetHeight"in e}class jp{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;const n=Ld.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(t=this.events.change)||t.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ld.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ad);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ed.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ld.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return cd(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wp(e,t){return new jp(e,t)}const{schedule:_p,cancel:kp}=Cd(queueMicrotask,!1),Sp={x:!1,y:!1};function Np(){return Sp.x||Sp.y}function Tp(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[n,m(p({passive:!0},t),{signal:r.signal}),()=>r.abort()]}function Pp(e){return!("touch"===e.pointerType||Np())}const Cp=(e,t)=>!!t&&(e===t||Cp(e,t.parentElement)),Ep=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Op=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Ap=new WeakSet;function Ip(e){return t=>{"Enter"===t.key&&e(t)}}function zp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Rp(e){return Ep(e)&&!Np()}function Lp(e,t,n={}){const[r,i,s]=Tp(e,n),a=e=>{const r=e.currentTarget;if(!Rp(e))return;Ap.add(r);const s=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ap.has(r)&&Ap.delete(r),Rp(e)&&"function"==typeof s&&s(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||Cp(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),bp(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ip((()=>{if(Ap.has(n))return;zp(n,"down");const e=Ip((()=>{zp(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>zp(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i))),t=e,Op.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),s}function Mp(e){return Zc(e)&&"ownerSVGElement"in e}const Dp=e=>Boolean(e&&e.getVelocity),Fp=[...ap,ou,gu],Bp=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Vp(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Up(...e){return M.useCallback(function(...e){return t=>{let n=!1;const r=e.map((e=>{const r=Vp(e,t);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Vp(e[t],null)}}}}(...e),e)}class qp extends M.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=bp(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $p({children:e,isPresent:t,anchorX:n,root:r}){const i=M.useId(),s=M.useRef(null),a=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=M.useContext(Bp),l=Up(s,null==e?void 0:e.ref);return M.useInsertionEffect((()=>{const{width:e,height:l,top:c,left:d,right:u}=a.current;if(t||!s.current||!e||!l)return;const h="left"===n?`left: ${d}`:`right: ${u}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");o&&(p.nonce=o);const m=null!=r?r:document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${l}px !important;\n            ${h}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{m.contains(p)&&m.removeChild(p)}}),[t]),w.jsx(qp,{isPresent:t,childRef:s,sizeRef:a,children:M.cloneElement(e,{ref:l})})}const Wp=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=$c(Hp),d=M.useId();let u=!0,h=M.useMemo((()=>(u=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))})),[n,c,r]);return s&&u&&(h=p({},h)),M.useMemo((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[n]),M.useEffect((()=>{!n&&!c.size&&r&&r()}),[n]),"popLayout"===a&&(e=w.jsx($p,{isPresent:n,anchorX:o,root:l,children:e})),w.jsx(Qc.Provider,{value:h,children:e})};function Hp(){return new Map}function Qp(e=!0){const t=M.useContext(Qc);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=M.useId();M.useEffect((()=>{if(e)return i(s)}),[e]);const a=M.useCallback((()=>e&&r&&r(s)),[s,r,e]);return!n&&r?[!1,a]:[!0]}const Kp=e=>e.key||"";function Jp(e){const t=[];return M.Children.forEach(e,(e=>{M.isValidElement(e)&&t.push(e)})),t}const Xp=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,d]=Qp(a),u=M.useMemo((()=>Jp(e)),[e]),h=a&&!c?[]:u.map(Kp),p=M.useRef(!0),m=M.useRef(u),f=$c((()=>new Map)),[g,y]=M.useState(u),[v,x]=M.useState(u);Hc((()=>{p.current=!1,m.current=u;for(let e=0;e<v.length;e++){const t=Kp(v[e]);h.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[v,h.length,h.join("-")]);const b=[];if(u!==g){let e=[...u];for(let t=0;t<v.length;t++){const n=v[t],r=Kp(n);h.includes(r)||(e.splice(t,0,n),b.push(n))}return"wait"===s&&b.length&&(e=b),x(Jp(e)),y(u),null}const{forceRender:j}=M.useContext(qc);return w.jsx(w.Fragment,{children:v.map((e=>{const g=Kp(e),y=!(a&&!c)&&(u===v||h.includes(g));return w.jsx(Wp,{isPresent:y,initial:!(p.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:y?void 0:()=>{if(!f.has(g))return;f.set(g,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null==j||j(),x(m.current),a&&(null==d||d()),r&&r())},anchorX:o,children:e},g)}))})},Yp=M.createContext({strict:!1}),Gp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zp={};for(const Gj in Gp)Zp[Gj]={isEnabled:e=>Gp[Gj].some((t=>!!e[t]))};const em=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tm(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||em.has(e)}let nm=e=>!tm(e);try{"function"==typeof(rm=require("@emotion/is-prop-valid").default)&&(nm=e=>e.startsWith("on")?!tm(e):rm(e))}catch(Yj){}var rm;const im=M.createContext({});function sm(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function am(e){return"string"==typeof e||Array.isArray(e)}const om=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lm=["initial",...om];function cm(e){return sm(e.animate)||lm.some((t=>am(e[t])))}function dm(e){return Boolean(cm(e)||e.variants)}function um(e){const{initial:t,animate:n}=function(e,t){if(cm(e)){const{initial:t,animate:n}=e;return{initial:!1===t||am(t)?t:void 0,animate:am(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,M.useContext(im));return M.useMemo((()=>({initial:t,animate:n})),[hm(t),hm(n)])}function hm(e){return Array.isArray(e)?e.join(" "):e}const pm={};function mm(e,{layout:t,layoutId:n}){return Sh.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!pm[e]||"opacity"===e)}const fm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gm=kh.length;function ym(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(Sh.has(l))a=!0;else if(Dd(l))i[l]=e;else{const t=xp(e,pp[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<gm;s++){const a=kh[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=xp(o,pp[a]);l||(i=!1,r+=`${fm[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const vm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xm(e,t,n){for(const r in t)Dp(t[r])||mm(r,n)||(e[r]=t[r])}function bm(e,t){const n={};return xm(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return M.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return ym(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}function jm(e,t){const n={},r=bm(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const wm={offset:"stroke-dashoffset",array:"stroke-dasharray"},_m={offset:"strokeDashoffset",array:"strokeDasharray"};function km(e,t,n,r,i){var s,a,o=t,{attrX:l,attrY:c,attrScale:d,pathLength:u,pathSpacing:h=1,pathOffset:p=0}=o;if(ym(e,f(o,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:m,style:g}=e;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=null!=(s=m.transformOrigin)?s:"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=null!=(a=null==i?void 0:i.transformBox)?a:"fill-box",delete m.transformBox),void 0!==l&&(m.x=l),void 0!==c&&(m.y=c),void 0!==d&&(m.scale=d),void 0!==u&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?wm:_m;e[s.offset]=nu.transform(-r);const a=nu.transform(t),o=nu.transform(n);e[s.array]=`${a} ${o}`}(m,u,h,p,!1)}const Sm=()=>m(p({},{style:{},transform:{},transformOrigin:{},vars:{}}),{attrs:{}}),Nm=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Tm(e,t,n,r){const i=M.useMemo((()=>{const n=Sm();return km(n,t,Nm(r),e.transformTemplate,e.style),m(p({},n.attrs),{style:p({},n.style)})}),[t]);if(e.style){const t={};xm(t,e.style,e),i.style=p(p({},t),i.style)}return i}const Pm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cm(e){return"string"==typeof e&&!e.includes("-")&&!!(Pm.indexOf(e)>-1||/[A-Z]/u.test(e))}function Em(e,t,n,{latestValues:r},i,s=!1){const a=(Cm(e)?Tm:jm)(t,r,i,e),o=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(nm(i)||!0===n&&tm(i)||!t&&!tm(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,s),l=e!==M.Fragment?m(p(p({},o),a),{ref:n}):{},{children:c}=t,d=M.useMemo((()=>Dp(c)?c.get():c),[c]);return M.createElement(e,m(p({},l),{children:d}))}function Om(e){const t=[{},{}];return null==e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Am(e,t,n,r){if("function"==typeof t){const[i,s]=Om(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,s]=Om(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function Im(e){return Dp(e)?e.get():e}function zm(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Im(s[h]);let{initial:a,animate:o}=e;const l=cm(e),c=dm(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?o:a;if(u&&"boolean"!=typeof u&&!sm(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=Am(e,t[n]);if(r){const e=r,{transitionEnd:t,transition:n}=e,s=f(e,["transitionEnd","transition"]);for(const r in s){let e=s[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in t)i[r]=t[r]}}}return i}const Rm=e=>(t,n)=>{const r=M.useContext(im),i=M.useContext(Qc),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:zm(n,r,i,e),renderState:t()}}(e,t,r,i);return n?s():$c(s)};function Lm(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(Dp(i[a])||t.style&&Dp(t.style[a])||mm(a,e)||void 0!==(null==(r=null==n?void 0:n.getValue(a))?void 0:r.liveStyle))&&(s[a]=i[a]);return s}const Mm=Rm({scrapeMotionValuesFromProps:Lm,createRenderState:vm});function Dm(e,t,n){const r=Lm(e,t,n);for(const i in e)if(Dp(e[i])||Dp(t[i])){r[-1!==kh.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const Fm=Rm({scrapeMotionValuesFromProps:Dm,createRenderState:Sm}),Bm=Symbol.for("motionComponentSymbol");function Vm(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Um(e,t,n){return M.useCallback((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):Vm(n)&&(n.current=r))}),[t])}const qm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$m="data-"+qm("framerAppearId"),Wm=M.createContext({});function Hm(e,t,n,r,i){var s,a;const{visualElement:o}=M.useContext(im),l=M.useContext(Yp),c=M.useContext(Qc),d=M.useContext(Bp).reducedMotion,u=M.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const h=u.current,p=M.useContext(Wm);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qm(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&Vm(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(u.current,n,i,p);const m=M.useRef(!1);M.useInsertionEffect((()=>{h&&m.current&&h.update(n,c)}));const f=n[$m],g=M.useRef(Boolean(f)&&!(null==(s=window.MotionHandoffIsComplete)?void 0:s.call(window,f))&&(null==(a=window.MotionHasOptimisedAnimation)?void 0:a.call(window,f)));return Hc((()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())})),M.useEffect((()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,f)})),g.current=!1),h.enteringChildren=void 0)})),h}function Qm(e){if(e)return!1!==e.options.allowProjection?e.projection:Qm(e.parent)}function Km(e,{forwardMotionProps:t=!1}={},n,r){var i,s;n&&function(e){for(const t in e)Zp[t]=p(p({},Zp[t]),e[t])}(n);const a=Cm(e)?Fm:Mm;function o(n,i){let s;const o=m(p(p({},M.useContext(Bp)),n),{layoutId:Jm(n)}),{isStatic:l}=o,c=um(n),d=a(n,l);if(!l&&Wc){M.useContext(Yp).strict;const t=function(e){const{drag:t,layout:n}=Zp;if(!t&&!n)return{};const r=p(p({},t),n);return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);s=t.MeasureLayout,c.visualElement=Hm(e,d,o,r,t.ProjectionNode)}return w.jsxs(im.Provider,{value:c,children:[s&&c.visualElement?w.jsx(s,p({visualElement:c.visualElement},o)):null,Em(e,n,Um(d,c.visualElement,i),d,l,t)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${null!=(s=null!=(i=e.displayName)?i:e.name)?s:""})`}`;const l=M.forwardRef(o);return l[Bm]=e,l}function Jm({layoutId:e}){const t=M.useContext(qc).id;return t&&void 0!==e?t+"-"+e:e}function Xm(e,t){if("undefined"==typeof Proxy)return Km;const n=new Map,r=(n,r)=>Km(n,r,e,t);return new Proxy(((e,t)=>r(e,t)),{get:(i,s)=>"create"===s?r:(n.has(s)||n.set(s,Km(s,void 0,e,t)),n.get(s))})}function Ym({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Gm(e){return void 0===e||1===e}function Zm({scale:e,scaleX:t,scaleY:n}){return!Gm(e)||!Gm(t)||!Gm(n)}function ef(e){return Zm(e)||tf(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tf(e){return nf(e.x)||nf(e.y)}function nf(e){return e&&"0%"!==e}function rf(e,t,n){return n+t*(e-n)}function sf(e,t,n,r,i){return void 0!==i&&(e=rf(e,i,r)),rf(e,n,r)+t}function af(e,t=0,n=1,r,i){e.min=sf(e.min,t,n,r,i),e.max=sf(e.max,t,n,r,i)}function of(e,{x:t,y:n}){af(e.x,t.translate,t.scale,t.originPoint),af(e.y,n.translate,n.scale,n.originPoint)}const lf=.999999999999,cf=1.0000000000001;function df(e,t){e.min=e.min+t,e.max=e.max+t}function uf(e,t,n,r,i=.5){af(e,t,n,xu(e.min,e.max,i),r)}function hf(e,t){uf(e.x,t.x,t.scaleX,t.scale,t.originX),uf(e.y,t.y,t.scaleY,t.scale,t.originY)}function pf(e,t){return Ym(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const mf=()=>({x:{min:0,max:0},y:{min:0,max:0}}),ff={current:null},gf={current:!1};const yf=new WeakMap;const vf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xf{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ld.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ed.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget=p({},o),this.initialValues=t.initial?p({},o):{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=cm(t),this.isVariantNode=dm(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const c=this.scrapeMotionValuesFromProps(t,{},this),{willChange:d}=c,u=f(c,["willChange"]);for(const h in u){const e=u[h];void 0!==o[h]&&Dp(e)&&e.set(o[h])}}mount(e){var t;this.current=e,yf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),gf.current||function(){if(gf.current=!0,Wc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ff.current=e.matches;e.addEventListener("change",t),t()}else ff.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ff.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Od(this.notifyUpdate),Od(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),null!=this.enteringChildren||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Sh.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ed.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}));let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Zp){const t=Zp[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<vf.length;n++){const t=vf[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Dp(i))e.addValue(r,i);else if(Dp(s))e.addValue(r,wp(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,wp(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=wp(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!=(n=this.getBaseTargetFromProps(this.props,e))?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return null!=r&&("string"==typeof r&&(Gc(r)||ed(r))?r=parseFloat(r):(i=r,!Fp.find(sp(i))&&gu.test(t)&&(r=gp(e,t))),this.setBaseTarget(e,Dp(r)?r.get():r)),Dp(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=Am(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Dp(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ad),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){_p.render(this.render)}}class bf extends xf{constructor(){super(...arguments),this.KeyframeResolver=vp}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dp(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function jf(e,{style:t,vars:n},r,i){const s=e.style;let a;for(a in t)s[a]=t[a];for(a in null==i||i.applyProjectionStyles(s,r),n)s.setProperty(a,n[a])}class wf extends bf{constructor(){super(...arguments),this.type="html",this.renderInstance=jf}readValueFromInstance(e,t){var n,r;if(Sh.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?jh(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wh(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Dd(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return pf(e,t)}build(e,t,n){ym(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Lm(e,t,n)}}const _f=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class kf extends bf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mf}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sh.has(t)){const e=fp(t);return e&&e.default||0}return t=_f.has(t)?t:qm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Dm(e,t,n)}build(e,t,n){km(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){jf(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(_f.has(i)?i:qm(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=Nm(e.tagName),super.mount(e)}}const Sf=(e,t)=>Cm(e)?new kf(t):new wf(t,{allowProjection:e!==M.Fragment});function Nf(e,t,n){const r=e.getProps();return Am(r,t,void 0!==n?n:r.custom,e)}const Tf=e=>Array.isArray(e);function Pf(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wp(n))}function Cf(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Dp(r)&&r.add))return n.add(t);if(!n&&Yc.WillChange){const n=new Yc.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function Ef(e){return e.props[$m]}const Of=e=>null!==e;const Af={type:"spring",stiffness:500,damping:25,restSpeed:10},If={type:"keyframes",duration:.8},zf={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rf=(e,{keyframes:t})=>t.length>2?If:Sh.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Af:zf;const Lf=(e,t,n,r={},i,s)=>a=>{const o=rp(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=od(l);const d=m(p({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},o),{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){var t=e,{when:n,delay:r,delayChildren:i,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:u}=t,h=f(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(h).length})(o)||Object.assign(d,Rf(e,d)),d.duration&&(d.duration=od(d.duration)),d.repeatDelay&&(d.repeatDelay=od(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(Yh(d),0===d.delay&&(u=!0)),(Yc.instantAnimations||Yc.skipAnimations)&&(u=!0,Yh(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!s&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Of),s=t&&"loop"!==n&&t%2==1?0:i.length-1;return s&&void 0!==r?r:i[s]}(d.keyframes,o);if(void 0!==e)return void Ed.update((()=>{d.onUpdate(e),d.onComplete()}))}return o.isSync?new ph(d):new ep(d)};function Mf({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Df(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let a=t,{transition:o=e.getDefaultTransition(),transitionEnd:l}=a,c=f(a,["transition","transitionEnd"]);r&&(o=r);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const t=e.getValue(h,null!=(s=e.latestValues[h])?s:null),r=c[h];if(void 0===r||u&&Mf(u,h))continue;const i=p({delay:n},rp(o||{},h)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!i.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){const t=Ef(e);if(t){const e=window.MotionHandoffAnimation(t,h,Ed);null!==e&&(i.startTime=e,l=!0)}}Cf(e,h),t.start(Lf(h,t,r,e.shouldReduceMotion&&ip.has(h)?{type:!1}:i,e,l));const m=t.animation;m&&d.push(m)}return l&&Promise.all(d).then((()=>{Ed.update((()=>{l&&function(e,t){let n=Nf(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=f(n,["transitionEnd","transition"]);s=p(p({},s),r);for(const o in s)Pf(e,o,(a=s[o],Tf(a)?a[a.length-1]||0:a));var a}(e,l)}))})),d}function Ff(e,t,n,r=0,i=1){const s=Array.from(e).sort(((e,t)=>e.sortNodePosition(t))).indexOf(t),a=e.size,o=(a-1)*r;return"function"==typeof n?n(s,a):1===i?s*r:o-s*r}function Bf(e,t,n={}){var r;const i=Nf(e,t,"exit"===n.type?null==(r=e.presenceContext)?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(Df(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,n=0,r=0,i=0,s=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Bf(l,t,m(p({},a),{delay:n+("function"==typeof r?0:r)+Ff(e.variantChildren,l,r,i,s)})).then((()=>l.notify("AnimationComplete",t))));return Promise.all(o)}(e,t,r,i,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function Vf(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Uf=lm.length;function qf(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&qf(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Uf;n++){const r=lm[n],i=e.props[r];(am(i)||!1===i)&&(t[r]=i)}return t}const $f=[...om].reverse(),Wf=om.length;function Hf(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Bf(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=Bf(e,t,n);else{const i="function"==typeof t?Nf(e,t,n.custom):t;r=Promise.all(Df(e,i,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}function Qf(e){let t=Hf(e),n=Xf(),r=!0;const i=t=>(n,r)=>{var i;const s=Nf(e,r,"exit"===t?null==(i=e.presenceContext)?void 0:i.custom:void 0);if(s){const e=s,{transition:t,transitionEnd:r}=e,i=f(e,["transition","transitionEnd"]);n=p(p(p({},n),i),r)}return n};function s(s){const{props:a}=e,o=qf(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Wf;t++){const h=$f[t],m=n[h],f=void 0!==a[h]?a[h]:o[h],g=am(f),y=h===s?m.isActive:null;!1===y&&(u=t);let v=f===o[h]&&f!==a[h]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys=p({},d),!m.isActive&&null===y||!f&&!m.prevProp||sm(f)||"boolean"==typeof f)continue;const x=Kf(m.prevProp,f);let b=x||h===s&&m.isActive&&!v&&g||t>u&&g,j=!1;const w=Array.isArray(f)?f:[f];let _=w.reduce(i(h),{});!1===y&&(_={});const{prevResolvedValues:k={}}=m,S=p(p({},k),_),N=t=>{b=!0,c.has(t)&&(j=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=_[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Tf(t)&&Tf(n)?!Vf(t,n):t!==n,r?null!=t?N(e):c.add(e):void 0!==t&&c.has(e)?N(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=_,m.isActive&&(d=p(p({},d),_)),r&&e.blockInitialAnimation&&(b=!1);const T=v&&x;b&&(!T||j)&&l.push(...w.map((t=>{const n={type:h};if("string"==typeof t&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=Nf(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=Ff(r.enteringChildren,e,t)}}return{animation:t,options:n}})))}if(c.size){const t={};if("boolean"!=typeof a.initial){const n=Nf(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!=r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null==(i=e.variantChildren)||i.forEach((e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Xf(),r=!0}}}function Kf(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Vf(t,e)}function Jf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xf(){return{animate:Jf(!0),whileInView:Jf(),whileHover:Jf(),whileTap:Jf(),whileDrag:Jf(),whileFocus:Jf(),exit:Jf()}}class Yf{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Gf=0;const Zf={animation:{Feature:class extends Yf{constructor(e){super(e),e.animationState||(e.animationState=Qf(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends Yf{constructor(){super(...arguments),this.id=Gf++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function eg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function tg(e){return{point:{x:e.pageX,y:e.pageY}}}function ng(e,t,n,r){return eg(e,t,(e=>t=>Ep(t)&&e(t,tg(t)))(n),r)}function rg(e){return e.max-e.min}function ig(e,t,n,r=.5){e.origin=r,e.originPoint=xu(t.min,t.max,e.origin),e.scale=rg(n)/rg(t),e.translate=xu(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function sg(e,t,n,r){ig(e.x,t.x,n.x,r?r.originX:void 0),ig(e.y,t.y,n.y,r?r.originY:void 0)}function ag(e,t,n){e.min=n.min+t.min,e.max=e.min+rg(t)}function og(e,t,n){e.min=t.min-n.min,e.max=e.min+rg(t)}function lg(e,t,n){og(e.x,t.x,n.x),og(e.y,t.y,n.y)}function cg(e){return[e("x"),e("y")]}const dg=({current:e})=>e?e.ownerDocument.defaultView:null,ug=(e,t)=>Math.abs(e-t);class hg{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=fg(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ug(e.x,t.x),r=ug(e.y,t.y);return Math.sqrt(u(n,2)+u(r,2))}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Ad;this.history.push(m(p({},r),{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=pg(t,this.transformPagePoint),Ed.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=fg("pointercancel"===e.type?this.lastMoveEventInfo:pg(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Ep(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=r||window;const a=pg(tg(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=Ad;this.history=[m(p({},o),{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,fg(a,this.history)),this.removeListeners=id(ng(this.contextWindow,"pointermove",this.handlePointerMove),ng(this.contextWindow,"pointerup",this.handlePointerUp),ng(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Od(this.updatePoint)}}function pg(e,t){return t?{point:t(e.point)}:e}function mg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fg({point:e},t){return{point:e,delta:mg(e,yg(t)),offset:mg(e,gg(t)),velocity:vg(t,.1)}}function gg(e){return e[0]}function yg(e){return e[e.length-1]}function vg(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=yg(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>od(t)));)n--;if(!r)return{x:0,y:0};const s=ld(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function xg(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function bg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const jg=.35;function wg(e,t,n){return{min:_g(e,t),max:_g(e,n)}}function _g(e,t){return"number"==typeof e?e:e[t]||0}const kg=new WeakMap;class Sg{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new hg(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tg(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Sp[s]?null:(Sp[s]=!0,()=>{Sp[s]=!1}):Sp.x||Sp.y?null:(Sp.x=Sp.y=!0,()=>{Sp.x=Sp.y=!1}),!this.openDragLock))return;var s;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cg((e=>{let t=this.getAxisMotionValue(e).get()||0;if(tu.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=rg(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Ed.postRender((()=>i(e,t))),Cf(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>cg((e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:dg(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ed.postRender((()=>a(n,r)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ng(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?xu(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?xu(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,i=this.constraints;t&&Vm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:xg(e.x,n,i),y:xg(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=jg){return!1===e?e=0:!0===e&&(e=jg),{x:wg(e,"left","right"),y:wg(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cg((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vm(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=pf(e,n),{scroll:i}=t;return i&&(df(r.x,i.offset.x),df(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:bg(e.x,t.x),y:bg(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Ym(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=cg((a=>{if(!Ng(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u=p(p({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,u)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Cf(this.visualElement,e),n.start(Lf(e,n,0,t,this.visualElement,!1))}stopAnimation(){cg((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){cg((e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()}))}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){cg((t=>{const{drag:n}=this.getProps();if(!Ng(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-xu(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Vm(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cg((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=rg(e),i=rg(t);return i>r?n=sd(t.min,t.max-r,e.min):r>i&&(n=sd(e.min,e.max-i,t.min)),Xc(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),cg((t=>{if(!Ng(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(xu(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;kg.set(this.visualElement,this);const e=ng(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Vm(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ed.read(t);const i=eg(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(cg((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=jg,dragMomentum:a=!0}=e;return m(p({},e),{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function Ng(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Tg=e=>(t,n)=>{e&&Ed.postRender((()=>e(t,n)))};const Pg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Eg={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!nu.test(e))return e;e=parseFloat(e)}return`${Cg(e,t.target.x)}% ${Cg(e,t.target.y)}%`}},Og={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=gu.parse(e);if(i.length>5)return r;const s=gu.createTransformer(e),a="number"!=typeof i[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=l;const c=xu(o,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=c),"number"==typeof i[3+a]&&(i[3+a]/=c),s(i)}};let Ag=!1;class Ig extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)pm[t]=e[t],Dd(t)&&(pm[t].isCSSVariable=!0)}(Rg),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),Ag&&i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions(m(p({},i.options),{onExitComplete:()=>this.safeToRemove()}))),Pg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:s}=n;return s?(s.isPresent=i,Ag=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ed.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_p.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Ag=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zg(e){const[t,n]=Qp(),r=M.useContext(qc);return w.jsx(Ig,m(p({},e),{layoutGroup:r,switchLayoutGroup:M.useContext(Wm),isPresent:t,safeToRemove:n}))}const Rg={borderRadius:m(p({},Eg),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Eg,borderTopRightRadius:Eg,borderBottomLeftRadius:Eg,borderBottomRightRadius:Eg,boxShadow:Og};const Lg=(e,t)=>e.depth-t.depth;class Mg{constructor(){this.children=[],this.isDirty=!1}add(e){Kc(this.children,e),this.isDirty=!0}remove(e){Jc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lg),this.isDirty=!1,this.children.forEach(e)}}const Dg=["TopLeft","TopRight","BottomLeft","BottomRight"],Fg=Dg.length,Bg=e=>"string"==typeof e?parseFloat(e):e,Vg=e=>"number"==typeof e||nu.test(e);function Ug(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const qg=Wg(0,.5,xd),$g=Wg(.5,.95,nd);function Wg(e,t,n){return r=>r<e?0:r>t?1:n(sd(e,t,r))}function Hg(e,t){e.min=t.min,e.max=t.max}function Qg(e,t){Hg(e.x,t.x),Hg(e.y,t.y)}function Kg(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jg(e,t,n,r,i){return e=rf(e-=t,1/n,r),void 0!==i&&(e=rf(e,1/i,r)),e}function Xg(e,t,[n,r,i],s,a){!function(e,t=0,n=1,r=.5,i,s=e,a=e){tu.test(t)&&(t=parseFloat(t),t=xu(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=xu(s.min,s.max,r);e===s&&(o-=t),e.min=Jg(e.min,t,n,o,i),e.max=Jg(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,s,a)}const Yg=["x","scaleX","originX"],Gg=["y","scaleY","originY"];function Zg(e,t,n,r){Xg(e.x,t,Yg,n?n.x:void 0,r?r.x:void 0),Xg(e.y,t,Gg,n?n.y:void 0,r?r.y:void 0)}function ey(e){return 0===e.translate&&1===e.scale}function ty(e){return ey(e.x)&&ey(e.y)}function ny(e,t){return e.min===t.min&&e.max===t.max}function ry(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iy(e,t){return ry(e.x,t.x)&&ry(e.y,t.y)}function sy(e){return rg(e.x)/rg(e.y)}function ay(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oy{constructor(){this.members=[]}add(e){Kc(this.members,e),e.scheduleRender()}remove(e){if(Jc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ly=["","X","Y","Z"];let cy=0;function dy(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function uy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ef(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ed,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&uy(r)}function hy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=cy++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fy),this.nodes.forEach(wy),this.nodes.forEach(_y),this.nodes.forEach(gy)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mg)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ad),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=Mp(t)&&!(Mp(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;Ed.read((()=>{r=window.innerWidth})),e(t,(()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Ld.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Od(r),e(s-t))};return Ed.setup(r,!0),()=>Od(r)}(i,250),Pg.hasAnimatedSinceResize&&(Pg.hasAnimatedSinceResize=!1,this.nodes.forEach(jy)))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||Cy,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!iy(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t=m(p({},rp(i,"layout")),{onPlay:a,onComplete:o});(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||jy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Od(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ky),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vy);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(xy);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(by),this.nodes.forEach(py),this.nodes.forEach(my)):this.nodes.forEach(xy),this.clearAllSnapshots();const e=Ld.now();Ad.delta=Xc(0,1e3/60,e-Ad.timestamp),Ad.timestamp=e,Ad.isProcessing=!0,Id.update.process(Ad),Id.preRender.process(Ad),Id.render.process(Ad),Ad.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_p.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yy),this.sharedNodes.forEach(Sy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ed.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ed.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||rg(this.snapshot.measuredBox.x)||rg(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ty(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||ef(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Ay((r=n).x),Ay(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(zy))){const{scroll:e}=this.root;e&&(df(n.x,e.offset.x),df(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Qg(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&Qg(n,e),df(n.x,i.offset.x),df(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};Qg(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&hf(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ef(e.latestValues)&&hf(n,e.latestValues)}return ef(this.latestValues)&&hf(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Qg(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ef(e.latestValues))continue;Zm(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Qg(r,e.measurePageBox()),Zg(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ef(this.latestValues)&&Zg(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=m(p(p({},this.options),e),{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ad.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Ad.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},lg(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Qg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var a,o,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,ag(a.x,o.x,l.x),ag(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Qg(this.target,this.layout.layoutBox),of(this.target,this.targetDelta)):Qg(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},lg(this.relativeTargetOrigin,this.target,e.target),Qg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!Zm(this.parent.latestValues)&&!tf(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Ad.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Qg(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,of(e,a)),r&&ef(s.latestValues)&&hf(e,s.latestValues))}t.x<cf&&t.x>lf&&(t.x=1),t.y<cf&&t.y>lf&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Kg(this.prevProjectionDelta.x,this.projectionDelta.x),Kg(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),sg(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&ay(this.projectionDelta.x,this.prevProjectionDelta.x)&&ay(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i=p({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Py));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,m,f,g;Ny(s.x,e.x,n),Ny(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lg(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=a,g=n,Ty(p.x,m.x,f.x,g),Ty(p.y,m.y,f.y,g),u&&(l=this.relativeTarget,h=u,ny(l.x,h.x)&&ny(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Qg(u,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){var a,o,l,c;i?(e.opacity=xu(0,null!=(a=n.opacity)?a:1,qg(r)),e.opacityExit=xu(null!=(o=t.opacity)?o:1,0,$g(r))):s&&(e.opacity=xu(null!=(l=t.opacity)?l:1,null!=(c=n.opacity)?c:1,r));for(let d=0;d<Fg;d++){const i=`border${Dg[d]}Radius`;let s=Ug(t,i),a=Ug(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Vg(s)===Vg(a)?(e[i]=Math.max(xu(Bg(s),Bg(a),r),0),(tu.test(a)||tu.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=xu(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,r;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(r=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||r.stop(),this.pendingAnimation&&(Od(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ed.update((()=>{Pg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wp(0)),this.currentAnimation=function(e,t,n){const r=Dp(e)?e:wp(e);return r.start(Lf("",r,t,n)),r.animation}(this.motionValue,[0,1e3],m(p({},e),{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Iy(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=rg(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=rg(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Qg(t,n),hf(t,i),sg(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new oy);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&dy("z",e,r,this.animationValues);for(let i=0;i<ly.length;i++)dy(`rotate${ly[i]}`,e,r,this.animationValues),dy(`skew${ly[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){var n,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Im(null==t?void 0:t.pointerEvents)||"",void(e.transform=i?i(this.latestValues,""):"none");const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Im(null==t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!ef(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1));e.visibility="";const a=s.animationValues||s.latestValues;this.applyTransformsToTarget();let o=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a);i&&(o=i(a,o)),e.transform=o;const{x:l,y:c}=this.projectionDelta;e.transformOrigin=`${100*l.origin}% ${100*c.origin}% 0`,s.animationValues?e.opacity=s===this?null!=(r=null!=(n=a.opacity)?n:this.latestValues.opacity)?r:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:e.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const d in pm){if(void 0===a[d])continue;const{correct:t,applyTo:n,isCSSVariable:r}=pm[d],i="none"===o?a[d]:t(a[d],s);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=i}else r?this.options.visualElement.renderState.vars[d]=i:e[d]=i}this.options.layoutId&&(e.pointerEvents=s===this?Im(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()})),this.root.nodes.forEach(vy),this.root.sharedNodes.clear()}}}function py(e){e.updateLayout()}function my(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?cg((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=rg(r);r.min=t[e].min,r.max=r.min+i})):Iy(i,n.layoutBox,t)&&cg((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=rg(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};sg(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?sg(o,e.applyTransform(r,!0),n.measuredBox):sg(o,t,n.layoutBox);const l=!ty(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};lg(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};lg(o,t,s.layoutBox),iy(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function fy(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gy(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yy(e){e.clearSnapshot()}function vy(e){e.clearMeasurements()}function xy(e){e.isLayoutDirty=!1}function by(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wy(e){e.resolveTargetDelta()}function _y(e){e.calcProjection()}function ky(e){e.resetSkewAndRotation()}function Sy(e){e.removeLeadSnapshot()}function Ny(e,t,n){e.translate=xu(t.translate,0,n),e.scale=xu(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ty(e,t,n,r){e.min=xu(t.min,n.min,r),e.max=xu(t.max,n.max,r)}function Py(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Cy={duration:.45,ease:[.4,0,.1,1]},Ey=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Oy=Ey("applewebkit/")&&!Ey("chrome/")?Math.round:nd;function Ay(e){e.min=Oy(e.min),e.max=Oy(e.max)}function Iy(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=sy(t),i=sy(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function zy(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const Ry=hy({attachResizeListener:(e,t)=>eg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ly={current:void 0},My=hy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ly.current){const e=new Ry({});e.mount(window),e.setOptions({layoutScroll:!0}),Ly.current=e}return Ly.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Dy={pan:{Feature:class extends Yf{constructor(){super(...arguments),this.removePointerDownListener=nd}onPointerDown(e){this.session=new hg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Tg(e),onStart:Tg(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ed.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=ng(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Yf{constructor(e){super(e),this.removeGroupControls=nd,this.removeListeners=nd,this.controls=new Sg(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nd}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:My,MeasureLayout:zg}};function Fy(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Ed.postRender((()=>i(t,tg(t))))}function By(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Ed.postRender((()=>i(t,tg(t))))}const Vy=new WeakMap,Uy=new WeakMap,qy=e=>{const t=Vy.get(e.target);t&&t(e)},$y=e=>{e.forEach(qy)};function Wy(e,t,n){const r=function(e){var t=e,{root:n}=t,r=f(t,["root"]);const i=n||document;Uy.has(i)||Uy.set(i,{});const s=Uy.get(i),a=JSON.stringify(r);return s[a]||(s[a]=new IntersectionObserver($y,p({root:n},r))),s[a]}(t);return Vy.set(e,n),r.observe(e),()=>{Vy.delete(e),r.unobserve(e)}}const Hy={some:0,all:1};const Qy={inView:{Feature:class extends Yf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Hy[r]};return Wy(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Yf{mount(){const{current:e}=this.node;e&&(this.unmount=Lp(e,((e,t)=>(By(this.node,t,"Start"),(e,{success:t})=>By(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Yf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Yj){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=id(eg(this.node.current,"focus",(()=>this.onFocus())),eg(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Yf{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,s]=Tp(e,n),a=e=>{if(!Pp(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const s=e=>{Pp(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach((e=>{e.addEventListener("pointerenter",a,i)})),s}(e,((e,t)=>(Fy(this.node,t,"Start"),e=>Fy(this.node,e,"End")))))}unmount(){}}}},Ky={layout:{ProjectionNode:My,MeasureLayout:zg}},Jy=Xm(p(p(p(p({},Zf),Qy),Dy),Ky),Sf),Xy=({title:e,subtitle:t,actions:n=[],children:r,isLoading:i=!1})=>w.jsx(Jy.div,{className:"account-page-wrapper",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:w.jsx("div",{className:"page-body",children:i?w.jsxs("div",{className:"loading-state",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("p",{children:"Loading..."})]}):r})}),Yy=({title:e,subtitle:t,actions:n=[],children:r,isLoading:i=!1,isEmpty:s=!1,emptyMessage:a="No data available",className:o="",noPadding:l=!1})=>w.jsx(Jy.div,{className:`account-card ${o}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:w.jsx("div",{className:" pb-2 pb-md-4 "+(l?"no-padding":""),children:i?w.jsxs("div",{className:"card-loading",children:[w.jsx("div",{className:"loading-spinner-small"}),w.jsx("p",{children:"Loading..."})]}):s?w.jsxs("div",{className:"card-empty",children:[w.jsx("div",{className:"empty-icon",children:"📭"}),w.jsx("p",{children:a})]}):r})}),Gy=()=>{const{user:e}=B((e=>e.auth));Sa();const t=B((e=>e.manifest.data)),n=(null==t?void 0:t.dashboard_stats)||{watchlist_count:0,watch_history_count:0,liked_movies_count:0,products_count:0,active_chats_count:0,total_orders_count:0},r=(null==t?void 0:t.subscription)||{has_active_subscription:!1,days_remaining:0,subscription_status:"No Active Subscription"},i=[{id:"watchlist",label:"Watchlist",value:n.watchlist_count,icon:w.jsx(Vc,{}),color:"#B71C1C",link:"/account/watchlist"},{id:"likes",label:"Liked Movies",value:n.liked_movies_count,icon:w.jsx(xc,{}),color:"#E91E63",link:"/account/likes"},{id:"history",label:"Watch History",value:n.watch_history_count,icon:w.jsx(fc,{}),color:"#9C27B0",link:"/account/history"},{id:"products",label:"My Products",value:n.products_count,icon:w.jsx(Rc,{}),color:"#2196F3",link:"/account/products"},{id:"chats",label:"Active Chats",value:n.active_chats_count,icon:w.jsx(Tc,{}),color:"#FF5722",link:"/account/chats"},{id:"orders",label:"Total Orders",value:n.total_orders_count,icon:w.jsx(Pc,{}),color:"#4CAF50",link:"/account/orders"}],s=[{id:"browse-movies",title:"Browse Movies",description:"Discover new content",icon:w.jsx(Cc,{}),link:"/movies",color:"#B71C1C"},{id:"my-products",title:"My Products",description:"Manage your listings",icon:w.jsx(Rc,{}),link:"/account/products",color:"#2196F3"},{id:"messages",title:"Messages",description:"Check your chats",icon:w.jsx(Tc,{}),link:"/account/chats",color:"#FF5722"}];return w.jsx(Xy,{title:`Welcome back, ${(null==e?void 0:e.name)||"User"}!`,subtitle:"Here's what's happening with your account",isLoading:!1,children:w.jsxs("div",{className:"dashboard-container",children:[r.has_active_subscription?w.jsxs("div",{className:"subscription-card active",children:[w.jsx("div",{className:"subscription-icon",children:w.jsx(Lc,{})}),w.jsxs("div",{className:"subscription-content",children:[w.jsx("h3",{className:"subscription-status",children:"Active Subscription"}),w.jsxs("p",{className:"subscription-details",children:[r.days_remaining," days remaining"]})]}),w.jsx(ye,{to:"/account/subscriptions",className:"subscription-action",children:w.jsx(ic,{})})]}):w.jsxs("div",{className:"subscription-card inactive",children:[w.jsx("div",{className:"subscription-icon",children:w.jsx(Lc,{})}),w.jsxs("div",{className:"subscription-content",children:[w.jsx("h3",{className:"subscription-status",children:"No Active Subscription"}),w.jsx("p",{className:"subscription-details",children:"Subscribe to watch unlimited movies"})]}),w.jsx(ye,{to:"/account/subscriptions",className:"subscription-action",children:w.jsx(ic,{})})]}),w.jsx("div",{className:"stats-grid",children:i.map((e=>w.jsxs(ye,{to:e.link,className:"stat-card",style:{"--stat-color":e.color},children:[w.jsx("div",{className:"stat-icon",children:e.icon}),w.jsxs("div",{className:"stat-content",children:[w.jsx("h3",{className:"stat-value",children:e.value}),w.jsx("p",{className:"stat-label",children:e.label})]}),w.jsx("div",{className:"stat-arrow",children:w.jsx(ic,{})})]},e.id)))}),w.jsx(Yy,{title:"Quick Actions",subtitle:"Frequently used features",children:w.jsx("div",{className:"quick-actions-grid",children:s.map((e=>w.jsxs(ye,{to:e.link,className:"quick-action-card",children:[w.jsx("div",{className:"action-icon-wrapper",style:{"--action-color":e.color},children:e.icon}),w.jsxs("div",{className:"action-content",children:[w.jsx("h4",{className:"action-title",children:e.title}),w.jsx("p",{className:"action-description",children:e.description})]}),w.jsx(ic,{className:"action-arrow"})]},e.id)))})})]})})},Zy=()=>{const{user:e}=B((e=>e.auth)),t=F(),[n,r]=M.useState(!1),[i,s]=M.useState(!1),[a,o]=M.useState(!1),[l,c]=M.useState({}),[d,u]=M.useState({first_name:"",last_name:"",email:"",phone_number:"",dob:"",sex:"",intro:""});M.useEffect((()=>{if(e){const t={first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone_number:e.phone_number_1||"",dob:e.date_of_birth||"",sex:e.sex||"",intro:e.intro||""};u(t)}}),[e]);const h=e=>{const{name:t,value:n}=e.target;u((e=>m(p({},e),{[t]:n}))),l[t]&&c((e=>{const n=p({},e);return delete n[t],n}))},f=(e,t)=>{switch(e){case"first_name":if(!t.trim()||t.trim().length<2)return"First name is required and must be at least 2 characters";break;case"last_name":if(!t.trim()||t.trim().length<2)return"Last name is required and must be at least 2 characters";break;case"phone_number":if(!t.trim()||t.trim().length<5)return"Phone number is required and must be at least 5 characters";break;case"email":if(t&&t.trim()){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim()))return"Please enter a valid email address"}break;case"intro":if(t&&t.length>500)return"Bio cannot exceed 500 characters"}return null};return e?w.jsxs("div",{className:"acc-profile-container",children:[w.jsxs("div",{className:"acc-page-header",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"acc-page-title",children:"My Profile"}),w.jsx("p",{className:"acc-page-subtitle",children:"Manage your personal information and account settings"})]}),w.jsx("div",{style:{display:"flex",gap:"var(--spacing-2)"},children:w.jsxs(ye,{to:"/account/profile/edit",className:"acc-btn acc-btn-outline",style:{textDecoration:"none"},children:[w.jsx("i",{className:"bi bi-pencil",style:{marginRight:"8px"}}),"Edit Profile"]})})]}),i&&w.jsx("div",{className:"acc-card",style:{backgroundColor:"var(--success-bg)",borderColor:"var(--success-border)",color:"var(--success-color)",marginBottom:"var(--spacing-4)"},children:w.jsxs("div",{className:"acc-card-body",children:[w.jsx("i",{className:"bi bi-check-circle",style:{marginRight:"8px"}}),"Profile updated successfully!"]})}),w.jsxs("div",{className:"acc-card",style:{marginBottom:"var(--spacing-6)"},children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-person-circle"}),"Personal Information"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("form",{onSubmit:n=>y(void 0,null,(function*(){if(n.preventDefault(),!(null==e?void 0:e.id))return void rs.error("User not found");const i={},a=f("first_name",d.first_name);a&&(i.first_name=a);const l=f("last_name",d.last_name);l&&(i.last_name=l);const u=f("phone_number",d.phone_number);u&&(i.phone_number=u);const h=f("email",d.email);h&&(i.email=h);const g=f("intro",d.intro);if(g&&(i.intro=g),Object.keys(i).length>0)return c(i),void rs.error("Please fix the validation errors");c({}),o(!0);try{const e={first_name:d.first_name.trim(),last_name:d.last_name.trim(),phone_number:d.phone_number.trim(),email:d.email.trim()||void 0,dob:d.dob||void 0,sex:d.sex||void 0,intro:d.intro.trim()||void 0};if(!e.first_name||e.first_name.length<2)return c((e=>m(p({},e),{first_name:"First name is required and must be at least 2 characters"}))),void rs.error("Please check the form data");if(!e.last_name||e.last_name.length<2)return c((e=>m(p({},e),{last_name:"Last name is required and must be at least 2 characters"}))),void rs.error("Please check the form data");if(!e.phone_number||e.phone_number.length<5)return c((e=>m(p({},e),{phone_number:"Phone number is required and must be at least 5 characters"}))),void rs.error("Please check the form data");const n=yield sa.updateProfile(e);n&&t(ws(n)),r(!1),s(!0),setTimeout((()=>s(!1)),5e3)}catch(y){}finally{o(!1)}})),children:[w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--spacing-4)",marginBottom:"var(--spacing-4)"},children:[w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"First Name"}),w.jsx("input",{type:"text",name:"first_name",className:"acc-form-control "+(l.first_name?"error":""),value:d.first_name,onChange:h,disabled:!n,placeholder:"Enter your first name"}),l.first_name&&w.jsx("div",{style:{color:"var(--danger-color)",fontSize:"var(--font-size-xs)",marginTop:"var(--spacing-1)"},children:l.first_name})]}),w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"Last Name"}),w.jsx("input",{type:"text",name:"last_name",className:"acc-form-control "+(l.last_name?"error":""),value:d.last_name,onChange:h,disabled:!n,placeholder:"Enter your last name"}),l.last_name&&w.jsx("div",{style:{color:"var(--danger-color)",fontSize:"var(--font-size-xs)",marginTop:"var(--spacing-1)"},children:l.last_name})]})]}),w.jsxs("div",{className:"acc-form-group",style:{marginBottom:"var(--spacing-4)"},children:[w.jsxs("label",{className:"acc-form-label",children:[w.jsx("i",{className:"bi bi-envelope",style:{marginRight:"8px"}}),"Email Address"]}),w.jsx("input",{type:"email",name:"email",className:"acc-form-control "+(l.email?"error":""),value:d.email,onChange:h,disabled:!n,placeholder:"Enter your email address"}),l.email&&w.jsx("div",{style:{color:"var(--danger-color)",fontSize:"var(--font-size-xs)",marginTop:"var(--spacing-1)"},children:l.email})]}),w.jsxs("div",{className:"acc-form-group",style:{marginBottom:"var(--spacing-4)"},children:[w.jsxs("label",{className:"acc-form-label",children:[w.jsx("i",{className:"bi bi-telephone",style:{marginRight:"8px"}}),"Phone Number"]}),w.jsx("input",{type:"tel",name:"phone_number",className:"acc-form-control "+(l.phone_number?"error":""),value:d.phone_number,onChange:h,disabled:!n,placeholder:"Enter your phone number"}),l.phone_number&&w.jsx("div",{style:{color:"var(--danger-color)",fontSize:"var(--font-size-xs)",marginTop:"var(--spacing-1)"},children:l.phone_number})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"var(--spacing-4)",marginBottom:"var(--spacing-4)"},children:[w.jsxs("div",{className:"acc-form-group",children:[w.jsxs("label",{className:"acc-form-label",children:[w.jsx("i",{className:"bi bi-calendar-event",style:{marginRight:"8px"}}),"Date of Birth"]}),w.jsx("input",{type:"date",name:"dob",className:"acc-form-control",value:d.dob,onChange:h,disabled:!n})]}),w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"Gender"}),w.jsxs("select",{name:"sex",className:"acc-form-control",value:d.sex,onChange:h,disabled:!n,children:[w.jsx("option",{value:"",children:"Select Gender"}),w.jsx("option",{value:"male",children:"Male"}),w.jsx("option",{value:"female",children:"Female"}),w.jsx("option",{value:"other",children:"Other"}),w.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"About Me"}),w.jsx("textarea",{name:"intro",className:"acc-form-control "+(l.intro?"error":""),rows:4,value:d.intro,onChange:h,disabled:!n,placeholder:"Tell us a bit about yourself...",style:{resize:"vertical",minHeight:"100px"}}),l.intro&&w.jsx("div",{style:{color:"var(--danger-color)",fontSize:"var(--font-size-xs)",marginTop:"var(--spacing-1)"},children:l.intro}),w.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:d.intro.length>500?"var(--danger-color)":"var(--text-color-medium)",marginTop:"var(--spacing-1)"},children:[d.intro.length,"/500 characters"]})]}),n&&w.jsxs("div",{style:{display:"flex",gap:"var(--spacing-2)",marginTop:"var(--spacing-4)",paddingTop:"var(--spacing-4)",borderTop:"1px solid var(--border-color)"},children:[w.jsx("button",{type:"button",className:"acc-btn acc-btn-outline",onClick:()=>{e&&u({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone_number:e.phone_number_1||"",dob:e.date_of_birth||"",sex:e.sex||"",intro:e.intro||""}),c({}),r(!1)},disabled:a,children:"Cancel"}),w.jsx("button",{type:"submit",className:"acc-btn acc-btn-primary",disabled:a,children:a?w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"8px"}}),"Saving..."]}):w.jsxs(w.Fragment,{children:[w.jsx("i",{className:"bi bi-check-lg",style:{marginRight:"8px"}}),"Save Changes"]})})]})]})})]}),w.jsxs("div",{className:"acc-card",style:{marginBottom:"var(--spacing-6)"},children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-info-circle"}),"Account Information"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--background-light)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)"},children:"Account ID"}),w.jsxs("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)",fontFamily:"monospace"},children:["#",e.id]})]}),w.jsx("span",{style:{padding:"var(--spacing-1) var(--spacing-2)",backgroundColor:"var(--success-color)",color:"var(--white)",borderRadius:"var(--border-radius)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Active"})]}),w.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--background-light)"},children:w.jsxs("div",{children:[w.jsx("h6",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)"},children:"Member Since"}),w.jsx("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})})]})})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-shield-lock"}),"Security Settings"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--background-light)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)"},children:"Change Password"}),w.jsx("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:"Update your password to keep your account secure"})]}),w.jsxs(ye,{to:"/account/change-password",className:"acc-btn acc-btn-outline acc-btn-sm",children:[w.jsx("i",{className:"bi bi-key",style:{marginRight:"6px"}}),"Change"]})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--background-light)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)"},children:"Email Verification"}),w.jsx("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:"Verify your email address for added security"})]}),w.jsx("span",{style:{padding:"var(--spacing-1) var(--spacing-2)",backgroundColor:e.verification?"var(--success-color)":"var(--warning-color)",color:"var(--white)",borderRadius:"var(--border-radius)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:e.verification?"Verified":"Pending"})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--background-light)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)"},children:"Account Deletion"}),w.jsx("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:"Permanently delete your account and all data"})]}),w.jsxs("button",{className:"acc-btn acc-btn-outline acc-btn-sm",style:{borderColor:"var(--danger-color)",color:"var(--danger-color)"},onClick:()=>rs.info("Account deletion feature coming soon"),children:[w.jsx("i",{className:"bi bi-trash",style:{marginRight:"6px"}}),"Delete"]})]})]})})]}),w.jsx("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]}):w.jsx("div",{className:"acc-card",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning-color)"},children:w.jsxs("div",{className:"acc-card-body",children:[w.jsx("i",{className:"bi bi-exclamation-triangle",style:{marginRight:"8px"}}),"Please log in to view your profile."]})})};var ev=class extends Error{constructor(e){super(e[0].message),g(this,"issues"),this.name="SchemaError",this.issues=e}},tv=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(tv||{});function nv(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}var rv=U;function iv(e,t){if(e===t||!(rv(e)&&rv(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const s=Array.isArray(t)?[]:{};for(const a of n)s[a]=iv(e[a],t[a]),i&&(i=e[a]===s[a]);return i?e:s}function sv(e){let t=0;for(const n in e)t++;return t}var av=e=>[].concat(...e);function ov(e){return null!=e}function lv(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=(e=>e.replace(/\/$/,""))(e),`${e}${n}${t=(e=>e.replace(/^\//,""))(t)}`}var cv=(...e)=>fetch(...e),dv=e=>e.status>=200&&e.status<=299,uv=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function hv(e){if(!U(e))return e;const t=p({},e);for(const[n,r]of Object.entries(t))void 0===r&&delete t[n];return t}function pv(e={}){var t=e,{baseUrl:n,prepareHeaders:r=e=>e,fetchFn:i=cv,paramsSerializer:s,isJsonContentType:a=uv,jsonContentType:o="application/json",jsonReplacer:l,timeout:c,responseHandler:d,validateStatus:u}=t,h=f(t,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return(e,t,v)=>y(this,null,(function*(){const{getState:y,extra:x,endpoint:b,forced:j,type:w}=t;let _,k,S="string"==typeof e?{url:e}:e,{url:N,headers:T=new Headers(h.headers),params:P,responseHandler:C=(null!=d?d:"json"),validateStatus:E=(null!=u?u:dv),timeout:O=c}=S,A=f(S,["url","headers","params","responseHandler","validateStatus","timeout"]),I=t.signal;O&&(k=new AbortController,t.signal.addEventListener("abort",k.abort),I=k.signal);let z=p(m(p({},h),{signal:I}),A);T=new Headers(hv(T)),z.headers=(yield r(T,{getState:y,arg:e,extra:x,endpoint:b,forced:j,type:w,extraOptions:v}))||T;const R=e=>"object"==typeof e&&(U(e)||Array.isArray(e)||"function"==typeof e.toJSON);if(!z.headers.has("content-type")&&R(z.body)&&z.headers.set("content-type",o),R(z.body)&&a(z.headers)&&(z.body=JSON.stringify(z.body,l)),P){const e=~N.indexOf("?")?"&":"?";N+=e+(s?s(P):new URLSearchParams(hv(P)))}N=lv(n,N);const L=new Request(N,z);_={request:new Request(N,z)};let M,D=!1,F=k&&setTimeout((()=>{D=!0,k.abort()}),O);try{M=yield i(L)}catch(Yj){return{error:{status:D?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Yj)},meta:_}}finally{F&&clearTimeout(F),null==k||k.signal.removeEventListener("abort",k.abort)}const B=M.clone();let V;_.response=B;let q="";try{let e;if(yield Promise.all([g(M,C).then((e=>V=e),(t=>e=t)),B.text().then((e=>q=e),(()=>{}))]),e)throw e}catch(Yj){return{error:{status:"PARSING_ERROR",originalStatus:M.status,data:q,error:String(Yj)},meta:_}}return E(M,V)?{data:V,meta:_}:{error:{status:M.status,data:V},meta:_}}));function g(e,t){return y(this,null,(function*(){if("function"==typeof t)return t(e);if("content-type"===t&&(t=a(e.headers)?"json":"text"),"json"===t){const t=yield e.text();return t.length?JSON.parse(t):null}return e.text()}))}}var mv=class{constructor(e,t=void 0){this.value=e,this.meta=t}},fv=Q("__rtkq/focused"),gv=Q("__rtkq/unfocused"),yv=Q("__rtkq/online"),vv=Q("__rtkq/offline"),xv=!1;function bv(e){return"query"===e.type}function jv(e){return"infinitequery"===e.type}function wv(e){return bv(e)||jv(e)}function _v(e,t,n,r,i,s){return"function"==typeof e?e(t,n,r,i).filter(ov).map(kv).map(s):Array.isArray(e)?e.map(kv).map(s):[]}function kv(e){return"string"==typeof e?{type:e}:e}var Sv=Symbol("forceQueryFn"),Nv=e=>"function"==typeof e[Sv];var Tv=class extends ev{constructor(e,t,n,r){super(e),this.value=t,this.schemaName=n,this._bqMeta=r}};function Pv(e,t,n,r){return y(this,null,(function*(){const i=yield e["~standard"].validate(t);if(i.issues)throw new Tv(i.issues,t,n,r);return i.value}))}function Cv(e){return e}var Ev=(e={})=>m(p({},e),{[J]:!0});function Ov(e,{pages:t,pageParams:n},r){const i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n,r)}function Av(e,{pages:t,pageParams:n},r){var i;return null==(i=e.getPreviousPageParam)?void 0:i.call(e,t[0],t,n[0],n,r)}function Iv(e,t,n,r){return _v(n[e.meta.arg.endpointName][t],G(e)?e.payload:void 0,Y(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function zv(e,t,n){const r=e[t];r&&n(r)}function Rv(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function Lv(e,t,n){const r=e[Rv(t)];r&&n(r)}var Mv={};function Dv({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:a,hasRehydrationInfo:o},assertTagType:l,config:c}){const d=Q(`${e}/resetApiState`);function u(e,t,n,r){var s;null!=e[s=t.queryCacheKey]||(e[s]={status:"uninitialized",endpointName:t.endpointName}),zv(e,t.queryCacheKey,(e=>{e.status="pending",e.requestId=n&&e.requestId?e.requestId:r.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=r.startedTimeStamp;jv(i[r.arg.endpointName])&&"direction"in t&&(e.direction=t.direction)}))}function h(e,t,n,r){zv(e,t.arg.queryCacheKey,(e=>{var s;if(e.requestId!==t.requestId&&!r)return;const{merge:a}=i[t.arg.endpointName];if(e.status="fulfilled",a)if(void 0!==e.data){const{fulfilledTimeStamp:r,arg:i,baseQueryMeta:s,requestId:o}=t;let l=oe(e.data,(e=>a(e,n,{arg:i.originalArgs,baseQueryMeta:s,fulfilledTimeStamp:r,requestId:o})));e.data=l}else e.data=n;else e.data=null==(s=i[t.arg.endpointName].structuralSharing)||s?iv(le(e.data)?ce(e.data):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp}))}const f=D({name:`${e}/queries`,initialState:Mv,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:K()},cacheEntriesUpserted:{reducer(e,t){for(const n of t.payload){const{queryDescription:r,value:i}=n;u(e,r,!0,{arg:r,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),h(e,{arg:r,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},i,!0)}},prepare:e=>({payload:e.map((e=>{const{endpointName:t,arg:n,value:s}=e,a=i[t];return{queryDescription:{type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:r({queryArgs:n,endpointDefinition:a,endpointName:t})},value:s}})),meta:{[J]:!0,requestId:$(),timestamp:Date.now()}})},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:n}}){zv(e,t,(e=>{e.data=Z(e.data,n.concat())}))},prepare:K()}},extraReducers(e){e.addCase(t.pending,((e,{meta:t,meta:{arg:n}})=>{u(e,n,Nv(n),t)})).addCase(t.fulfilled,((e,{meta:t,payload:n})=>{h(e,t,n,Nv(t.arg))})).addCase(t.rejected,((e,{meta:{condition:t,arg:n,requestId:r},error:i,payload:s})=>{zv(e,n.queryCacheKey,(e=>{if(t);else{if(e.requestId!==r)return;e.status="rejected",e.error=null!=s?s:i}}))})).addMatcher(o,((e,t)=>{const{queries:n}=a(t);for(const[r,i]of Object.entries(n))"fulfilled"!==(null==i?void 0:i.status)&&"rejected"!==(null==i?void 0:i.status)||(e[r]=i)}))}}),g=D({name:`${e}/mutations`,initialState:Mv,reducers:{removeMutationResult:{reducer(e,{payload:t}){const n=Rv(t);n in e&&delete e[n]},prepare:K()}},extraReducers(e){e.addCase(n.pending,((e,{meta:t,meta:{requestId:n,arg:r,startedTimeStamp:i}})=>{r.track&&(e[Rv(t)]={requestId:n,status:"pending",endpointName:r.endpointName,startedTimeStamp:i})})).addCase(n.fulfilled,((e,{payload:t,meta:n})=>{n.arg.track&&Lv(e,n,(e=>{e.requestId===n.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,((e,{payload:t,error:n,meta:r})=>{r.arg.track&&Lv(e,r,(e=>{e.requestId===r.requestId&&(e.status="rejected",e.error=null!=t?t:n)}))})).addMatcher(o,((e,t)=>{const{mutations:n}=a(t);for(const[r,i]of Object.entries(n))"fulfilled"!==(null==i?void 0:i.status)&&"rejected"!==(null==i?void 0:i.status)||r===(null==i?void 0:i.requestId)||(e[r]=i)}))}}),y=D({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var n,r,i,s,a;for(const{queryCacheKey:o,providedTags:l}of t.payload){v(e,o);for(const{type:t,id:c}of l){const l=null!=(a=(i=null!=(r=(n=e.tags)[t])?r:n[t]={})[s=c||"__internal_without_id"])?a:i[s]=[];l.includes(o)||l.push(o)}e.keys[o]=l}},prepare:K()}},extraReducers(e){e.addCase(f.actions.removeQueryResult,((e,{payload:{queryCacheKey:t}})=>{v(e,t)})).addMatcher(o,((e,t)=>{var n,r,i,s,o;const{provided:l}=a(t);for(const[a,c]of Object.entries(l))for(const[t,l]of Object.entries(c)){const c=null!=(o=(i=null!=(r=(n=e.tags)[a])?r:n[a]={})[s=t||"__internal_without_id"])?o:i[s]=[];for(const e of l){c.includes(e)||c.push(e)}}})).addMatcher(X(G(t),Y(t)),((e,t)=>{x(e,[t])})).addMatcher(f.actions.cacheEntriesUpserted.match,((e,t)=>{x(e,t.payload.map((({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}}))))}))}});function v(e,t){var n,r,i;const s=null!=(n=e.keys[t])?n:[];for(const a of s){const n=a.type,s=null!=(r=a.id)?r:"__internal_without_id",o=null==(i=e.tags[n])?void 0:i[s];o&&(e.tags[n][s]=o.filter((e=>e!==t)))}delete e.keys[t]}function x(e,t){const n=t.map((e=>{const t=Iv(e,"providesTags",i,l),{queryCacheKey:n}=e.meta.arg;return{queryCacheKey:n,providedTags:t}}));y.caseReducers.updateProvidedBy(e,y.actions.updateProvidedBy(n))}const b=D({name:`${e}/subscriptions`,initialState:Mv,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),j=D({name:`${e}/internalSubscriptions`,initialState:Mv,reducers:{subscriptionsUpdated:{reducer:(e,t)=>Z(e,t.payload),prepare:K()}}}),w=D({name:`${e}/config`,initialState:p({online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},c),reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===t||"conflict"}},extraReducers:e=>{e.addCase(yv,(e=>{e.online=!0})).addCase(vv,(e=>{e.online=!1})).addCase(fv,(e=>{e.focused=!0})).addCase(gv,(e=>{e.focused=!1})).addMatcher(o,(e=>p({},e)))}}),_=ee({queries:f.reducer,mutations:g.reducer,provided:y.reducer,subscriptions:j.reducer,config:w.reducer});return{reducer:(e,t)=>_(d.match(t)?void 0:e,t),actions:m(p(p(p(p(p(p({},w.actions),f.actions),b.actions),j.actions),g.actions),y.actions),{resetApiState:d})}}var Fv=Symbol.for("RTKQ/skipToken"),Bv={status:"uninitialized"},Vv=oe(Bv,(()=>{})),Uv=oe(Bv,(()=>{}));var qv=WeakMap?new WeakMap:void 0,$v=({endpointName:e,queryArgs:t})=>{let n="";const r=null==qv?void 0:qv.get(t);if("string"==typeof r)n=r;else{const e=JSON.stringify(t,((e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=U(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t)));U(t)&&(null==qv||qv.set(t,e)),n=e}return`${e}(${n})`};function Wv(...e){return function(t){const n=q((e=>{var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),r=m(p({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed"},t),{extractRehydrationInfo:n,serializeQueryArgs(e){let n=$v;if("serializeQueryArgs"in e.endpointDefinition){const t=e.endpointDefinition.serializeQueryArgs;n=e=>{const n=t(e);return"string"==typeof n?n:$v(m(p({},e),{queryArgs:n}))}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:[...t.tagTypes||[]]}),i={endpointDefinitions:{},batch(e){e()},apiUid:$(),extractRehydrationInfo:n,hasRehydrationInfo:q((e=>null!=n(e)))},s={injectEndpoints:function(e){const t=e.endpoints({query:e=>m(p({},e),{type:"query"}),mutation:e=>m(p({},e),{type:"mutation"}),infiniteQuery:e=>m(p({},e),{type:"infinitequery"})});for(const[n,r]of Object.entries(t))if(!0!==e.overrideExisting&&n in i.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error(W(39))}else{0,i.endpointDefinitions[n]=r;for(const e of a)e.injectEndpoint(n,r)}return s},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const n of e)r.tagTypes.includes(n)||r.tagTypes.push(n);if(t)for(const[n,r]of Object.entries(t))"function"==typeof r?r(i.endpointDefinitions[n]):Object.assign(i.endpointDefinitions[n]||{},r);return s}},a=e.map((e=>e.init(s,r,i)));return s.injectEndpoints({endpoints:t.endpoints})}}function Hv(e,...t){return Object.assign(e,...t)}var Qv=({api:e,queryThunk:t,internalState:n})=>{const r=`${e.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:a,unsubscribeQueryResult:o}=e.internalActions,l=()=>n.currentSubscriptions,c={getSubscriptions:l,getSubscriptionCount:e=>{var t;return sv(null!=(t=l()[e])?t:{})},isRequestSubscribed:(e,t)=>{var n;const r=l();return!!(null==(n=null==r?void 0:r[e])?void 0:n[t])}};return(l,d)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(l))return i=n.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(l))return[!1,c];const u=((n,r)=>{var i,s,l,c,d,u,h,p,m;if(a.match(r)){const{queryCacheKey:e,requestId:t,options:s}=r.payload;return(null==(i=null==n?void 0:n[e])?void 0:i[t])&&(n[e][t]=s),!0}if(o.match(r)){const{queryCacheKey:e,requestId:t}=r.payload;return n[e]&&delete n[e][t],!0}if(e.internalActions.removeQueryResult.match(r))return delete n[r.payload.queryCacheKey],!0;if(t.pending.match(r)){const{meta:{arg:e,requestId:t}}=r,i=null!=(l=n[s=e.queryCacheKey])?l:n[s]={};return i[`${t}_running`]={},e.subscribe&&(i[t]=null!=(d=null!=(c=e.subscriptionOptions)?c:i[t])?d:{}),!0}let f=!1;if(t.fulfilled.match(r)||t.rejected.match(r)){const e=n[r.meta.arg.queryCacheKey]||{},t=`${r.meta.requestId}_running`;f||(f=!!e[t]),delete e[t]}if(t.rejected.match(r)){const{meta:{condition:e,arg:t,requestId:i}}=r;if(e&&t.subscribe){const e=null!=(h=n[u=t.queryCacheKey])?h:n[u]={};e[i]=null!=(m=null!=(p=t.subscriptionOptions)?p:e[i])?m:{},f=!0}}return f})(n.currentSubscriptions,l);let h=!0;if(u){s||(s=setTimeout((()=>{const t=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,r]=re(i,(()=>t));d.next(e.internalActions.subscriptionsUpdated(r)),i=t,s=null}),500));const a="string"==typeof l.type&&!!l.type.startsWith(r),o=t.rejected.match(l)&&l.meta.condition&&!!l.meta.arg.subscribe;h=!a&&!o}return[h,!1]}};var Kv=({reducerPath:e,api:t,queryThunk:n,context:r,internalState:i,selectors:{selectQueryEntry:s,selectConfig:a}})=>{const{removeQueryResult:o,unsubscribeQueryResult:l,cacheEntriesUpserted:c}=t.internalActions,d=X(l.match,n.fulfilled,n.rejected,c.match);function u(e){const t=i.currentSubscriptions[e];return!!t&&!function(e){for(const t in e)return!1;return!0}(t)}const h={};function p(e,t,n){const r=t.getState();for(const i of e){const e=s(r,i);m(i,null==e?void 0:e.endpointName,t,n)}}function m(e,t,n,i){var s;const a=r.endpointDefinitions[t],l=null!=(s=null==a?void 0:a.keepUnusedDataFor)?s:i.keepUnusedDataFor;if(l===1/0)return;const c=Math.max(0,Math.min(l,2147482.647));if(!u(e)){const t=h[e];t&&clearTimeout(t),h[e]=setTimeout((()=>{u(e)||n.dispatch(o({queryCacheKey:e})),delete h[e]}),1e3*c)}}return(e,n,i)=>{const s=n.getState(),o=a(s);if(d(e)){let t;if(c.match(e))t=e.payload.map((e=>e.queryDescription.queryCacheKey));else{const{queryCacheKey:n}=l.match(e)?e.payload:e.meta.arg;t=[n]}p(t,n,o)}if(t.util.resetApiState.match(e))for(const[t,r]of Object.entries(h))r&&clearTimeout(r),delete h[t];if(r.hasRehydrationInfo(e)){const{queries:t}=r.extractRehydrationInfo(e);p(Object.keys(t),n,o)}}},Jv=new Error("Promise never resolved before cacheEntryRemoved."),Xv=({api:e,reducerPath:t,context:n,queryThunk:r,mutationThunk:i,internalState:s,selectors:{selectQueryEntry:a,selectApiState:o}})=>{const l=ue(r),c=ue(i),d=G(r,i),u={};function h(e,t,n){const r=u[e];(null==r?void 0:r.valueResolved)&&(r.valueResolved({data:t,meta:n}),delete r.valueResolved)}function f(e){const t=u[e];t&&(delete u[e],t.cacheEntryRemoved())}function g(t,r,i,s,a){const o=n.endpointDefinitions[t],l=null==o?void 0:o.onCacheEntryAdded;if(!l)return;const c={},d=new Promise((e=>{c.cacheEntryRemoved=e})),h=Promise.race([new Promise((e=>{c.valueResolved=e})),d.then((()=>{throw Jv}))]);h.catch((()=>{})),u[i]=c;const f=e.endpoints[t].select(wv(o)?r:i),g=s.dispatch(((e,t,n)=>n)),y=m(p({},s),{getCacheEntry:()=>f(s.getState()),requestId:a,extra:g,updateCachedData:wv(o)?n=>s.dispatch(e.util.updateQueryData(t,r,n)):void 0,cacheDataLoaded:h,cacheEntryRemoved:d}),v=l(r,y);Promise.resolve(v).catch((e=>{if(e!==Jv)throw e}))}return(n,s,o)=>{const p=function(t){var n;if(l(t))return t.meta.arg.queryCacheKey;if(c(t))return null!=(n=t.meta.arg.fixedCacheKey)?n:t.meta.requestId;return e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?Rv(t.payload):""}(n);function m(e,t,n,r){const i=a(o,t),l=a(s.getState(),t);!i&&l&&g(e,r,t,s,n)}if(r.pending.match(n))m(n.meta.arg.endpointName,p,n.meta.requestId,n.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(n))for(const{queryDescription:e,value:t}of n.payload){const{endpointName:r,originalArgs:i,queryCacheKey:s}=e;m(r,s,n.meta.requestId,i),h(s,t,{})}else if(i.pending.match(n)){s.getState()[t].mutations[p]&&g(n.meta.arg.endpointName,n.meta.arg.originalArgs,p,s,n.meta.requestId)}else if(d(n))h(p,n.payload,n.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(n)||e.internalActions.removeMutationResult.match(n))f(p);else if(e.util.resetApiState.match(n))for(const e of Object.keys(u))f(e)}},Yv=({api:e,context:{apiUid:t},reducerPath:n})=>(n,r)=>{e.util.resetApiState.match(n)&&r.dispatch(e.internalActions.middlewareRegistered(t))},Gv=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:a,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,d=X(G(r),Y(r)),u=X(G(r,i),ae(r,i));let h=[];function p(n,r){const i=r.getState(),a=i[e];if(h.push(...n),"delayed"===a.config.invalidationBehavior&&function(e){var t;const{queries:n,mutations:r}=e;for(const i of[n,r])for(const e in i)if("pending"===(null==(t=i[e])?void 0:t.status))return!0;return!1}(a))return;const d=h;if(h=[],0===d.length)return;const u=s.util.selectInvalidatedBy(i,d);t.batch((()=>{var e;const t=Array.from(u.values());for(const{queryCacheKey:n}of t){const t=a.queries[n],i=null!=(e=l.currentSubscriptions[n])?e:{};t&&(0===sv(i)?r.dispatch(c({queryCacheKey:n})):"uninitialized"!==t.status&&r.dispatch(o(t)))}}))}return(e,t)=>{d(e)?p(Iv(e,"invalidatesTags",n,a),t):u(e)?p([],t):s.util.invalidateTags.match(e)&&p(_v(e.payload,void 0,void 0,void 0,void 0,a),t)}},Zv=({reducerPath:e,queryThunk:t,api:n,refetchQuery:r,internalState:i})=>{const s={};function a({queryCacheKey:t},n){const o=n.getState()[e],l=o.queries[t],d=i.currentSubscriptions[t];if(!l||"uninitialized"===l.status)return;const{lowestPollingInterval:u,skipPollingIfUnfocused:h}=c(d);if(!Number.isFinite(u))return;const p=s[t];(null==p?void 0:p.timeout)&&(clearTimeout(p.timeout),p.timeout=void 0);const m=Date.now()+u;s[t]={nextPollTimestamp:m,pollingInterval:u,timeout:setTimeout((()=>{!o.config.focused&&h||n.dispatch(r(l)),a({queryCacheKey:t},n)}),u)}}function o({queryCacheKey:t},n){const r=n.getState()[e].queries[t],o=i.currentSubscriptions[t];if(!r||"uninitialized"===r.status)return;const{lowestPollingInterval:d}=c(o);if(!Number.isFinite(d))return void l(t);const u=s[t],h=Date.now()+d;(!u||h<u.nextPollTimestamp)&&a({queryCacheKey:t},n)}function l(e){const t=s[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}function c(e={}){let t=!1,n=Number.POSITIVE_INFINITY;for(let r in e)e[r].pollingInterval&&(n=Math.min(e[r].pollingInterval,n),t=e[r].skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,r)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&o(e.payload,r),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&o(e.meta.arg,r),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&a(e.meta.arg,r),n.util.resetApiState.match(e)&&function(){for(const e of Object.keys(s))l(e)}()}},ex=({api:e,context:t,queryThunk:n,mutationThunk:r})=>{const i=se(n,r),s=ae(n,r),a=G(n,r),o={};return(n,r)=>{var l,c,d;if(i(n)){const{requestId:i,arg:{endpointName:s,originalArgs:a}}=n.meta,l=t.endpointDefinitions[s],c=null==l?void 0:l.onQueryStarted;if(c){const t={},n=new Promise(((e,n)=>{t.resolve=e,t.reject=n}));n.catch((()=>{})),o[i]=t;const d=e.endpoints[s].select(wv(l)?a:i),u=r.dispatch(((e,t,n)=>n)),h=m(p({},r),{getCacheEntry:()=>d(r.getState()),requestId:i,extra:u,updateCachedData:wv(l)?t=>r.dispatch(e.util.updateQueryData(s,a,t)):void 0,queryFulfilled:n});c(a,h)}}else if(a(n)){const{requestId:e,baseQueryMeta:t}=n.meta;null==(l=o[e])||l.resolve({data:n.payload,meta:t}),delete o[e]}else if(s(n)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:r}=n.meta;null==(d=o[e])||d.reject({error:null!=(c=n.payload)?c:n.error,isUnhandledError:!t,meta:r}),delete o[e]}}};function tx(e){const{reducerPath:t,queryThunk:n,api:r,context:i}=e,{apiUid:s}=i,a={invalidateTags:Q(`${t}/invalidateTags`)},o=e=>e.type.startsWith(`${t}/`),l=[Yv,Kv,Gv,Zv,Xv,ex];return{middleware:n=>{let a=!1;const d=m(p({},e),{internalState:{currentSubscriptions:{}},refetchQuery:c,isThisApiSliceAction:o}),u=l.map((e=>e(d))),h=Qv(d),f=(({reducerPath:e,context:t,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions;function a(n,a){const o=n.getState()[e],l=o.queries,c=i.currentSubscriptions;t.batch((()=>{for(const e of Object.keys(c)){const t=l[e],i=c[e];i&&t&&((Object.values(i).some((e=>!0===e[a]))||Object.values(i).every((e=>void 0===e[a]))&&o.config[a])&&(0===sv(i)?n.dispatch(s({queryCacheKey:e})):"uninitialized"!==t.status&&n.dispatch(r(t))))}}))}return(e,t)=>{fv.match(e)&&a(t,"refetchOnFocus"),yv.match(e)&&a(t,"refetchOnReconnect")}})(d);return e=>l=>{if(!de(l))return e(l);a||(a=!0,n.dispatch(r.internalActions.middlewareRegistered(s)));const c=m(p({},n),{next:e}),d=n.getState(),[g,y]=h(l,c,d);let v;if(v=g?e(l):y,n.getState()[t]&&(f(l,c,d),o(l)||i.hasRehydrationInfo(l)))for(const e of u)e(l,c,d);return v}},actions:a};function c(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}var nx=Symbol();function rx(e){return e.replace(e[0],e[0].toUpperCase())}function ix(e){return"infinitequery"===e.type}function sx(e,...t){return Object.assign(e,...t)}var ax=Symbol();function ox(e,t,n,r){const i=M.useMemo((()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e})),[e,t,n,r]),s=M.useRef(i);return M.useEffect((()=>{s.current.serialized!==i.serialized&&(s.current=i)}),[i]),s.current.serialized===i.serialized?s.current.queryArgs:e}function lx(e){const t=M.useRef(e);return M.useEffect((()=>{me(t.current,e)||(t.current=e)}),[e]),me(t.current,e)?t.current:e}var cx=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),dx=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),ux=(()=>cx||dx?M.useLayoutEffect:M.useEffect)(),hx=e=>e.isUninitialized?m(p({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:tv.pending}):e;function px(e,...t){const n={};return t.forEach((t=>{n[t]=e[t]})),n}var mx=["data","status","isLoading","isSuccess","isError","error"];var fx=Symbol(),gx=Wv((({createSelector:e=H}={})=>({name:nx,init(t,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:a,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:d,onSchemaFailure:u,catchSchemaFailure:h,skipSchemaValidation:g},v){te();const x=e=>e;Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:yv,onOffline:vv,onFocus:fv,onFocusLost:gv},util:{}});const b=function({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const r=e=>Vv,i=e=>Uv;return{buildQuerySelector:function(e,t){return c(e,t,s)},buildInfiniteQuerySelector:function(e,t){const{infiniteQueryOptions:n}=t;return c(e,t,(function(e){const t=p(p({},e),nv(e.status)),{isLoading:r,isError:i,direction:s}=t,a="forward"===s,o="backward"===s;return m(p({},t),{hasNextPage:d(n,t.data,t.originalArgs),hasPreviousPage:u(n,t.data,t.originalArgs),isFetchingNextPage:r&&a,isFetchingPreviousPage:r&&o,isFetchNextPageError:i&&a,isFetchPreviousPageError:i&&o})}))},buildMutationSelector:function(){return e=>{var t;let r;return r="object"==typeof e?null!=(t=Rv(e))?t:Fv:e,n(r===Fv?i:e=>{var t,n,i;return null!=(i=null==(n=null==(t=a(e))?void 0:t.mutations)?void 0:n[r])?i:Uv},s)}},selectInvalidatedBy:function(e,n){var r;const i=e[t],s=new Set;for(const t of n.filter(ov).map(kv)){const e=i.provided.tags[t.type];if(!e)continue;let n=null!=(r=void 0!==t.id?e[t.id]:av(Object.values(e)))?r:[];for(const t of n)s.add(t)}return av(Array.from(s.values()).map((e=>{const t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))},selectCachedArgsForQuery:function(e,t){return Object.values(o(e)).filter((e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status)).map((e=>e.originalArgs))},selectApiState:a,selectQueries:o,selectMutations:function(e){var t;return null==(t=a(e))?void 0:t.mutations},selectQueryEntry:l,selectConfig:function(e){var t;return null==(t=a(e))?void 0:t.config}};function s(e){return p(p({},e),nv(e.status))}function a(e){return e[t]}function o(e){var t;return null==(t=a(e))?void 0:t.queries}function l(e,t){var n;return null==(n=o(e))?void 0:n[t]}function c(t,i,s){return a=>{if(a===Fv)return n(r,s);const o=e({queryArgs:a,endpointDefinition:i,endpointName:t});return n((e=>{var t;return null!=(t=l(e,o))?t:Vv}),s)}}function d(e,t,n){return!!t&&null!=Ov(e,t,n)}function u(e,t,n){return!(!t||!e.getPreviousPageParam)&&null!=Av(e,t,n)}}({serializeQueryArgs:s,reducerPath:i,createSelector:e}),{selectInvalidatedBy:j,selectCachedArgsForQuery:w,buildQuerySelector:_,buildInfiniteQuerySelector:k,buildMutationSelector:S}=b;Hv(t.util,{selectInvalidatedBy:j,selectCachedArgsForQuery:w});const{queryThunk:N,infiniteQueryThunk:T,mutationThunk:P,patchQueryData:C,updateQueryData:E,upsertQueryData:O,prefetch:A,buildMatchThunkActions:I}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s,selectors:a,onSchemaFailure:o,catchSchemaFailure:l,skipSchemaValidation:c}){function d(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}function u(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}const h=(e,t)=>e.query&&e[t]?e[t]:Cv,f=(e,r)=>y(this,[e,r],(function*(e,{signal:r,abort:i,rejectWithValue:s,fulfillWithValue:f,dispatch:v,getState:x,extra:b}){var j,w,_,k;const S=n[e.endpointName],{metaSchema:N,skipSchemaValidation:T=c}=S;try{let C=h(S,"transformResponse");const E={signal:r,abort:i,dispatch:v,getState:x,extra:b,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?g(e,x()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},O="query"===e.type?e[Sv]:void 0;let A;const I=(t,n,r,i)=>y(this,null,(function*(){if(null==n&&t.pages.length)return Promise.resolve({data:t});const s={queryArg:e.originalArgs,pageParam:n},a=yield z(s),o=i?d:u;return{data:{pages:o(t.pages,a.data,r),pageParams:o(t.pageParams,n,r)},meta:a.meta}}));function z(e){return y(this,null,(function*(){let n;const{extraOptions:r,argSchema:i,rawResponseSchema:s,responseSchema:a}=S;if(i&&!T&&(e=yield Pv(i,e,"argSchema",{})),n=O?O():S.query?yield t(S.query(e),E,r):yield S.queryFn(e,E,r,(e=>t(e,E,r))),n.error)throw new mv(n.error,n.meta);let{data:o}=n;s&&!T&&(o=yield Pv(s,n.data,"rawResponseSchema",n.meta));let l=yield C(o,n.meta,e);return a&&!T&&(l=yield Pv(a,l,"responseSchema",n.meta)),m(p({},n),{data:l})}))}if("query"===e.type&&"infiniteQueryOptions"in S){const{infiniteQueryOptions:R}=S,{maxPages:L=1/0}=R;let M;const D={pages:[],pageParams:[]},F=null==(j=a.selectQueryEntry(x(),e.queryCacheKey))?void 0:j.data,B=g(e,x())&&!e.direction||!F?D:F;if("direction"in e&&e.direction&&B.pages.length){const V="backward"===e.direction,U=(V?Av:Ov)(R,B,e.originalArgs);M=yield I(B,U,L,V)}else{const{initialPageParam:q=R.initialPageParam}=e,$=null!=(w=null==F?void 0:F.pageParams)?w:[],W=null!=(_=$[0])?_:q,H=$.length;M=yield I(B,W,L),O&&(M={data:M.data.pages[0]});for(let Q=1;Q<H;Q++){const K=Ov(R,M.data,e.originalArgs);M=yield I(M.data,K,L)}}A=M}else A=yield z(e.originalArgs);return N&&!T&&A.meta&&(A.meta=yield Pv(N,A.meta,"metaSchema",A.meta)),f(A.data,Ev({fulfilledTimeStamp:Date.now(),baseQueryMeta:A.meta}))}catch(P){let J=P;if(J instanceof mv){let X=h(S,"transformErrorResponse");const{rawErrorResponseSchema:Y,errorResponseSchema:G}=S;let{value:Z,meta:ee}=J;try{Y&&!T&&(Z=yield Pv(Y,Z,"rawErrorResponseSchema",ee)),N&&!T&&(ee=yield Pv(N,ee,"metaSchema",ee));let te=yield X(Z,ee,e.originalArgs);return G&&!T&&(te=yield Pv(G,te,"errorResponseSchema",ee)),s(te,Ev({baseQueryMeta:ee}))}catch(Yj){J=Yj}}try{if(J instanceof Tv){const re={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0};null==(k=S.onSchemaFailure)||k.call(S,J,re),null==o||o(J,re);const{catchSchemaFailure:ie=l}=S;if(ie)return s(ie(J,re),Ev({baseQueryMeta:J._bqMeta}))}}catch(Yj){J=Yj}throw J}}));function g(e,t){var n;const r=a.selectQueryEntry(t,e.queryCacheKey),i=a.selectConfig(t).refetchOnMountOrArgChange,s=null==r?void 0:r.fulfilledTimeStamp,o=null!=(n=e.forceRefetch)?n:e.subscribe&&i;return!!o&&(!0===o||(Number(new Date)-Number(s))/1e3>=o)}const v=()=>V(`${e}/executeQuery`,f,{getPendingMeta({arg:e}){const t=n[e.endpointName];return Ev(p({startedTimeStamp:Date.now()},jv(t)?{direction:e.direction}:{}))},condition(e,{getState:t}){var r;const i=t(),s=a.selectQueryEntry(i,e.queryCacheKey),o=null==s?void 0:s.fulfilledTimeStamp,l=e.originalArgs,c=null==s?void 0:s.originalArgs,d=n[e.endpointName],u=e.direction;return!(!Nv(e)&&("pending"===(null==s?void 0:s.status)||!g(e,i)&&(!bv(d)||!(null==(r=null==d?void 0:d.forceRefetch)?void 0:r.call(d,{currentArg:l,previousArg:c,endpointState:s,state:i})))&&o&&!u))},dispatchConditionRejection:!0}),x=v(),b=v(),j=V(`${e}/executeMutation`,f,{getPendingMeta:()=>Ev({startedTimeStamp:Date.now()})});function w(e){return t=>{var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:x,mutationThunk:j,infiniteQueryThunk:b,prefetch:(e,t,n)=>(r,s)=>{const a=(e=>"force"in e)(n)&&n.force,o=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=(n=!0)=>{const r={forceRefetch:n,isPrefetch:!0};return i.endpoints[e].initiate(t,r)},c=i.endpoints[e].select(t)(s());if(a)r(l());else if(o){const e=null==c?void 0:c.fulfilledTimeStamp;if(!e)return void r(l());(Number(new Date)-Number(new Date(e)))/1e3>=o&&r(l())}else r(l(!1))},updateQueryData:(e,t,n,r=!0)=>(s,a)=>{const o=i.endpoints[e].select(t)(a()),l={patches:[],inversePatches:[],undo:()=>s(i.util.patchQueryData(e,t,l.inversePatches,r))};if("uninitialized"===o.status)return l;let c;if("data"in o)if(ne(o.data)){const[e,t,r]=re(o.data,n);l.patches.push(...t),l.inversePatches.push(...r),c=e}else c=n(o.data),l.patches.push({op:"replace",path:[],value:c}),l.inversePatches.push({op:"replace",path:[],value:o.data});return 0===l.patches.length||s(i.util.patchQueryData(e,t,l.patches,r)),l},upsertQueryData:(e,t,n)=>r=>r(i.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[Sv]:()=>({data:n})})),patchQueryData:(e,t,a,o)=>(l,c)=>{const d=n[e],u=r({queryArgs:t,endpointDefinition:d,endpointName:e});if(l(i.internalActions.queryResultPatched({queryCacheKey:u,patches:a})),!o)return;const h=i.endpoints[e].select(t)(c()),p=_v(d.providesTags,h.data,void 0,t,{},s);l(i.internalActions.updateProvidedBy([{queryCacheKey:u,providedTags:p}]))},buildMatchThunkActions:function(e,t){return{matchPending:ie(se(e),w(t)),matchFulfilled:ie(G(e),w(t)),matchRejected:ie(ae(e),w(t))}}}}({baseQuery:n,reducerPath:i,context:v,api:t,serializeQueryArgs:s,assertTagType:x,selectors:b,onSchemaFailure:u,catchSchemaFailure:h,skipSchemaValidation:g}),{reducer:z,actions:R}=Dv({context:v,queryThunk:N,infiniteQueryThunk:T,mutationThunk:P,serializeQueryArgs:s,reducerPath:i,assertTagType:x,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:a,reducerPath:i,invalidationBehavior:d}});Hv(t.util,{patchQueryData:C,updateQueryData:E,upsertQueryData:O,prefetch:A,resetApiState:R.resetApiState,upsertQueryEntries:R.cacheEntriesUpserted}),Hv(t.internalActions,R);const{middleware:L,actions:M}=tx({reducerPath:i,context:v,queryThunk:N,mutationThunk:P,infiniteQueryThunk:T,api:t,assertTagType:x,selectors:b});Hv(t.util,M),Hv(t,{reducer:z,middleware:L});const{buildInitiateQuery:D,buildInitiateInfiniteQuery:F,buildInitiateMutation:B,getRunningMutationThunk:U,getRunningMutationsThunk:q,getRunningQueriesThunk:$,getRunningQueryThunk:W}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:r,api:i,context:s}){const a=new Map,o=new Map,{unsubscribeQueryResult:l,removeMutationResult:c,updateSubscriptionOptions:d}=i.internalActions;return{buildInitiateQuery:function(e,t){return u(e,t)},buildInitiateInfiniteQuery:function(e,t){return u(e,t)},buildInitiateMutation:function(e){return(t,{track:n=!0,fixedCacheKey:i}={})=>(s,a)=>{const l=r({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:i}),d=s(l),{requestId:u,abort:h,unwrap:p}=d,m=(f=e=>({error:e}),d.unwrap().then((e=>({data:e}))).catch(f));var f;const g=Object.assign(m,{arg:d.arg,requestId:u,abort:h,unwrap:p,reset:()=>{s(c({requestId:u,fixedCacheKey:i}))}}),y=o.get(s)||{};return o.set(s,y),y[u]=g,g.then((()=>{delete y[u],sv(y)||o.delete(s)})),i&&(y[i]=g,g.then((()=>{y[i]===g&&(delete y[i],sv(y)||o.delete(s))}))),g}},getRunningQueryThunk:function(t,n){return r=>{var i;const o=s.endpointDefinitions[t],l=e({queryArgs:n,endpointDefinition:o,endpointName:t});return null==(i=a.get(r))?void 0:i[l]}},getRunningMutationThunk:function(e,t){return e=>{var n;return null==(n=o.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return e=>Object.values(a.get(e)||{}).filter(ov)},getRunningMutationsThunk:function(){return e=>Object.values(o.get(e)||{}).filter(ov)}};function u(r,s){const o=(c,u={})=>{var h,g=u,{subscribe:v=!0,forceRefetch:x,subscriptionOptions:b,[Sv]:j}=g,w=f(g,["subscribe","forceRefetch","subscriptionOptions",(h=Sv,"symbol"==typeof h?h:h+"")]);return(u,h)=>{var f;const g=e({queryArgs:c,endpointDefinition:s,endpointName:r});let _;const k=m(p({},w),{type:"query",subscribe:v,forceRefetch:x,subscriptionOptions:b,endpointName:r,originalArgs:c,queryCacheKey:g,[Sv]:j});if(bv(s))_=t(k);else{const{direction:e,initialPageParam:t}=w;_=n(m(p({},k),{direction:e,initialPageParam:t}))}const S=i.endpoints[r].select(c),N=u(_),T=S(h()),{requestId:P,abort:C}=N,E=T.requestId!==P,O=null==(f=a.get(u))?void 0:f[g],A=()=>S(h()),I=Object.assign(j?N.then(A):E&&!O?Promise.resolve(T):Promise.all([O,N]).then(A),{arg:c,requestId:P,subscriptionOptions:b,queryCacheKey:g,abort:C,unwrap(){return y(this,null,(function*(){const e=yield I;if(e.isError)throw e.error;return e.data}))},refetch:()=>u(o(c,{subscribe:!1,forceRefetch:!0})),unsubscribe(){v&&u(l({queryCacheKey:g,requestId:P}))},updateSubscriptionOptions(e){I.subscriptionOptions=e,u(d({endpointName:r,requestId:P,queryCacheKey:g,options:e}))}});if(!O&&!E&&!j){const e=function(e,t,n){return e.has(t)?e.get(t):e.set(t,n).get(t)}(a,u,{});e[g]=I,I.then((()=>{delete e[g],sv(e)||a.delete(u)}))}return I}};return o}}({queryThunk:N,mutationThunk:P,infiniteQueryThunk:T,api:t,serializeQueryArgs:s,context:v});return Hv(t.util,{getRunningMutationThunk:U,getRunningMutationsThunk:q,getRunningQueryThunk:W,getRunningQueriesThunk:$}),{name:nx,injectEndpoint(e,n){var r,i;const s=null!=(i=(r=t.endpoints)[e])?i:r[e]={};bv(n)&&Hv(s,{name:e,select:_(e,n),initiate:D(e,n)},I(N,e)),"mutation"===n.type&&Hv(s,{name:e,select:S(),initiate:B(e)},I(P,e)),jv(n)&&Hv(s,{name:e,select:k(e,n),initiate:F(e,n)},I(N,e))}}}}))(),((e={})=>{var t=e,{batch:n=he,hooks:r={useDispatch:F,useSelector:B,useStore:pe},createSelector:i=H,unstable__sideEffectsInRender:s=!1}=t;f(t,["batch","hooks","createSelector","unstable__sideEffectsInRender"]);return{name:fx,init(e,{serializeQueryArgs:t},a){const o=e,{buildQueryHooks:l,buildInfiniteQueryHooks:c,buildMutationHook:d,usePrefetch:u}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:a},serializeQueryArgs:o,context:l}){const c=s?e=>e():M.useEffect;return{buildQueryHooks:function(r){const i=(e,t={})=>{const[n]=h(r,e,t);return y(n),M.useMemo((()=>({refetch:()=>v(n)})),[n])},s=({refetchOnReconnect:i,refetchOnFocus:s,pollingInterval:a=0,skipPollingIfUnfocused:o=!1}={})=>{const{initiate:l}=e.endpoints[r],d=n(),[u,h]=M.useState(ax),p=M.useRef(void 0),m=lx({refetchOnReconnect:i,refetchOnFocus:s,pollingInterval:a,skipPollingIfUnfocused:o});c((()=>{var e,t;const n=null==(e=p.current)?void 0:e.subscriptionOptions;m!==n&&(null==(t=p.current)||t.updateSubscriptionOptions(m))}),[m]);const f=M.useRef(m);c((()=>{f.current=m}),[m]);const g=M.useCallback((function(e,n=!1){let r;return t((()=>{var t;null==(t=p.current)||t.unsubscribe(),p.current=r=d(l(e,{subscriptionOptions:f.current,forceRefetch:!n})),h(e)})),r}),[d,l]),y=M.useCallback((()=>{var t,n;(null==(t=p.current)?void 0:t.queryCacheKey)&&d(e.internalActions.removeQueryResult({queryCacheKey:null==(n=p.current)?void 0:n.queryCacheKey}))}),[d]);return M.useEffect((()=>()=>{var e;null==(e=null==p?void 0:p.current)||e.unsubscribe()}),[]),M.useEffect((()=>{u===ax||p.current||g(u,!0)}),[u,g]),M.useMemo((()=>[g,u,{reset:y}]),[g,u,y])},a=g(r,d);return{useQueryState:a,useQuerySubscription:i,useLazyQuerySubscription:s,useLazyQuery(e){const[t,n,{reset:r}]=s(e),i=a(n,m(p({},e),{skip:n===ax})),o=M.useMemo((()=>({lastArg:n})),[n]);return M.useMemo((()=>[t,m(p({},i),{reset:r}),o]),[t,i,r,o])},useQuery(e,t){const n=i(e,t),r=a(e,p({selectFromResult:e===Fv||(null==t?void 0:t.skip)?void 0:hx},t)),s=px(r,...mx);return M.useDebugValue(s),M.useMemo((()=>p(p({},r),n)),[r,n])}}},buildInfiniteQueryHooks:function(e){const n=(n,r={})=>{const[i,s,a,o]=h(e,n,r),d=M.useRef(o);c((()=>{d.current=o}),[o]);const u=M.useCallback((function(e,n){let r;return t((()=>{var t;null==(t=i.current)||t.unsubscribe(),i.current=r=s(a(e,{subscriptionOptions:d.current,direction:n}))})),r}),[i,s,a]);y(i);const p=ox(r.skip?Fv:n,$v,l.endpointDefinitions[e],e),m=M.useCallback((()=>v(i)),[i]);return M.useMemo((()=>({trigger:u,refetch:m,fetchNextPage:()=>u(p,"forward"),fetchPreviousPage:()=>u(p,"backward")})),[m,u,p])},r=g(e,u);return{useInfiniteQueryState:r,useInfiniteQuerySubscription:n,useInfiniteQuery(e,t){const{refetch:i,fetchNextPage:s,fetchPreviousPage:a}=n(e,t),o=r(e,p({selectFromResult:e===Fv||(null==t?void 0:t.skip)?void 0:hx},t)),l=px(o,...mx,"hasNextPage","hasPreviousPage");return M.useDebugValue(l),M.useMemo((()=>m(p({},o),{fetchNextPage:s,fetchPreviousPage:a,refetch:i})),[o,s,a,i])}}},buildMutationHook:function(i){return({selectFromResult:s,fixedCacheKey:o}={})=>{const{select:l,initiate:c}=e.endpoints[i],d=n(),[u,h]=M.useState();M.useEffect((()=>()=>{(null==u?void 0:u.arg.fixedCacheKey)||null==u||u.reset()}),[u]);const f=M.useCallback((function(e){const t=d(c(e,{fixedCacheKey:o}));return h(t),t}),[d,c,o]),{requestId:g}=u||{},y=M.useMemo((()=>l({fixedCacheKey:o,requestId:null==u?void 0:u.requestId})),[o,u,l]),v=M.useMemo((()=>s?a([y],s):y),[s,y]),x=r(v,me),b=null==o?null==u?void 0:u.arg.originalArgs:void 0,j=M.useCallback((()=>{t((()=>{u&&h(void 0),o&&d(e.internalActions.removeMutationResult({requestId:g,fixedCacheKey:o}))}))}),[d,o,u,g]),w=px(x,...mx,"endpointName");M.useDebugValue(w);const _=M.useMemo((()=>m(p({},x),{originalArgs:b,reset:j})),[x,b,j]);return M.useMemo((()=>[f,_]),[f,_])}},usePrefetch:function(t,r){const i=n(),s=lx(r);return M.useCallback(((n,r)=>i(e.util.prefetch(t,n,p(p({},s),r)))),[t,i,s])}};function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,r=l.endpointDefinitions[e];n!==Fv&&o({queryArgs:t.originalArgs,endpointDefinition:r,endpointName:e})===o({queryArgs:n,endpointDefinition:r,endpointName:e})&&(t=void 0)}let r=e.isSuccess?e.data:null==t?void 0:t.data;void 0===r&&(r=e.data);const i=void 0!==r,s=e.isLoading,a=(!t||t.isLoading||t.isUninitialized)&&!i&&s,c=e.isSuccess||i&&(s&&!(null==t?void 0:t.isError)||e.isUninitialized);return m(p({},e),{data:r,currentData:e.data,isFetching:s,isLoading:a,isSuccess:c})}function u(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,r=l.endpointDefinitions[e];n!==Fv&&o({queryArgs:t.originalArgs,endpointDefinition:r,endpointName:e})===o({queryArgs:n,endpointDefinition:r,endpointName:e})&&(t=void 0)}let r=e.isSuccess?e.data:null==t?void 0:t.data;void 0===r&&(r=e.data);const i=void 0!==r,s=e.isLoading,a=(!t||t.isLoading||t.isUninitialized)&&!i&&s,c=e.isSuccess||s&&i;return m(p({},e),{data:r,currentData:e.data,isFetching:s,isLoading:a,isSuccess:c})}function h(t,r,i={}){var s=i,{refetchOnReconnect:a,refetchOnFocus:o,refetchOnMountOrArgChange:d,skip:u=!1,pollingInterval:h=0,skipPollingIfUnfocused:m=!1}=s,g=f(s,["refetchOnReconnect","refetchOnFocus","refetchOnMountOrArgChange","skip","pollingInterval","skipPollingIfUnfocused"]);const{initiate:y}=e.endpoints[t],v=n(),x=M.useRef(void 0);if(!x.current){const t=v(e.internalActions.internal_getRTKQSubscriptions());x.current=t}const b=ox(u?Fv:r,$v,l.endpointDefinitions[t],t),j=lx({refetchOnReconnect:a,refetchOnFocus:o,pollingInterval:h,skipPollingIfUnfocused:m}),w=lx(g.initialPageParam),_=M.useRef(void 0);let{queryCacheKey:k,requestId:S}=_.current||{},N=!1;k&&S&&(N=x.current.isRequestSubscribed(k,S));const T=!N&&void 0!==_.current;return c((()=>{T&&(_.current=void 0)}),[T]),c((()=>{var e;const n=_.current;if(b===Fv)return null==n||n.unsubscribe(),void(_.current=void 0);const r=null==(e=_.current)?void 0:e.subscriptionOptions;if(n&&n.arg===b)j!==r&&n.updateSubscriptionOptions(j);else{null==n||n.unsubscribe();const e=v(y(b,p({subscriptionOptions:j,forceRefetch:d},ix(l.endpointDefinitions[t])?{initialPageParam:w}:{})));_.current=e}}),[v,y,d,b,j,T,w,t]),[_,v,y,j]}function g(t,n){return(s,{skip:c=!1,selectFromResult:d}={})=>{const{select:u}=e.endpoints[t],h=ox(c?Fv:s,o,l.endpointDefinitions[t],t),p=M.useRef(void 0),m=M.useMemo((()=>a([u(h),(e,t)=>t,e=>h],n,{memoizeOptions:{resultEqualityCheck:me}})),[u,h]),f=M.useMemo((()=>d?a([m],d,{devModeChecks:{identityFunctionCheck:"never"}}):m),[m,d]),g=r((e=>f(e,p.current)),me),y=i(),v=m(y.getState(),p.current);return ux((()=>{p.current=v}),[v]),g}}function y(e){M.useEffect((()=>()=>{var t,n;null==(n=null==(t=e.current)?void 0:t.unsubscribe)||n.call(t),e.current=void 0}),[e])}function v(e){if(!e.current)throw new Error(W(38));return e.current.refetch()}}({api:e,moduleOptions:{batch:n,hooks:r,unstable__sideEffectsInRender:s,createSelector:i},serializeQueryArgs:t,context:a});return sx(o,{usePrefetch:u}),sx(a,{batch:n}),{injectEndpoint(t,n){if("query"===n.type){const{useQuery:n,useLazyQuery:r,useLazyQuerySubscription:i,useQueryState:s,useQuerySubscription:a}=l(t);sx(o.endpoints[t],{useQuery:n,useLazyQuery:r,useLazyQuerySubscription:i,useQueryState:s,useQuerySubscription:a}),e[`use${rx(t)}Query`]=n,e[`useLazy${rx(t)}Query`]=r}if(function(e){return"mutation"===e.type}(n)){const n=d(t);sx(o.endpoints[t],{useMutation:n}),e[`use${rx(t)}Mutation`]=n}else if(ix(n)){const{useInfiniteQuery:n,useInfiniteQuerySubscription:r,useInfiniteQueryState:i}=c(t);sx(o.endpoints[t],{useInfiniteQuery:n,useInfiniteQuerySubscription:r,useInfiniteQueryState:i}),e[`use${rx(t)}InfiniteQuery`]=n}}}}}})());const yx=["https://s.alicdn.com/@sc04/kf/H80aaebfa50664c518a1f4f34a2f06f11s.jpg_250x250xz.jpg","https://s.alicdn.com/@img/imgextra/i1/O1CN01autDAT1cki3b6hRez_!!6000000003639-2-tps-144-144.png","https://s.alicdn.com/@sc04/kf/H17133d4492e14e6b809521b7ec062cd4K.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha8e8c06c321f44da86cd274994aa7fa33.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/He7f0e15385984a8ca361682607efbd0dn.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hdbff98f4be63420eafdf24bf8e0d63259.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha820aa9acccc41569d199e47f924ee77h.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha8b95a9ca64f4cdb89176d212f8eed944.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H3cfd587775b3454faf328d83e669a09cN.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hdc3b49d401fb4ed08dc9b40d0142f062s.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H47a65c830e6c48e6ac0eefbe8845c841f.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H769b2420c7794bdf9e8fa24fbf07a3a9h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hb0596db304f940c38b157c85f169bef3X.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H4b21aee1a07444fb82509d8f90a72b8eF.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H7dcb304412704b2ea60bb6bfc544af29r.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H50c84661e5a94cfe882f6f6d8c8160bdz.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H6110310e7b2841308f1c3c04bed4cd44h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1eoJrNVXXXXaUapXXq6xXFXXXp.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H5e157ef74ea94d2fb522cc1fe82a4879h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H67849228f75f422b82ac7bd9a298ff46E.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB16td8SFXXXXccapXXq6xXFXXXy.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H5f71e3b513a343ffa7cdde0137e05c5az.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H038c3d3a148d4b90b2805d63257cf30ew.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha8e566a2d0264fecac281ebee765d1e6A.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hfc0a2f905df34e3d856bda68f4343b743.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H4a5a8a2e2498434a9dcb108883769006h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H3a7be752fbef43dab91a2063671e26175.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hacd58d06c8554502a3d5e018957bff64z.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H5b364696b18d4e8ab9bd5dddb2538089v.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hf5c486429b6747b6b111fa7d78df3e84t.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H047047b73a8642d29cf563307b1695afe.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H1735e823e0f6435a85bf537f5ca92b08K.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H7766e6b511f243609940c512822dc537q.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H8e56027495d24b2ebd19aa7999ffdca2h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H1305cb95e4ba4fd49722ea4f1e671d41D.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H4b55b1042e7d48ad9aff557c48a73c7c5.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H6a0d00f19ee349d689c3fbfd838039daG.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H1721582e193843eca3e5242cd2daadf5U.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H10df1087a37e4e46a3a6fde30566135bk.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hf2297074295f47dda8a67b89e7214d38H.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hd875fdc790454df9a2f9eb083d5395920.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/A1362d029455644c9a4adc9036cd21c09p.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hf5ebe5de8d564d43941cdbabb1862b44A.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H76c99390ce4848f191f9b3f658e99860Z.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H3ffcf522899c4dcaae15aff407b72ce2b.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H672be798d5164f37aca170ad48a29159N.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H660aefd213ad455285d6baa5d660855cE.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H18ee2ca62b4648f59a3f05a17f334304m.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H1fb5e2fb29374f08ad8f670a4194f855r.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H5a7e01de9b41443f9449c75ee567bd2d9.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha4b9612c6be346ac8116914cfbdfb17ao.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hd2f7007d0b364c81a3b90fee36feb5540.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H01d1d5c99df84fb2aa1ebdb664ccadd0p.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H55f817ead63f4232aa74490d86d9ad40y.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H2d41923c8d004be2858258fb8b7d0560Z.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H5546936955c940d6b85b330c87afb632c.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hfd2b4e89dedf4e6ea18c0b8f0d226243X.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha3ec1e61fff24f2f90250881dc855846n.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H924ea695593646448a330410f4b90ed3a.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Haadb4380cb8b44fca702a81c8faa2337g.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H99c6a6d97add49a080b7b0700bd6798b8.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1mgNOXZTxK1Rjy0Fgq6yovpXa3.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ue6811e5917394cf79da05e94387924c2W.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha8e97532e31448888127c6686a74fb4fm.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H04dcebfcba144f9b8678073714b6ba793.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H19c96591e3f64db592e463a890bb74acs.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H03d1e71da8e34ad591df1fab0d810a2dG.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1fTh7eh6I8KJjy0Fgq6xXzVXaD.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H3c27b67ec1ce4e3ba48fc676537872d8w.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H46bdd37781d94257a3a5db4e8510e6d2x.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H58bbbcfdb1bd489d8dc729c0e891c457K.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Ha22ea4ee201b465789a83142fca92f848.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hf14bad31080f4827b99ce8d014d6321eb.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hf1301bc7d0f7422aa94c551ee7d69ff6S.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hbdf5269e1de143168844a16942b6068cR.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H6c9c8c0a022f42cdbedc912bba9bf31dM.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H240eafda13534cf78f8636fe929fbe71h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H196353d6066944cda3d6efa2e2e05ebbO.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Haf50c953fb664ae7bc0e80c9a566d2b3W.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hc92b70ac9a18490da2cee6f81a450342U.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H7a77c4c1186448468602944cb053ef45y.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H44ff5ffaa75d4c5983a56ddc36229d50e.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H2150540492fd4dcfb0bde18201b78558x.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H0b643714b8db4221a77b2abbcfe21fb9u.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H9ff51932e1e64ef78daa1a9417dbbab1z.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H43a167b3fa8b40e59fbca22b50f75f36Z.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Haa393e57f95b4038a969966d6a899787Y.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1MM8uOgHqK1RjSZFEq6AGMXXa3.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB163QcLFXXXXbxXVXXq6xXFXXXx.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hd0d848eea6ff413c9b762624c81d3d6cE.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/A02d78bae4765422cbbbcda097e26ce79q.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hb0d7c2db59b445c4b81d8971a198e0a4g.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hf8b0bb728ba849d0b370b056fa40f6fdr.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H0604e77298ba4934b62a8c269da23967J.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H8f0e13ccf7564d439a8367791126c16aU.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H8490b2d044834a3189d54d210b0e7743h.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hbe58dd905f70402cbc4cbe8788ecf51fC.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hcbd664fe217f4881b0985c8824b2562b7.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H1868be1c198d452d9d55e059e72d6635i.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H3f8217ae7bbf41d59c19ab7532684f0fJ.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/Hcadb5ed8b6234fafaf37bd439453e55bJ.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H71b1b21b43304304be690450e6038e1eB.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1o1qtXcfrK1RkSnb4q6xHRFXa7.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/U23a32191e1b64a49b146f6ca9f6acdf0S.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H9947ba1150bf43cba1068f79209e551an.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H831011f13cc248b296460385ef7b35adK.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H3af660debee74ff987c0dc0544a657bfC.png_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1Mx_QbHus3KVjSZKbq6xqkFXaK.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/H50718f9fb81f4178959e509826d531acy.jpg_250x250xz.jpg","https://s.alicdn.com/@sc04/kf/HTB1tHXulhSYBuNjSsphq6zGvVXaw.jpg_250x250xz.jpg"];let vx=0;const xx=()=>{const e=yx[vx%yx.length];return vx++,e},bx=[{id:1,name:"AeroSound X Wireless Headphones",price_1:"160000",price_2:"280000",feature_photo:xx(),stock:{items_sold:450,total_items:500},rating:4.8,reviewsCount:1800,description:"Deep bass, foldable design, quick charging. Perfect for music lovers and professionals alike.",specifications:[{label:"Connectivity",value:"Bluetooth 5.0"},{label:"Battery Life",value:"30 hours"}],images:[xx(),xx(),xx()],variants:{Color:["Black","White"],Size:["Standard"]}},{id:2,name:"Automated Coffee Machine – Barista Grade",price_1:"850000",price_2:"1200000",feature_photo:xx(),stock:{items_sold:80,total_items:100},rating:4.9,reviewsCount:300,description:"Integrated grinder & milk frother, customizable settings, one-touch espresso, cappuccino, latte.",specifications:[{label:"Water Tank",value:"2.5 L"},{label:"Bean Hopper",value:"300 g"}],images:[xx(),xx(),xx()],variants:{Color:["Silver","Black"]}},{id:3,name:"UltraBook Pro – 15″ 4K Laptop",price_1:"2500000",price_2:"3500000",feature_photo:xx(),stock:{items_sold:60,total_items:70},rating:4.7,reviewsCount:150,description:"Professional-grade laptop with 4K display, latest-gen CPU, long battery, sleek aluminum chassis.",specifications:[{label:"Processor",value:"Intel Core i7"},{label:"RAM",value:"16 GB"}],images:[xx(),xx(),xx()],variants:{Color:["Space Gray","Silver"],Storage:["512GB","1TB"]}},{id:4,name:"VigoFit Fitness Tracker – ECG & GPS",price_1:"90000",price_2:"150000",feature_photo:xx(),stock:{items_sold:300,total_items:350},rating:4.5,reviewsCount:2500,description:"Built-in GPS, ECG monitoring, sleep & heart-rate tracking, water-resistant up to 50m.",specifications:[{label:"Display",value:"AMOLED touchscreen"},{label:"Water Resistance",value:"50 m (IP68)"}],images:[xx(),xx(),xx()],variants:{Strap:["Black","Rose Gold"]}},{id:5,name:"Smart LED Light Bulb – Dimmable & Color-Changing",price_1:"25000",price_2:"40000",feature_photo:xx(),stock:{items_sold:700,total_items:800},rating:4.6,reviewsCount:3e3,description:"Wi-Fi enabled, voice assistant compatible, app-controlled color modes, energy-efficient.",specifications:[{label:"Brightness",value:"800 lumens"},{label:"Compatibility",value:"Alexa, Google Home, SmartThings"}],images:[xx(),xx(),xx()],variants:{Base:["E26","E27"]}}],jx=[{id:101,name:"Pro-Grade Smartwatch v5",price_1:"85000",price_2:"150000",feature_photo:xx(),stock:{items_sold:82,total_items:100},rating:4.7,reviewsCount:1532,description:"Retina AMOLED, NFC payments, GPS, heart rate & SpO2 sensors, up to 18h battery, water-resistant.",specifications:[{label:"Display",value:"1.39″ AMOLED Always-On"},{label:"Connectivity",value:"Bluetooth 5.0, Wi-Fi, NFC"},{label:"Battery Life",value:"Up to 18 hours"}],images:[xx(),xx(),xx()],variants:{Color:["Black","Silver","Rose Gold"],Size:["40mm","44mm"]}},{id:102,name:"AcousticPro Wireless Earbuds with ANC",price_1:"120000",price_2:"210000",feature_photo:xx(),stock:{items_sold:54,total_items:80},rating:4.2,reviewsCount:890,description:"Active Noise Cancellation, Bluetooth 5.2, ergonomic fit, 8h playback + 30h case, IPX4 sweat-proof.",specifications:[{label:"ANC",value:"Active Noise Cancellation"},{label:"Battery Life",value:"8h (earbuds) / 30h (case)"},{label:"Waterproof",value:"IPX4"}],images:[xx(),xx(),xx()],variants:{Color:["Black","White","Navy Blue"]}}],wx=bx.map((e=>na.fromJson(e))),_x=jx.map((e=>na.fromJson(e))),kx=gx({reducerPath:"productsApi",baseQuery:pv({baseUrl:"/"}),endpoints:e=>({getProducts:e.query({queryFn(e){return y(this,arguments,(function*({type:e="all",limit:t}){yield new Promise((e=>setTimeout(e,300)));let n="deals"===e?_x:wx;return"top"===e&&(n=wx.slice(0,3)),null!=t&&(n=n.slice(0,t)),{data:n}}))}}),getProductById:e.query({queryFn(e){return y(this,null,(function*(){yield new Promise((e=>setTimeout(e,200)));const t=wx.concat(_x).find((t=>t.id===e));return t?{data:t}:{error:{status:404,data:"Not found"}}}))}})})}),Sx=gx({reducerPath:"realProductsApi",baseQuery:pv({baseUrl:Hi,prepareHeaders:e=>{const t=ts.loadFromDatabase(Ki),n=ts.loadFromDatabase(Ji);return e.set("Content-Type","application/json"),e.set("Accept","application/json"),n&&(e.set("HTTP_USER_ID",String(n.id)),e.set("user_id",String(n.id))),t&&(e.set("Authorization",`Bearer ${t}`),e.set("tok",`Bearer ${t}`)),e}}),tagTypes:["Product","Category","Vendor","Review"],keepUnusedDataFor:0,endpoints:e=>({getProducts:e.query({queryFn:e=>y(void 0,[e],(function*({page:e=1,limit:t=24,category:n,search:r,vendor:i,min_price:s,max_price:a,in_stock:o,sort_by:l="created_at",sort_order:c="desc"}){try{const d={page:e,category:n,search:r,vendor:i,min_price:s,max_price:a,in_stock:o,sort_by:l,sort_order:c,limit:t};return{data:yield Ea.getProducts(d)}}catch(d){return{error:{status:"FETCH_ERROR",error:d.message||"Failed to fetch products"}}}})),providesTags:e=>e?[...e.data.map((({id:e})=>({type:"Product",id:e}))),{type:"Product",id:"LIST"}]:[{type:"Product",id:"LIST"}]}),getProductById:e.query({queryFn:e=>y(void 0,null,(function*(){try{return{data:yield sa.getProduct(e)}}catch(t){return{error:{status:"FETCH_ERROR",error:t.message||"Product not found"}}}})),providesTags:(e,t,n)=>[{type:"Product",id:n}]}),getCategories:e.query({queryFn:()=>y(void 0,null,(function*(){try{return{data:yield Ea.getCategories()}}catch(e){return{error:{status:"FETCH_ERROR",error:e.message||"Failed to fetch categories"}}}})),providesTags:e=>e?[...e.map((({id:e})=>({type:"Category",id:e}))),{type:"Category",id:"LIST"}]:[{type:"Category",id:"LIST"}]}),getCategoryById:e.query({query:e=>`categories/${e}`,transformResponse:e=>{if(1===e.code)return ra.fromJson(e.data);throw new Error(e.message||"Category not found")},providesTags:(e,t,n)=>[{type:"Category",id:n}]}),getVendors:e.query({queryFn:()=>y(void 0,null,(function*(){try{return{data:yield Ea.getVendors()}}catch(e){return{error:{status:"FETCH_ERROR",error:e.message||"Failed to fetch vendors"}}}})),providesTags:[{type:"Vendor",id:"LIST"}]}),searchProducts:e.query({query:({query:e,page:t=1,filters:n={}})=>{const r=p({search:e,page:String(t)},Object.fromEntries(Object.entries(n).map((([e,t])=>[e,String(t)]))));return`products?${new URLSearchParams(r).toString()}`},transformResponse:e=>{if(1===e.code&&e.data){const t=e.data;return t.data=t.data.map((e=>na.fromJson(e))),t}throw new Error(e.message||"Search failed")}}),getOrders:e.query({query:({page:e=1})=>`orders?page=${e}`,transformResponse:e=>{if(1===e.code)return e.data;throw new Error(e.message||"Failed to fetch orders")}}),getOrderById:e.query({query:e=>`orders/${e}`,transformResponse:e=>{if(1===e.code)return e.data;throw new Error(e.message||"Order not found")}}),createOrder:e.mutation({query:e=>({url:"orders",method:"POST",body:e}),transformResponse:e=>{if(1===e.code)return e.data;throw new Error(e.message||"Failed to create order")}}),addToWishlist:e.mutation({query:e=>({url:"wishlist",method:"POST",body:e}),transformResponse:e=>{if(1===e.code)return e.data;throw new Error(e.message||"Failed to add to wishlist")}}),removeFromWishlist:e.mutation({query:e=>({url:`wishlist/${e}`,method:"DELETE"}),transformResponse:e=>{if(1===e.code)return e.data;throw new Error(e.message||"Failed to remove from wishlist")}}),getWishlist:e.query({query:()=>"wishlist",transformResponse:e=>1===e.code&&Array.isArray(e.data)?e.data.map((e=>na.fromJson(e.product||e))):[]}),getProductReviews:e.query({query:({productId:e,page:t=1,perPage:n=10,sortBy:r="newest"})=>`reviews?${new URLSearchParams({product_id:String(e),page:String(t),per_page:String(n),sort_by:r})}`,transformResponse:e=>e.success?e.data:{reviews:[],pagination:{current_page:1,last_page:1,per_page:10,total:0}},providesTags:(e,t,{productId:n})=>[{type:"Product",id:n},"Review"]}),getReviewStats:e.query({query:({productId:e})=>`reviews/stats?product_id=${e}`,transformResponse:e=>e.success?e.data:{total_reviews:0,average_rating:0,rating_breakdown:{}},providesTags:(e,t,{productId:n})=>[{type:"Product",id:n},"Review"]}),getUserReview:e.query({query:({productId:e})=>`reviews/user-review?product_id=${e}`,transformResponse:e=>e.success?e.data:null,providesTags:(e,t,{productId:n})=>[{type:"Product",id:n},"Review"]}),addProductReview:e.mutation({query:({productId:e,rating:t,comment:n})=>({url:"reviews",method:"POST",body:{product_id:e,rating:t,comment:n}}),transformResponse:e=>{if(e.success)return e.data;throw new Error(e.message||"Failed to submit review")},invalidatesTags:(e,t,{productId:n})=>[{type:"Product",id:n},"Review"]}),updateProductReview:e.mutation({query:({reviewId:e,rating:t,comment:n})=>({url:`reviews/${e}`,method:"PUT",body:{rating:t,comment:n}}),transformResponse:e=>{if(e.success)return e.data;throw new Error(e.message||"Failed to update review")},invalidatesTags:(e,t,{productId:n})=>["Review",...n?[{type:"Product",id:n}]:[]]}),deleteProductReview:e.mutation({query:({reviewId:e})=>({url:`reviews/${e}`,method:"DELETE"}),transformResponse:e=>{if(e.success)return e.data;throw new Error(e.message||"Failed to delete review")},invalidatesTags:(e,t,{productId:n})=>["Review",...n?[{type:"Product",id:n}]:[]]})})}),{useGetProductsQuery:Nx,useGetProductByIdQuery:Tx,useGetCategoriesQuery:Px,useGetCategoryByIdQuery:Cx,useGetVendorsQuery:Ex,useSearchProductsQuery:Ox,useGetOrdersQuery:Ax,useGetOrderByIdQuery:Ix,useCreateOrderMutation:zx,useAddToWishlistMutation:Rx,useRemoveFromWishlistMutation:Lx,useGetWishlistQuery:Mx,useGetProductReviewsQuery:Dx,useGetReviewStatsQuery:Fx,useGetUserReviewQuery:Bx,useAddProductReviewMutation:Vx,useUpdateProductReviewMutation:Ux,useDeleteProductReviewMutation:qx}=Sx,$x=D({name:"notification",initialState:{notifications:[]},reducers:{showNotification:(e,t)=>{const n=m(p({},t.payload),{id:Math.random().toString(36).substring(2,9)});e.notifications.push(n)},hideNotification:(e,t)=>{e.notifications=e.notifications.filter((e=>e.id!==t.payload))},clearAllNotifications:e=>{e.notifications=[]}}}).reducer,Wx=V("wishlist/loadFromAPI",((e,t)=>y(void 0,[e,t],(function*(e,{rejectWithValue:t}){try{return yield sa.getWishlist()}catch(n){return t(n.message||"Failed to load wishlist")}})))),Hx=V("wishlist/addToAPI",((e,t)=>y(void 0,[e,t],(function*(e,{rejectWithValue:t,dispatch:n}){try{return yield sa.addToWishlist(e),n(oa()),e}catch(r){return t(r.message||"Failed to add to wishlist")}})))),Qx=V("wishlist/removeFromAPI",((e,t)=>y(void 0,[e,t],(function*(e,{rejectWithValue:t,dispatch:n}){try{return yield sa.removeFromWishlist(e),n(oa()),e}catch(r){return t(r.message||"Failed to remove from wishlist")}})))),Kx=D({name:"wishlist",initialState:{items:[],isLoading:!1,error:null},reducers:{addToWishlist:(e,t)=>{e.items.find((e=>e.product_id===t.payload.product_id))||e.items.push(t.payload)},removeFromWishlist:(e,t)=>{e.items=e.items.filter((e=>e.product_id!==t.payload))},clearWishlist:e=>{e.items=[]},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},setWishlistItems:(e,t)=>{e.items=t.payload},syncFromManifest:(e,t)=>{0===e.items.length&&t.payload&&t.payload.length>0&&(e.items=t.payload.map((e=>({id:e.id,user_id:e.user_id,product_id:e.product_id,product_name:e.product_name||e.name,product_price:e.product_price||e.price_1,product_sale_price:e.product_sale_price||e.price_2,product_photo:e.product_photo||e.image,created_at:e.created_at||(new Date).toISOString(),updated_at:e.updated_at||(new Date).toISOString()}))))}},extraReducers:e=>{e.addCase(Wx.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(Wx.fulfilled,((e,t)=>{e.isLoading=!1,e.items=t.payload})).addCase(Wx.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload})).addCase(Hx.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(Hx.fulfilled,((e,t)=>{e.isLoading=!1})).addCase(Hx.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload})).addCase(Qx.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(Qx.fulfilled,((e,t)=>{e.isLoading=!1,e.items=e.items.filter((e=>e.product_id!==t.payload))})).addCase(Qx.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{addToWishlist:Jx,removeFromWishlist:Xx,clearWishlist:Yx,setLoading:Gx,setError:Zx,setWishlistItems:eb,syncFromManifest:tb}=Kx.actions,nb=e=>e.wishlist.isLoading,rb=fe({reducer:{auth:Os,cart:ea,notification:$x,wishlist:Kx.reducer,manifest:ja,[kx.reducerPath]:kx.reducer,[Sx.reducerPath]:Sx.reducer},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/REGISTER","realProductsApi/executeQuery/fulfilled","realProductsApi/executeQuery/pending","realProductsApi/executeQuery/rejected","realProductsApi/config/middlewareRegistered","realProductsApi/subscriptions/internal_getRTKQSubscriptions","realProductsApi/subscriptions/unsubscribeQueryResult","productsApi/executeQuery/fulfilled","productsApi/executeQuery/pending","productsApi/executeQuery/rejected"],ignoredActionsPaths:["payload","meta.arg","meta.baseQueryMeta"],ignoredPaths:["realProductsApi","productsApi","auth.user","cart.items","manifest.data.featured_products","manifest.data.recent_products","manifest.data.wishlist"]}}).concat(kx.middleware,Sx.middleware)});var ib;ib=rb.dispatch,function(){const e=()=>ib(fv()),t=()=>ib(yv()),n=()=>ib(vv()),r=()=>{"visible"===window.document.visibilityState?e():ib(gv())};xv||"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",e,!1),window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),xv=!0)}();const sb={USER:"ugflix_user",TOKEN:"ugflix_auth_token"};class ab{static fetchAndSyncProfile(e=!1){return y(this,null,(function*(){try{const t=yield sa.fetchUserProfile();if(!t||!t.id)throw new Error("Invalid profile data received from server");return this.saveToLocalStorage(t),this.syncToRedux(t),e&&rs.success("Profile refreshed successfully!"),t}catch(t){throw e&&rs.error(t.message||"Failed to refresh profile"),t}}))}static getFromLocalStorage(){try{const e=localStorage.getItem(sb.USER);if(!e)return null;const t=JSON.parse(e);return t&&t.id?t:null}catch(e){return null}}static saveToLocalStorage(e){try{const t=JSON.stringify(e);localStorage.setItem(sb.USER,t)}catch(t){throw new Error("Failed to save profile to local storage")}}static syncToRedux(e){try{rb.dispatch(ws(e))}catch(t){throw new Error("Failed to sync profile to Redux store")}}static syncUpdatedProfile(e){try{this.saveToLocalStorage(e),this.syncToRedux(e)}catch(t){throw t}}static clearProfile(){try{localStorage.removeItem(sb.USER),localStorage.removeItem(sb.TOKEN)}catch(e){}}static validateProfile(e){return!!e&&("object"==typeof e&&(!(!e.id||"number"!=typeof e.id)&&!(!e.email||"string"!=typeof e.email)))}static getAuthToken(){return localStorage.getItem(sb.TOKEN)}static isAuthenticated(){const e=this.getAuthToken(),t=this.getFromLocalStorage();return!!e&&!!t&&this.validateProfile(t)}}const ob=Object.freeze(Object.defineProperty({__proto__:null,ProfileService:ab,STORAGE_KEYS:sb,default:ab},Symbol.toStringTag,{value:"Module"})),lb=()=>{const e=ve();F();const{user:t}=B((e=>e.auth)),n=M.useRef(null),[r,i]=M.useState(!0),[s,a]=M.useState(!1),o=e=>{const t=e.replace(/[^0-9.-]/g,""),n=t.split(".");return n.length>2?n[0]+"."+n.slice(1).join(""):t},l=e=>{if(!e||""===e.trim())return!1;const t=parseFloat(e);return!isNaN(t)&&isFinite(t)},[c,d]=M.useState(1),[u,h]=M.useState({first_name:(null==t?void 0:t.first_name)||"",last_name:(null==t?void 0:t.last_name)||"",email:(null==t?void 0:t.email)||"",phone_number:(null==t?void 0:t.phone_number)||"",phone_number_2:(null==t?void 0:t.phone_number_2)||"",dob:(null==t?void 0:t.dob)||"",sex:(null==t?void 0:t.sex)||"",avatar:null,avatarPreview:(null==t?void 0:t.avatar)||"",country:(null==t?void 0:t.country)||"",state:(null==t?void 0:t.state)||"",city:(null==t?void 0:t.city)||"",address:(null==t?void 0:t.address)||"",latitude:(null==t?void 0:t.latitude)||"",longitude:(null==t?void 0:t.longitude)||"",bio:(null==t?void 0:t.bio)||"",tagline:(null==t?void 0:t.tagline)||"",profile_photos:(null==t?void 0:t.profile_photos)||"",sexual_orientation:(null==t?void 0:t.sexual_orientation)||"",height_cm:(null==t?void 0:t.height_cm)||"",body_type:(null==t?void 0:t.body_type)||"",smoking_habit:(null==t?void 0:t.smoking_habit)||"",drinking_habit:(null==t?void 0:t.drinking_habit)||"",pet_preference:(null==t?void 0:t.pet_preference)||"",religion:(null==t?void 0:t.religion)||"",political_views:(null==t?void 0:t.political_views)||"",languages_spoken:(null==t?void 0:t.languages_spoken)||"",education_level:(null==t?void 0:t.education_level)||"",occupation:(null==t?void 0:t.occupation)||"",looking_for:(null==t?void 0:t.looking_for)||"",interested_in:(null==t?void 0:t.interested_in)||"",age_range_min:(null==t?void 0:t.age_range_min)||"18",age_range_max:(null==t?void 0:t.age_range_max)||"35",max_distance_km:(null==t?void 0:t.max_distance_km)||"50"}),[f,g]=M.useState({}),v=M.useCallback((e=>{var t,n,r,i,s,a;h({first_name:(null==e?void 0:e.first_name)||"",last_name:(null==e?void 0:e.last_name)||"",email:(null==e?void 0:e.email)||"",phone_number:(null==e?void 0:e.phone_number)||"",phone_number_2:(null==e?void 0:e.phone_number_2)||"",dob:(null==e?void 0:e.dob)||"",sex:(null==e?void 0:e.sex)||"",avatar:null,avatarPreview:(null==e?void 0:e.avatar)||"",country:(null==e?void 0:e.country)||"",state:(null==e?void 0:e.state)||"",city:(null==e?void 0:e.city)||"",address:(null==e?void 0:e.address)||"",latitude:(null==(t=null==e?void 0:e.latitude)?void 0:t.toString())||"",longitude:(null==(n=null==e?void 0:e.longitude)?void 0:n.toString())||"",bio:(null==e?void 0:e.bio)||"",tagline:(null==e?void 0:e.tagline)||"",profile_photos:(null==e?void 0:e.profile_photos)||"",sexual_orientation:(null==e?void 0:e.sexual_orientation)||"",height_cm:(null==(r=null==e?void 0:e.height_cm)?void 0:r.toString())||"",body_type:(null==e?void 0:e.body_type)||"",smoking_habit:(null==e?void 0:e.smoking_habit)||"",drinking_habit:(null==e?void 0:e.drinking_habit)||"",pet_preference:(null==e?void 0:e.pet_preference)||"",religion:(null==e?void 0:e.religion)||"",political_views:(null==e?void 0:e.political_views)||"",languages_spoken:(null==e?void 0:e.languages_spoken)||"",education_level:(null==e?void 0:e.education_level)||"",occupation:(null==e?void 0:e.occupation)||"",looking_for:(null==e?void 0:e.looking_for)||"",interested_in:(null==e?void 0:e.interested_in)||"",age_range_min:(null==(i=null==e?void 0:e.age_range_min)?void 0:i.toString())||"18",age_range_max:(null==(s=null==e?void 0:e.age_range_max)?void 0:s.toString())||"35",max_distance_km:(null==(a=null==e?void 0:e.max_distance_km)?void 0:a.toString())||"50"})}),[]);M.useEffect((()=>{y(void 0,null,(function*(){try{i(!0);const{ProfileService:e}=yield qe((()=>y(void 0,null,(function*(){const{ProfileService:e}=yield Promise.resolve().then((()=>ob));return{ProfileService:e}}))),void 0),t=yield e.fetchAndSyncProfile(!1);v(t)}catch(e){rs.error("Failed to load profile data. Using cached data."),t&&v(t)}finally{i(!1)}}))}),[]);const x=e=>{const{name:t,value:n}=e.target;h((e=>m(p({},e),{[t]:n}))),f[t]&&g((e=>m(p({},e),{[t]:""})))},b=e=>{const t={};return 1===e&&(u.first_name.trim()||(t.first_name="First name is required"),u.last_name.trim()||(t.last_name="Last name is required"),u.email.trim()?/\S+@\S+\.\S+/.test(u.email)||(t.email="Email is invalid"):t.email="Email is required",u.phone_number.trim()||(t.phone_number="Phone number is required"),u.dob||(t.dob="Date of birth is required"),u.sex||(t.sex="Gender is required")),2===e&&(u.country.trim()||(t.country="Country is required"),u.city.trim()||(t.city="City is required")),3===e&&(u.bio.trim()||(t.bio="Bio is required"),u.bio.length<20&&(t.bio="Bio must be at least 20 characters"),u.body_type||(t.body_type="Body type is required"),u.occupation.trim()||(t.occupation="Occupation is required")),g(t),0===Object.keys(t).length},j=[{number:1,title:"Basic Info",icon:w.jsx(Bc,{})},{number:2,title:"Location",icon:w.jsx(Sc,{})},{number:3,title:"Dating Profile",icon:w.jsx(xc,{})},{number:4,title:"Preferences",icon:w.jsx(zc,{})}],_=c/4*100;return r?w.jsx("div",{className:"profile-edit-page",children:w.jsx("div",{className:"profile-edit-container",children:w.jsxs("div",{className:"profile-loading",children:[w.jsx("div",{className:"loading-spinner",children:w.jsx(wc,{className:"spinner-icon"})}),w.jsx("h2",{children:"Loading Your Profile..."}),w.jsx("p",{children:"Fetching your latest information from the server"})]})})}):w.jsx("div",{className:"profile-edit-page",children:w.jsxs("div",{className:"profile-edit-container",children:[w.jsxs("div",{className:"profile-edit-header",children:[w.jsx("h1",{className:"profile-edit-title",children:"Edit Your Profile"}),w.jsx("p",{className:"profile-edit-subtitle",children:"Complete your profile to enhance your experience"})]}),w.jsxs("div",{className:"progress-section",children:[w.jsx("div",{className:"progress-bar-container",children:w.jsx("div",{className:"progress-bar-fill",style:{width:`${_}%`}})}),w.jsx("div",{className:"progress-steps",children:j.map((e=>w.jsxs("div",{className:`progress-step ${c>=e.number?"active":""} ${c>e.number?"completed":""}`,children:[w.jsx("div",{className:"step-icon",children:c>e.number?w.jsx(cc,{}):e.icon}),w.jsx("span",{className:"step-title",children:e.title})]},e.number)))})]}),w.jsxs("div",{className:"profile-edit-form",children:[1===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(Bc,{})," Basic Information"]}),w.jsxs("div",{className:"avatar-upload-section",children:[w.jsxs("div",{className:"avatar-preview",onClick:()=>{var e;null==(e=n.current)||e.click()},children:[u.avatarPreview?w.jsx("img",{src:ts.img(u.avatarPreview),alt:"Avatar"}):w.jsx("div",{className:"avatar-placeholder",children:w.jsx(oc,{size:32})}),w.jsxs("div",{className:"avatar-overlay",children:[w.jsx(oc,{size:24}),w.jsx("span",{children:"Change Photo"})]})]}),w.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){if(!n.type.startsWith("image/"))return void rs.error("Please select an image file");if(n.size>5242880)return void rs.error("Image size must be less than 5MB");const e=new FileReader;e.onloadend=()=>{h((t=>m(p({},t),{avatar:n,avatarPreview:e.result})))},e.readAsDataURL(n)}},style:{display:"none"}}),w.jsx("p",{className:"avatar-hint",children:"Click to upload your profile photo"})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"first_name",children:["First Name ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"text",id:"first_name",name:"first_name",value:u.first_name,onChange:x,className:f.first_name?"error":"",placeholder:"Enter your first name"}),f.first_name&&w.jsx("span",{className:"error-message",children:f.first_name})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"last_name",children:["Last Name ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"text",id:"last_name",name:"last_name",value:u.last_name,onChange:x,className:f.last_name?"error":"",placeholder:"Enter your last name"}),f.last_name&&w.jsx("span",{className:"error-message",children:f.last_name})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"email",children:["Email Address ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:x,className:f.email?"error":"",placeholder:"your.email@example.com"}),f.email&&w.jsx("span",{className:"error-message",children:f.email})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"phone_number",children:["Phone Number ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:u.phone_number,onChange:x,className:f.phone_number?"error":"",placeholder:"+256 700 000000"}),f.phone_number&&w.jsx("span",{className:"error-message",children:f.phone_number})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"phone_number_2",children:"Alternative Phone (Optional)"}),w.jsx("input",{type:"tel",id:"phone_number_2",name:"phone_number_2",value:u.phone_number_2,onChange:x,placeholder:"+256 700 000000"})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"dob",children:["Date of Birth ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"date",id:"dob",name:"dob",value:u.dob,onChange:x,className:f.dob?"error":"",max:new Date((new Date).setFullYear((new Date).getFullYear()-14)).toISOString().split("T")[0]}),f.dob&&w.jsx("span",{className:"error-message",children:f.dob})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"sex",children:["Gender ",w.jsx("span",{className:"required",children:"*"})]}),w.jsxs("select",{id:"sex",name:"sex",value:u.sex,onChange:x,className:f.sex?"error":"",children:[w.jsx("option",{value:"",children:"Select Gender"}),w.jsx("option",{value:"Male",children:"Male"}),w.jsx("option",{value:"Female",children:"Female"}),w.jsx("option",{value:"Other",children:"Other"})]}),f.sex&&w.jsx("span",{className:"error-message",children:f.sex})]})]})]}),2===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(Sc,{})," Location Information"]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"country",children:["Country ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"text",id:"country",name:"country",value:u.country,onChange:x,className:f.country?"error":"",placeholder:"e.g., Uganda"}),f.country&&w.jsx("span",{className:"error-message",children:f.country})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"city",children:["City ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"text",id:"city",name:"city",value:u.city,onChange:x,className:f.city?"error":"",placeholder:"e.g., Kampala"}),f.city&&w.jsx("span",{className:"error-message",children:f.city})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"state",children:"State/Province (Optional)"}),w.jsx("input",{type:"text",id:"state",name:"state",value:u.state,onChange:x,placeholder:"e.g., Central Region"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"address",children:"Street Address (Optional)"}),w.jsx("textarea",{id:"address",name:"address",value:u.address,onChange:x,rows:3,placeholder:"Enter your full address"})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"latitude",children:"Latitude (Optional)"}),w.jsx("input",{type:"number",id:"latitude",name:"latitude",value:u.latitude,onChange:e=>{const t=o(e.target.value);h((e=>m(p({},e),{latitude:t})))},placeholder:"0.347596",step:"0.000001",min:"-90",max:"90"}),w.jsx("small",{className:"field-hint",children:"Valid range: -90 to 90"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"longitude",children:"Longitude (Optional)"}),w.jsx("input",{type:"number",id:"longitude",name:"longitude",value:u.longitude,onChange:e=>{const t=o(e.target.value);h((e=>m(p({},e),{longitude:t})))},placeholder:"32.582520",step:"0.000001",min:"-180",max:"180"}),w.jsx("small",{className:"field-hint",children:"Valid range: -180 to 180"})]})]})]}),3===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(xc,{})," Dating Profile"]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"bio",children:["About Me (Bio) ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("textarea",{id:"bio",name:"bio",value:u.bio,onChange:x,className:f.bio?"error":"",rows:5,placeholder:"Tell others about yourself... (minimum 20 characters)",maxLength:500}),w.jsxs("div",{className:"char-count",children:[u.bio.length,"/500"]}),f.bio&&w.jsx("span",{className:"error-message",children:f.bio})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"tagline",children:"Tagline (Optional)"}),w.jsx("input",{type:"text",id:"tagline",name:"tagline",value:u.tagline,onChange:x,placeholder:"A catchy phrase about you",maxLength:100})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"height_cm",children:"Height (cm) (Optional)"}),w.jsx("input",{type:"number",id:"height_cm",name:"height_cm",value:u.height_cm,onChange:x,placeholder:"170",min:"100",max:"250"})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"body_type",children:["Body Type ",w.jsx("span",{className:"required",children:"*"})]}),w.jsxs("select",{id:"body_type",name:"body_type",value:u.body_type,onChange:x,className:f.body_type?"error":"",children:[w.jsx("option",{value:"",children:"Select Body Type"}),w.jsx("option",{value:"Slim",children:"Slim"}),w.jsx("option",{value:"Average",children:"Average"}),w.jsx("option",{value:"Athletic",children:"Athletic"}),w.jsx("option",{value:"Curvy",children:"Curvy"}),w.jsx("option",{value:"Muscular",children:"Muscular"})]}),f.body_type&&w.jsx("span",{className:"error-message",children:f.body_type})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"sexual_orientation",children:"Sexual Orientation (Optional)"}),w.jsxs("select",{id:"sexual_orientation",name:"sexual_orientation",value:u.sexual_orientation,onChange:x,children:[w.jsx("option",{value:"",children:"Select Orientation"}),w.jsx("option",{value:"Straight",children:"Straight"}),w.jsx("option",{value:"Homosexual",children:"Homosexual"}),w.jsx("option",{value:"Bisexual",children:"Bisexual"}),w.jsx("option",{value:"Asexual",children:"Asexual"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"smoking_habit",children:"Smoking Habit (Optional)"}),w.jsxs("select",{id:"smoking_habit",name:"smoking_habit",value:u.smoking_habit,onChange:x,children:[w.jsx("option",{value:"",children:"Select Option"}),w.jsx("option",{value:"Never",children:"Never"}),w.jsx("option",{value:"Occasionally",children:"Occasionally"}),w.jsx("option",{value:"Regular",children:"Regular"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"drinking_habit",children:"Drinking Habit (Optional)"}),w.jsxs("select",{id:"drinking_habit",name:"drinking_habit",value:u.drinking_habit,onChange:x,children:[w.jsx("option",{value:"",children:"Select Option"}),w.jsx("option",{value:"Never",children:"Never"}),w.jsx("option",{value:"Socially",children:"Socially"}),w.jsx("option",{value:"Regular",children:"Regular"})]})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"occupation",children:["Occupation ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"text",id:"occupation",name:"occupation",value:u.occupation,onChange:x,className:f.occupation?"error":"",placeholder:"e.g., Software Engineer"}),f.occupation&&w.jsx("span",{className:"error-message",children:f.occupation})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"education_level",children:"Education Level (Optional)"}),w.jsxs("select",{id:"education_level",name:"education_level",value:u.education_level,onChange:x,children:[w.jsx("option",{value:"",children:"Select Education Level"}),w.jsx("option",{value:"None",children:"None"}),w.jsx("option",{value:"High School",children:"High School"}),w.jsx("option",{value:"Associate Degree",children:"Associate Degree"}),w.jsx("option",{value:"Bachelor Degree",children:"Bachelor Degree"}),w.jsx("option",{value:"Master Degree",children:"Master Degree"}),w.jsx("option",{value:"PhD",children:"PhD"}),w.jsx("option",{value:"Postdoctoral",children:"Postdoctoral"})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"religion",children:"Religion (Optional)"}),w.jsxs("select",{id:"religion",name:"religion",value:u.religion,onChange:x,children:[w.jsx("option",{value:"",children:"Select Religion"}),w.jsx("option",{value:"Christianity",children:"Christianity"}),w.jsx("option",{value:"Islam",children:"Islam"}),w.jsx("option",{value:"Hinduism",children:"Hinduism"}),w.jsx("option",{value:"Buddhism",children:"Buddhism"}),w.jsx("option",{value:"Judaism",children:"Judaism"}),w.jsx("option",{value:"Atheism",children:"Atheism"}),w.jsx("option",{value:"Agnostic",children:"Agnostic"}),w.jsx("option",{value:"Spiritual",children:"Spiritual"}),w.jsx("option",{value:"Sikhism",children:"Sikhism"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"languages_spoken",children:"Languages Spoken (Optional)"}),w.jsx("input",{type:"text",id:"languages_spoken",name:"languages_spoken",value:u.languages_spoken,onChange:x,placeholder:"e.g., English, Luganda"})]})]})]}),4===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(zc,{})," Relationship Preferences"]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"looking_for",children:"Looking For (Optional)"}),w.jsxs("select",{id:"looking_for",name:"looking_for",value:u.looking_for,onChange:x,children:[w.jsx("option",{value:"",children:"Select Option"}),w.jsx("option",{value:"Relationship",children:"Relationship"}),w.jsx("option",{value:"Connect",children:"Connect"}),w.jsx("option",{value:"Friendship",children:"Friendship"}),w.jsx("option",{value:"Casual",children:"Casual"}),w.jsx("option",{value:"Marriage",children:"Marriage"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"interested_in",children:"Interested In (Optional)"}),w.jsxs("select",{id:"interested_in",name:"interested_in",value:u.interested_in,onChange:x,children:[w.jsx("option",{value:"",children:"Select Option"}),w.jsx("option",{value:"Men",children:"Men"}),w.jsx("option",{value:"Women",children:"Women"}),w.jsx("option",{value:"Both",children:"Both"}),w.jsx("option",{value:"Non-binary",children:"Non-binary"}),w.jsx("option",{value:"Other",children:"Other"})]})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"age_range_min",children:"Minimum Age (Optional)"}),w.jsxs("select",{id:"age_range_min",name:"age_range_min",value:u.age_range_min,onChange:x,children:[w.jsx("option",{value:"18",children:"18"}),w.jsx("option",{value:"20",children:"20"}),w.jsx("option",{value:"25",children:"25"}),w.jsx("option",{value:"30",children:"30"}),w.jsx("option",{value:"35",children:"35"}),w.jsx("option",{value:"40",children:"40"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"age_range_max",children:"Maximum Age (Optional)"}),w.jsxs("select",{id:"age_range_max",name:"age_range_max",value:u.age_range_max,onChange:x,children:[w.jsx("option",{value:"25",children:"25"}),w.jsx("option",{value:"30",children:"30"}),w.jsx("option",{value:"35",children:"35"}),w.jsx("option",{value:"40",children:"40"}),w.jsx("option",{value:"45",children:"45"}),w.jsx("option",{value:"50",children:"50"}),w.jsx("option",{value:"60",children:"60+"})]})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"max_distance_km",children:"Maximum Distance (km) (Optional)"}),w.jsx("input",{type:"range",id:"max_distance_km",name:"max_distance_km",value:u.max_distance_km,onChange:x,min:"10",max:"500",step:"10"}),w.jsxs("div",{className:"range-value",children:[u.max_distance_km," km"]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"political_views",children:"Political Views (Optional)"}),w.jsx("input",{type:"text",id:"political_views",name:"political_views",value:u.political_views,onChange:x,placeholder:"e.g., Liberal, Conservative, etc."})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"pet_preference",children:"Pet Preference (Optional)"}),w.jsxs("select",{id:"pet_preference",name:"pet_preference",value:u.pet_preference,onChange:x,children:[w.jsx("option",{value:"",children:"Select Option"}),w.jsx("option",{value:"Love pets",children:"Love pets"}),w.jsx("option",{value:"Have pets",children:"Have pets"}),w.jsx("option",{value:"Allergic to pets",children:"Allergic to pets"}),w.jsx("option",{value:"No pets",children:"No pets"})]})]})]}),w.jsxs("div",{className:"form-navigation",children:[c>1&&w.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d((e=>Math.max(e-1,1)))},disabled:s,children:[w.jsx(rc,{})," Previous"]}),c<4&&w.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{b(c)&&d((e=>Math.min(e+1,4)))},children:["Next ",w.jsx(ic,{})]}),4===c&&w.jsxs("button",{type:"button",className:"btn btn-success",onClick:()=>y(void 0,null,(function*(){if(b(c)){a(!0);try{const r=new FormData;if((null==t?void 0:t.id)&&r.append("id",t.id.toString()),r.append("first_name",u.first_name.trim()),r.append("last_name",u.last_name.trim()),r.append("email",u.email.trim().toLowerCase()),r.append("phone_number",u.phone_number.trim()),u.phone_number_2&&u.phone_number_2.trim()&&r.append("phone_number_2",u.phone_number_2.trim()),r.append("dob",u.dob),r.append("sex",u.sex),u.avatar&&(r.append("temp_file_field","avatar"),r.append("photo",u.avatar)),u.country&&u.country.trim()&&r.append("country",u.country.trim()),u.state&&u.state.trim()&&r.append("state",u.state.trim()),u.city&&u.city.trim()&&r.append("city",u.city.trim()),u.address&&u.address.trim()&&r.append("address",u.address.trim()),u.latitude&&l(u.latitude)){const e=parseFloat(u.latitude);e>=-90&&e<=90&&r.append("latitude",e.toString())}if(u.longitude&&l(u.longitude)){const e=parseFloat(u.longitude);e>=-180&&e<=180&&r.append("longitude",e.toString())}if(u.bio&&u.bio.trim()&&r.append("bio",u.bio.trim()),u.tagline&&u.tagline.trim()&&r.append("tagline",u.tagline.trim()),u.sexual_orientation&&r.append("sexual_orientation",u.sexual_orientation),u.height_cm&&l(u.height_cm)){const e=parseInt(u.height_cm);e>=100&&e<=250&&r.append("height_cm",e.toString())}if(u.body_type&&r.append("body_type",u.body_type),u.smoking_habit&&r.append("smoking_habit",u.smoking_habit),u.drinking_habit&&r.append("drinking_habit",u.drinking_habit),u.pet_preference&&r.append("pet_preference",u.pet_preference),u.religion&&r.append("religion",u.religion),u.political_views&&r.append("political_views",u.political_views),u.languages_spoken&&u.languages_spoken.trim()&&r.append("languages_spoken",u.languages_spoken.trim()),u.education_level&&r.append("education_level",u.education_level),u.occupation&&u.occupation.trim()&&r.append("occupation",u.occupation.trim()),u.looking_for&&r.append("looking_for",u.looking_for),u.interested_in&&r.append("interested_in",u.interested_in),u.age_range_min&&l(u.age_range_min)){const e=parseInt(u.age_range_min);e>=18&&e<=100&&r.append("age_range_min",e.toString())}if(u.age_range_max&&l(u.age_range_max)){const e=parseInt(u.age_range_max);e>=18&&e<=100&&r.append("age_range_max",e.toString())}if(u.max_distance_km&&l(u.max_distance_km)){const e=parseInt(u.max_distance_km);e>=1&&e<=500&&r.append("max_distance_km",e.toString())}for(let e of r.entries())e[0];const i=yield sa.updateProfileComprehensive(r);try{yield ab.fetchAndSyncProfile(!1)}catch(n){i&&ab.syncUpdatedProfile(i)}rs.success("Profile updated successfully!"),setTimeout((()=>{e("/account/profile")}),300)}catch(r){rs.error(r.message||"Failed to update profile")}finally{a(!1)}}})),disabled:s,children:[s?"Saving...":"Save Profile"," ",w.jsx(cc,{})]})]})]})]})})},cb=class e{constructor(){g(this,"id",0),g(this,"created_at",""),g(this,"updated_at",""),g(this,"user",""),g(this,"order_state",""),g(this,"amount",""),g(this,"date_created",""),g(this,"payment_confirmation",""),g(this,"date_updated",""),g(this,"mail",""),g(this,"delivery_district",""),g(this,"temporary_id",""),g(this,"temporary_text",""),g(this,"description",""),g(this,"customer_name",""),g(this,"customer_phone_number_1",""),g(this,"customer_phone_number_2",""),g(this,"customer_address",""),g(this,"order_total",""),g(this,"order_details",""),g(this,"stripe_id",""),g(this,"stripe_text",""),g(this,"stripe_url",""),g(this,"stripe_paid",""),g(this,"payment_gateway",""),g(this,"payment_status",""),g(this,"pesapal_status",""),g(this,"pesapal_tracking_id",""),g(this,"delivery_method",""),g(this,"delivery_address_id",""),g(this,"delivery_address_text",""),g(this,"delivery_address_details",""),g(this,"delivery_amount",""),g(this,"payable_amount",""),g(this,"items","")}getTax(e){return(.13*(parseFloat(e)||0)).toString()}isPaid(){if("PAID"===this.payment_confirmation.toUpperCase())return!0;if(this.pesapal_status&&"COMPLETED"===this.pesapal_status.toUpperCase())return!0;if(this.payment_status&&"PAID"===this.payment_status.toUpperCase())return!0;if(this.stripe_paid&&"YES"===this.stripe_paid.toUpperCase())return!0;const e=this.payment_confirmation.toUpperCase();return"COMPLETED"===e||"SUCCESS"===e||"CONFIRMED"===e}getPaymentLink(){return this.stripe_url}getOrderStatus(){switch(this.order_state){case"0":return"Pending";case"1":return"Processing";case"2":return"Completed";case"3":return"Canceled";case"4":return"Failed";default:return this.order_state}}static fromJson(t){const n=new e;return t?(n.id=ts.int_parse(t.id),n.created_at=ts.to_str(t.created_at,""),n.updated_at=ts.to_str(t.updated_at,""),n.user=ts.to_str(t.user,""),n.order_state=ts.to_str(t.order_state,""),n.amount=ts.to_str(t.amount,""),n.date_created=ts.to_str(t.date_created,""),n.payment_confirmation=ts.to_str(t.payment_confirmation,""),n.date_updated=ts.to_str(t.date_updated,""),n.mail=ts.to_str(t.mail,""),n.delivery_district=ts.to_str(t.delivery_district,""),n.temporary_id=ts.to_str(t.temporary_id,""),n.temporary_text=ts.to_str(t.temporary_text,""),n.description=ts.to_str(t.description,""),n.customer_name=ts.to_str(t.customer_name,""),n.customer_phone_number_1=ts.to_str(t.customer_phone_number_1,""),n.customer_phone_number_2=ts.to_str(t.customer_phone_number_2,""),n.customer_address=ts.to_str(t.customer_address,""),n.order_total=ts.to_str(t.order_total,""),n.order_details=ts.to_str(t.order_details,""),n.stripe_id=ts.to_str(t.stripe_id,""),n.stripe_text=ts.to_str(t.stripe_text,""),n.stripe_url=ts.to_str(t.stripe_url,""),n.stripe_paid=ts.to_str(t.stripe_paid,""),n.payment_gateway=ts.to_str(t.payment_gateway,""),n.payment_status=ts.to_str(t.payment_status,""),n.pesapal_status=ts.to_str(t.pesapal_status,""),n.pesapal_tracking_id=ts.to_str(t.pesapal_tracking_id,""),n.delivery_method=ts.to_str(t.delivery_method,""),n.delivery_address_id=ts.to_str(t.delivery_address_id,""),n.delivery_address_text=ts.to_str(t.delivery_address_text,""),n.delivery_address_details=ts.to_str(t.delivery_address_details,""),n.delivery_amount=ts.to_str(t.delivery_amount,""),n.payable_amount=ts.to_str(t.payable_amount,""),n.items=ts.to_str(t.items,""),n):n}toJson(){return{id:this.id,created_at:this.created_at,updated_at:this.updated_at,user:this.user,order_state:this.order_state,amount:this.amount,date_created:this.date_created,payment_confirmation:this.payment_confirmation,date_updated:this.date_updated,mail:this.mail,delivery_district:this.delivery_district,temporary_id:this.temporary_id,temporary_text:this.temporary_text,description:this.description,customer_name:this.customer_name,customer_phone_number_1:this.customer_phone_number_1,customer_phone_number_2:this.customer_phone_number_2,customer_address:this.customer_address,order_total:this.order_total,order_details:this.order_details,stripe_id:this.stripe_id,stripe_text:this.stripe_text,stripe_url:this.stripe_url,stripe_paid:this.stripe_paid,payment_gateway:this.payment_gateway,payment_status:this.payment_status,pesapal_status:this.pesapal_status,pesapal_tracking_id:this.pesapal_tracking_id,delivery_method:this.delivery_method,delivery_address_id:this.delivery_address_id,delivery_address_text:this.delivery_address_text,delivery_address_details:this.delivery_address_details,delivery_amount:this.delivery_amount,payable_amount:this.payable_amount,items:this.items}}static fetchItems(){return y(this,null,(function*(){try{const t=yield ms(e.end_point,{});if(1!==t.code)throw new Error(t.message||"Failed to fetch orders.");const n=t.data;if(!Array.isArray(n))return[];return n.map((t=>e.fromJson(t)))}catch(t){throw t}}))}};g(cb,"end_point","orders"),g(cb,"table_name","orders_online_3");let db=cb;const ub=(e,t=Qi.CURRENCY)=>`${t} ${("string"==typeof e?parseFloat(e):e).toLocaleString()}`,hb=(e,t=150)=>{if(!e)return"";return((e,t)=>e.length<=t?e:e.slice(0,t).trim()+"...")((e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""})(e),t)},pb=(e,t)=>{const n=parseFloat(e),r=parseFloat(t);return n<=r?0:Math.round((n-r)/n*100)},mb=e=>{if(e&&"getMainImage"in e&&"function"==typeof e.getMainImage)try{return e.getMainImage()}catch(t){}return(null==e?void 0:e.feature_photo)?ts.img(e.feature_photo):Xi},fb=e=>`/product/${e}`,gb=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),{user:i}=B((e=>e.auth));M.useEffect((()=>{i&&i.id&&s()}),[i]);const s=()=>y(void 0,null,(function*(){try{r(!0);const e=yield db.fetchItems();t(e)}catch(e){rs.error("Failed to load orders")}finally{r(!1)}})),a=e=>{const t={0:{text:"Pending",color:"var(--danger-color)"},1:{text:"Processing",color:"var(--warning-color)"},2:{text:"Completed",color:"var(--success-color)"},3:{text:"Canceled",color:"var(--text-color-medium)"},4:{text:"Failed",color:"var(--danger-color)"}}[e]||{text:e,color:"var(--text-color-medium)"};return w.jsx("span",{style:{padding:"var(--spacing-1) var(--spacing-2)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--border-radius)",backgroundColor:t.color,color:"var(--white)",display:"inline-block"},children:t.text})};return i&&i.id?w.jsxs("div",{className:"acc-orders-container",children:[w.jsxs("div",{className:"acc-page-header",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"acc-page-title",children:"My Orders"}),w.jsx("p",{className:"acc-page-subtitle",children:"Track and manage your orders"})]}),w.jsxs("button",{className:"acc-btn acc-btn-outline",onClick:s,children:[w.jsx("i",{className:"bi bi-arrow-clockwise",style:{marginRight:"8px"}}),"Refresh"]})]}),n?w.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-12) var(--spacing-4)"},children:[w.jsx("div",{style:{display:"inline-block",width:"40px",height:"40px",border:"4px solid var(--border-color)",borderTop:"4px solid var(--primary-color)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),w.jsx("p",{style:{marginTop:"var(--spacing-3)",color:"var(--text-color-medium)",fontSize:"var(--font-size-base)"},children:"Loading orders..."})]}):w.jsx(w.Fragment,{children:0===e.length?w.jsx("div",{className:"acc-card",children:w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-12) var(--spacing-4)"},children:[w.jsx("i",{className:"bi bi-bag-x",style:{fontSize:"4rem",color:"var(--text-color-medium)",marginBottom:"var(--spacing-4)",display:"block"}}),w.jsx("h3",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-color)",marginBottom:"var(--spacing-2)"},children:"No Orders Yet"}),w.jsx("p",{style:{color:"var(--text-color-medium)",marginBottom:"var(--spacing-4)",fontSize:"var(--font-size-base)",maxWidth:"400px",margin:"0 auto var(--spacing-4)"},children:"You haven't placed any orders yet. Start shopping to see your order history here."}),w.jsx(ye,{to:"/products",className:"acc-btn acc-btn-primary",children:"Start Shopping"})]})})}):w.jsx("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:e.map((e=>{const t=(e=>{try{return JSON.parse(e||"[]")}catch(Yj){return[]}})(e.items);return w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[w.jsxs("div",{children:[w.jsxs("h4",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-semibold)",margin:0,marginBottom:"var(--spacing-1)"},children:["Order #",e.id]}),w.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)",margin:0},children:["Placed on ",(n=e.created_at,n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")]})]}),w.jsxs("div",{style:{textAlign:"right"},children:[a(e.order_state),w.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-bold)",color:"var(--text-color)",marginTop:"var(--spacing-1)"},children:ub(parseFloat(e.payable_amount||e.order_total||"0"))})]})]})}),w.jsxs("div",{className:"acc-card-body",children:[t&&t.length>0&&w.jsxs("div",{style:{marginBottom:"var(--spacing-4)"},children:[w.jsxs("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-2)"},children:["Items (",t.length,")"]}),w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-2)"},children:[t.slice(0,3).map(((e,t)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"var(--spacing-2)",backgroundColor:"var(--background-light)",borderRadius:"var(--border-radius)",gap:"var(--spacing-3)"},children:[w.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"var(--white)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:w.jsx("i",{className:"bi bi-box",style:{color:"var(--text-color-medium)"}})}),w.jsxs("div",{style:{flex:1},children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",margin:0,marginBottom:"var(--spacing-1)"},children:e.product_name||e.name||"Product"}),w.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-color-medium)",margin:0},children:["Qty: ",e.quantity||1," × ",ub(parseFloat(e.price||"0"))]})]}),w.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)"},children:ub(parseFloat(e.quantity||"1")*parseFloat(e.price||"0"))})]},t))),t.length>3&&w.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-2)",color:"var(--text-color-medium)",fontSize:"var(--font-size-sm)"},children:["+",t.length-3," more items"]})]})]}),w.jsxs("div",{style:{display:"flex",gap:"var(--spacing-2)",paddingTop:"var(--spacing-3)",borderTop:"1px solid var(--border-color)",flexWrap:"wrap"},children:[w.jsx(ye,{to:`/account/orders/${e.id}`,className:"acc-btn acc-btn-outline acc-btn-sm",children:"View Details"}),!e.isPaid()&&("0"===e.order_state||"1"===e.order_state)&&w.jsxs(ye,{to:`/payment/${e.id}`,className:"acc-btn acc-btn-primary acc-btn-sm",style:{display:"flex",alignItems:"center",gap:"var(--spacing-1)",textDecoration:"none"},children:[w.jsx("i",{className:"bi bi-credit-card"}),"Pay Now"]}),"2"===e.order_state&&w.jsx("button",{className:"acc-btn acc-btn-outline acc-btn-sm",children:"Reorder"}),("0"===e.order_state||"1"===e.order_state)&&w.jsx("button",{className:"acc-btn acc-btn-outline acc-btn-sm",children:"Track Order"})]})]})]},e.id);var n}))})}),e.length>0&&w.jsx("div",{style:{textAlign:"center",marginTop:"var(--spacing-6)"},children:w.jsx("button",{className:"acc-btn acc-btn-outline",children:"Load More Orders"})}),w.jsx("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]}):w.jsx("div",{className:"acc-card",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning-color)"},children:w.jsxs("div",{className:"acc-card-body",children:[w.jsx("i",{className:"bi bi-exclamation-triangle",style:{marginRight:"8px"}}),"Please log in to view your orders."]})})},yb=()=>{const[e,t]=M.useState(!1),[n,r]=M.useState(!1),[i,s]=M.useState(!1),[a,o]=M.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:!1}),[l,c]=M.useState({emailNotifications:!0,smsNotifications:!1,orderUpdates:!0,promotions:!0,newsletter:!1,securityAlerts:!0}),[d,u]=M.useState({profileVisibility:"private",dataSharing:!1,analytics:!0,personalization:!0}),h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;o((e=>m(p({},e),{[t]:"checkbox"===r?i:n})))},f=e=>{const{name:t,checked:n}=e.target;c((e=>m(p({},e),{[t]:n})))},g=e=>{const{name:t,value:n,type:r}=e.target;u((i=>m(p({},i),{[t]:"checkbox"===r?e.target.checked:n})))};return w.jsxs("div",{className:"acc-settings-container",children:[w.jsx("div",{className:"acc-page-header",children:w.jsxs("div",{children:[w.jsx("h1",{className:"acc-page-title",children:"Account Settings"}),w.jsx("p",{className:"acc-page-subtitle",children:"Manage your account preferences and security"})]})}),e&&w.jsx("div",{className:"acc-card",style:{backgroundColor:"var(--success-bg)",borderColor:"var(--success-border)",color:"var(--success-color)",marginBottom:"var(--spacing-4)"},children:w.jsxs("div",{className:"acc-card-body",style:{padding:"var(--spacing-4)"},children:[w.jsx(Ce,{size:16,style:{marginRight:"8px"}}),"Settings updated successfully!"]})}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx(Ee,{size:20}),"Security Settings"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("form",{onSubmit:e=>{e.preventDefault(),a.newPassword===a.confirmPassword?(t(!0),setTimeout((()=>t(!1)),3e3),o((e=>m(p({},e),{currentPassword:"",newPassword:"",confirmPassword:""})))):alert("Passwords do not match")},children:[w.jsx("h5",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-3)"},children:"Change Password"}),w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"Current Password"}),w.jsxs("div",{style:{position:"relative"},children:[w.jsx("input",{type:i?"text":"password",name:"currentPassword",value:a.currentPassword,onChange:h,className:"acc-form-control",style:{paddingRight:"40px"}}),w.jsx("button",{type:"button",onClick:()=>s(!i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-color-medium)"},children:i?w.jsx(Oe,{size:16}):w.jsx(Ae,{size:16})})]})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--spacing-3)"},children:[w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"New Password"}),w.jsxs("div",{style:{position:"relative"},children:[w.jsx("input",{type:n?"text":"password",name:"newPassword",value:a.newPassword,onChange:h,className:"acc-form-control",style:{paddingRight:"40px"}}),w.jsx("button",{type:"button",onClick:()=>r(!n),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-color-medium)"},children:n?w.jsx(Oe,{size:16}):w.jsx(Ae,{size:16})})]})]}),w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"Confirm New Password"}),w.jsx("input",{type:n?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:h,className:"acc-form-control"})]})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"var(--spacing-3)",borderTop:"1px solid var(--border-color)",marginTop:"var(--spacing-4)"},children:[w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[w.jsx("input",{type:"checkbox",name:"twoFactorEnabled",checked:a.twoFactorEnabled,onChange:h}),"Enable Two-Factor Authentication"]}),w.jsx("button",{type:"submit",className:"acc-btn acc-btn-primary",children:"Update Password"})]})]})})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx(Ie,{size:20}),"Notification Preferences"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:[w.jsxs("div",{children:[w.jsx("h5",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-3)"},children:"Communication Preferences"}),w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-2)"},children:[w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"emailNotifications",checked:l.emailNotifications,onChange:f}),"Email notifications"]}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"smsNotifications",checked:l.smsNotifications,onChange:f}),"SMS notifications"]})]})]}),w.jsxs("div",{children:[w.jsx("h5",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-3)"},children:"Content Preferences"}),w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-2)"},children:[w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"orderUpdates",checked:l.orderUpdates,onChange:f}),"Order updates and shipping notifications"]}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"promotions",checked:l.promotions,onChange:f}),"Promotions and special offers"]}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"newsletter",checked:l.newsletter,onChange:f}),"Weekly newsletter"]}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"securityAlerts",checked:l.securityAlerts,onChange:f}),"Security alerts (recommended)"]})]})]})]})})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx(ze,{size:20}),"Privacy & Data"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:[w.jsxs("div",{className:"acc-form-group",children:[w.jsx("label",{className:"acc-form-label",children:"Profile Visibility"}),w.jsxs("select",{name:"profileVisibility",value:d.profileVisibility,onChange:g,className:"acc-form-control",children:[w.jsx("option",{value:"public",children:"Public"}),w.jsx("option",{value:"private",children:"Private"}),w.jsx("option",{value:"friends",children:"Friends Only"})]})]}),w.jsxs("div",{children:[w.jsx("h5",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-3)"},children:"Data Usage Preferences"}),w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-2)"},children:[w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"dataSharing",checked:d.dataSharing,onChange:g}),"Allow data sharing with partners"]}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"analytics",checked:d.analytics,onChange:g}),"Help improve our service with analytics"]}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)",cursor:"pointer",fontSize:"var(--font-size-sm)"},children:[w.jsx("input",{type:"checkbox",name:"personalization",checked:d.personalization,onChange:g}),"Enable personalized recommendations"]})]})]})]})})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx(Re,{size:20}),"Account Actions"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",background:"var(--background-light)"},children:[w.jsxs("div",{children:[w.jsx("h5",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)"},children:"Download Your Data"}),w.jsx("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:"Get a copy of all your account data"})]}),w.jsx("button",{className:"acc-btn acc-btn-outline acc-btn-sm",children:"Download"})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--spacing-3)",border:"1px solid var(--danger-border)",borderRadius:"var(--border-radius)",background:"var(--background-light)"},children:[w.jsxs("div",{children:[w.jsx("h5",{style:{margin:0,fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",color:"var(--danger-color)"},children:"Delete Account"}),w.jsx("p",{style:{margin:0,fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:"Permanently delete your account and all data"})]}),w.jsx("button",{className:"acc-btn acc-btn-outline acc-btn-sm",style:{color:"var(--danger-color)",borderColor:"var(--danger-color)"},children:"Delete"})]})]})})]}),w.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"var(--spacing-6)"},children:w.jsxs("button",{className:"acc-btn acc-btn-primary acc-btn-lg",onClick:()=>{t(!0),setTimeout((()=>t(!1)),3e3)},children:[w.jsx(Ce,{size:16,style:{marginRight:"8px"}}),"Save All Settings"]})})]})},vb=()=>{var e,t;const[n,r]=M.useState(null),[i,s]=M.useState([]),[a,o]=M.useState(!0),[l,c]=M.useState(null),[d,u]=M.useState("all");ve(),M.useEffect((()=>{h()}),[]);const h=()=>y(void 0,null,(function*(){try{o(!0),c(null);const[e,t]=yield Promise.all([Da.getMySubscription(),Da.getHistory(10)]);r(e),s(t.subscriptions||[])}catch(e){c("Failed to load subscription information")}finally{o(!1)}})),p=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(Yj){return"Invalid date"}},m=e=>e.is_active?"status-badge status-active":e.is_in_grace_period?"status-badge status-grace":e.is_expired?"status-badge status-expired":"status-badge status-pending",f=e=>e.is_active?w.jsx(Za,{}):e.is_in_grace_period?w.jsx(ro,{}):e.is_expired?w.jsx(go,{}):w.jsx(to,{});if(a)return w.jsx("div",{className:"subscription-management-container",children:w.jsxs("div",{className:"loading-state",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{children:"Loading subscription details..."})]})});if(l)return w.jsx("div",{className:"subscription-management-container",children:w.jsxs("div",{className:"error-state",children:[w.jsx(go,{className:"error-icon"}),w.jsx("h3",{children:"Error Loading Subscriptions"}),w.jsx("p",{children:l}),w.jsxs("button",{onClick:h,className:"btn-retry",children:[w.jsx(fo,{})," Try Again"]})]})});const g=(()=>{switch(d){case"active":return i.filter((e=>e.is_active));case"expired":return i.filter((e=>e.is_expired));default:return i}})();return w.jsxs("div",{className:"subscription-management-container",children:[w.jsx("div",{className:"page-header",children:w.jsxs("div",{className:"header-content",children:[w.jsx(no,{className:"header-icon"}),w.jsxs("div",{children:[w.jsx("h1",{children:"My Subscriptions"}),w.jsx("p",{className:"header-subtitle",children:"Manage your UgFlix subscription plans"})]})]})}),w.jsx("div",{className:"current-status-card",children:(null==n?void 0:n.has_subscription)&&n.is_active?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"status-header",children:[w.jsx(Za,{className:"status-icon active"}),w.jsx("h2",{children:"Active Subscription"})]}),w.jsxs("div",{className:"status-details",children:[w.jsxs("div",{className:"status-info-grid",children:[w.jsxs("div",{className:"info-item",children:[w.jsx("label",{children:"Plan"}),w.jsxs("div",{className:"info-value",children:[w.jsx(no,{})," ",(null==(e=n.plan)?void 0:e.name)||"Premium"]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx("label",{children:"Duration"}),w.jsx("div",{className:"info-value",children:(null==(t=n.plan)?void 0:t.duration_text)||"N/A"})]}),w.jsxs("div",{className:"info-item",children:[w.jsx("label",{children:"Days Remaining"}),w.jsxs("div",{className:"info-value "+(n.days_remaining<=3?"expiring":""),children:[w.jsx(Ga,{})," ",n.days_remaining," days"]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx("label",{children:"Expires On"}),w.jsx("div",{className:"info-value",children:p(n.end_date||"")})]})]}),n.is_in_grace_period&&w.jsxs("div",{className:"grace-period-alert",children:[w.jsx(ro,{}),w.jsxs("div",{children:[w.jsx("strong",{children:"Grace Period Active"}),w.jsx("p",{children:"Your subscription has expired. Renew now to continue watching!"})]})]}),n.days_remaining<=3&&!n.is_in_grace_period&&w.jsxs("div",{className:"expiring-alert",children:[w.jsx(ro,{}),w.jsxs("div",{children:[w.jsx("strong",{children:"Expiring Soon"}),w.jsxs("p",{children:["Your subscription expires in ",n.days_remaining," day",1!==n.days_remaining?"s":"",". Renew to avoid interruption!"]})]})]})]}),w.jsx("div",{className:"status-actions",children:w.jsxs("button",{onClick:()=>{window.location.href="/subscription/plans"},className:"btn-primary",children:[w.jsx(fo,{})," Renew Subscription"]})})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"status-header no-subscription",children:[w.jsx(go,{className:"status-icon inactive"}),w.jsx("h2",{children:"No Active Subscription"})]}),w.jsxs("div",{className:"no-subscription-content",children:[w.jsx("p",{children:"You don't have an active subscription. Subscribe now to enjoy:"}),w.jsxs("ul",{className:"benefits-list",children:[w.jsxs("li",{children:[w.jsx(Za,{})," Unlimited streaming of movies and series"]}),w.jsxs("li",{children:[w.jsx(Za,{})," HD quality on all devices"]}),w.jsxs("li",{children:[w.jsx(Za,{})," Exclusive content and early access"]}),w.jsxs("li",{children:[w.jsx(Za,{})," Download for offline viewing"]})]}),w.jsxs("button",{onClick:()=>{window.location.href="/subscription/plans"},className:"btn-subscribe",children:[w.jsx(co,{})," Subscribe Now"]})]})]})}),i.length>0&&w.jsxs("div",{className:"subscription-history-section",children:[w.jsxs("div",{className:"section-header",children:[w.jsxs("h2",{children:[w.jsx(so,{})," Subscription History"]}),w.jsxs("div",{className:"filter-tabs",children:[w.jsxs("button",{className:"all"===d?"filter-tab active":"filter-tab",onClick:()=>u("all"),children:["All (",i.length,")"]}),w.jsxs("button",{className:"active"===d?"filter-tab active":"filter-tab",onClick:()=>u("active"),children:["Active (",i.filter((e=>e.is_active)).length,")"]}),w.jsxs("button",{className:"expired"===d?"filter-tab active":"filter-tab",onClick:()=>u("expired"),children:["Expired (",i.filter((e=>e.is_expired)).length,")"]})]})]}),w.jsx("div",{className:"subscriptions-list",children:g.length>0?g.map((e=>{var t,n,r,i;return w.jsxs("div",{className:"subscription-card",children:[w.jsxs("div",{className:"subscription-card-header",children:[w.jsxs("div",{className:"plan-info",children:[w.jsx(no,{className:"plan-icon"}),w.jsxs("div",{children:[w.jsx("h3",{children:(null==(t=e.plan)?void 0:t.name)||"Subscription"}),w.jsx("p",{className:"plan-duration",children:(null==(n=e.plan)?void 0:n.duration_text)||"N/A"})]})]}),w.jsxs("div",{className:m(e),children:[f(e),w.jsx("span",{children:e.status})]})]}),w.jsx("div",{className:"subscription-card-body",children:w.jsxs("div",{className:"subscription-details",children:[w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Amount Paid:"}),w.jsxs("span",{className:"detail-value",children:[(null==(r=e.plan)?void 0:r.currency)||"UGX"," ",(null==(i=e.amount_paid)?void 0:i.toLocaleString())||"N/A"]})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Start Date:"}),w.jsx("span",{className:"detail-value",children:p(e.start_date)})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"End Date:"}),w.jsx("span",{className:"detail-value",children:p(e.end_date)})]}),e.is_active&&w.jsxs("div",{className:"detail-row highlight",children:[w.jsx("span",{className:"detail-label",children:"Days Remaining:"}),w.jsxs("span",{className:"detail-value "+(e.days_remaining<=3?"expiring":""),children:[e.days_remaining," days"]})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Payment Status:"}),w.jsx("span",{className:"detail-value",children:e.payment_status})]})]})})]},e.id)})):w.jsxs("div",{className:"empty-state",children:[w.jsx(so,{className:"empty-icon"}),w.jsxs("p",{children:["No ","all"!==d?d:""," subscriptions found"]})]})})]})]})},xb=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),[i,s]=M.useState(null),[a,o]=M.useState(1),[l,c]=M.useState(0);M.useEffect((()=>{d()}),[a]);const d=()=>y(void 0,null,(function*(){try{r(!0),s(null);const e=yield sa.getWatchHistory(a,100);t(e.items||[]),c(e.total||0)}catch(e){s("Failed to load watch history")}finally{r(!1)}})),u=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`},h=e=>{const t=new Date(e),n=new Date,r=Math.abs(n.getTime()-t.getTime()),i=Math.ceil(r/864e5);return 1===i?"Yesterday":i<7?`${i} days ago`:t.toLocaleDateString()};return n?w.jsxs("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:[w.jsx(k,{animation:"border",variant:"primary"}),w.jsx("span",{className:"ms-2",children:"Loading watch history..."})]}):w.jsxs("div",{className:"account-watch-history",children:[w.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[w.jsx("span",{className:"h4 mb-0"}),e.length>0&&w.jsxs(N,{variant:"outline-danger",size:"sm",onClick:()=>y(void 0,null,(function*(){if(window.confirm("Are you sure you want to clear your entire watch history? This action cannot be undone."))try{t([]),c(0)}catch(e){}})),children:[w.jsx("i",{className:"bi bi-trash me-2"}),"Clear History"]})]}),i&&w.jsxs(T,{variant:"danger",className:"mb-4",children:[w.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),i]}),e.length>0?w.jsxs(w.Fragment,{children:[w.jsx(P,{children:e.map((e=>{return w.jsx(C,{md:6,lg:4,className:"mb-4",children:w.jsxs(E,{className:"h-100 border-0 shadow-sm watch-history-card",children:[w.jsxs("div",{className:"position-relative",children:[e.movie_thumbnail?w.jsx(E.Img,{variant:"top",src:e.movie_thumbnail,alt:e.movie_title,style:{height:"200px",objectFit:"cover"}}):w.jsx("div",{className:"bg-light d-flex align-items-center justify-content-center",style:{height:"200px"},children:w.jsx("i",{className:"bi bi-play-circle display-4 text-muted"})}),w.jsxs("div",{className:"position-absolute bottom-0 start-0 end-0 p-2 bg-dark bg-opacity-75",children:[w.jsx(O,{now:e.percentage,variant:(t=e.percentage,t>=90?"success":t>=50?"warning":"info"),className:"mb-1",style:{height:"6px"}}),w.jsxs("div",{className:"d-flex justify-content-between align-items-center text-white small",children:[w.jsx("span",{children:u(e.progress)}),w.jsxs("span",{children:[e.percentage.toFixed(0),"%"]})]})]})]}),w.jsxs(E.Body,{children:[w.jsx("h6",{className:"card-title mb-2",children:e.movie_title}),w.jsx("div",{className:"d-flex justify-content-between align-items-center mb-2",children:w.jsxs("small",{className:"text-muted",children:[e.movie_type," ",e.episode_number?`• Episode ${e.episode_number}`:""]})}),w.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[w.jsxs("small",{className:"text-muted",children:["Watched ",h(e.last_watched_at)]}),e.percentage>=90&&w.jsx(A,{bg:"success",className:"small",children:"Completed"})]}),e.max_progress&&w.jsxs("div",{className:"progress-details small text-muted mb-3",children:[u(e.progress)," of ",u(e.max_progress)]})]}),w.jsx(E.Footer,{className:"bg-transparent border-0 pt-0",children:w.jsx("div",{className:"d-grid gap-2 d-md-flex",children:w.jsxs(ye,{to:`/watch/${e.movie_id}`,className:"btn btn-primary btn-sm flex-grow-1",children:[w.jsx("i",{className:"bi bi-play-fill me-2"}),e.percentage>=90?"Watch Again":"Continue"]})})})]})},e.id);var t}))}),l>100&&w.jsxs("div",{className:"d-flex justify-content-center mt-4",children:[w.jsxs(N,{variant:"outline-primary",size:"sm",disabled:1===a,onClick:()=>o(a-1),className:"me-2",children:[w.jsx("i",{className:"bi bi-chevron-left"})," Previous"]}),w.jsxs("span",{className:"align-self-center mx-3 small text-muted",children:["Page ",a," of ",Math.ceil(l/100)]}),w.jsxs(N,{variant:"outline-primary",size:"sm",disabled:a>=Math.ceil(l/100),onClick:()=>o(a+1),className:"ms-2",children:["Next ",w.jsx("i",{className:"bi bi-chevron-right"})]})]})]}):w.jsxs("div",{className:"text-center py-5",children:[w.jsx("div",{className:"mb-4",children:w.jsx("i",{className:"bi bi-clock-history display-1 text-muted"})}),w.jsx("h4",{className:"mb-3",children:"No Watch History"}),w.jsx("p",{className:"text-muted mb-4",children:"Start watching movies and shows to build your viewing history."}),w.jsxs(ye,{to:"/movies",className:"btn btn-primary",children:[w.jsx("i",{className:"bi bi-play-circle me-2"}),"Browse Movies"]})]})]})};class bb{static getDashboardStats(){return y(this,null,(function*(){try{return(yield ms("account/dashboard/stats")).data}catch(e){throw rs.error("Failed to load dashboard statistics"),e}}))}static getRecentActivity(e=10){return y(this,null,(function*(){try{return(yield ms(`account/dashboard/activity?limit=${e}`)).data}catch(t){throw rs.error("Failed to load recent activity"),t}}))}static getProfile(){return y(this,null,(function*(){try{return(yield ms("account/profile")).data}catch(e){throw rs.error("Failed to load profile"),e}}))}static updateProfile(e){return y(this,null,(function*(){try{const t=yield ps("account/profile",m(p({},e),{_method:"PUT"}));return rs.success("Profile updated successfully"),t.data}catch(t){throw rs.error("Failed to update profile"),t}}))}static uploadAvatar(e){return y(this,null,(function*(){try{const t=new FormData;t.append("avatar",e);const n=yield ps("account/profile/avatar",t);return rs.success("Avatar uploaded successfully"),n.data}catch(t){throw rs.error("Failed to upload avatar"),t}}))}static getMovieWishlist(e=1,t=12){return y(this,null,(function*(){try{return(yield ms(`account/wishlist?page=${e}&per_page=${t}`)).data}catch(n){throw rs.error("Failed to load wishlist"),n}}))}static toggleMovieWishlist(e){return y(this,null,(function*(){try{return(yield ps("account/wishlist/toggle",{movie_id:e})).data}catch(t){throw t}}))}static removeFromMovieWishlist(e){return y(this,null,(function*(){try{yield ps(`account/wishlist/${e}`,{_method:"DELETE"}),rs.success("Removed from wishlist")}catch(t){throw rs.error("Failed to remove from wishlist"),t}}))}static getWatchHistory(e=1){return y(this,null,(function*(){try{return(yield ms(`account/watch-history?page=${e}`)).data}catch(t){throw rs.error("Failed to load watch history"),t}}))}static clearWatchHistory(){return y(this,null,(function*(){try{yield ps("account/watch-history",{_method:"DELETE"}),rs.success("Watch history cleared")}catch(e){throw rs.error("Failed to clear watch history"),e}}))}static getLikedContent(e=1){return y(this,null,(function*(){try{return(yield ms(`account/likes?page=${e}`)).data}catch(t){throw rs.error("Failed to load liked content"),t}}))}static likeContent(e){return y(this,null,(function*(){try{const t=yield ps("account/likes",{product_id:e});return rs.success("Content liked"),t.data}catch(t){throw rs.error("Failed to like content"),t}}))}static unlikeContent(e){return y(this,null,(function*(){try{yield ps(`account/likes/${e}`,{_method:"DELETE"}),rs.success("Content unliked")}catch(t){throw rs.error("Failed to unlike content"),t}}))}static getSubscriptions(){return y(this,null,(function*(){try{return(yield ms("account/subscriptions")).data}catch(e){throw rs.error("Failed to load subscriptions"),e}}))}static cancelSubscription(e){return y(this,null,(function*(){try{yield ps(`account/subscriptions/${e}/cancel`,{}),rs.success("Subscription cancelled")}catch(t){throw rs.error("Failed to cancel subscription"),t}}))}static getUserProducts(e=1){return y(this,null,(function*(){try{return(yield ms(`account/products?page=${e}`)).data}catch(t){throw rs.error("Failed to load your products"),t}}))}static createProduct(e){return y(this,null,(function*(){try{const t=yield ps("account/products",e);return rs.success("Product created successfully"),t.data}catch(t){throw rs.error("Failed to create product"),t}}))}static updateProduct(e,t){return y(this,null,(function*(){try{const n=yield ps(`account/products/${e}`,m(p({},t),{_method:"PUT"}));return rs.success("Product updated successfully"),n.data}catch(n){throw rs.error("Failed to update product"),n}}))}static deleteProduct(e){return y(this,null,(function*(){try{yield ps(`account/products/${e}`,{_method:"DELETE"}),rs.success("Product deleted successfully")}catch(t){throw rs.error("Failed to delete product"),t}}))}static getConversations(){return y(this,null,(function*(){try{const e=yield ms("chat-heads");return(e.data||[]).map((e=>({id:e.id,participants:[{id:parseInt(e.customer_id),name:e.customer_name||e.customer_text||"Unknown User",avatar:e.customer_photo||null},{id:parseInt(e.product_owner_id),name:e.product_owner_name||e.product_owner_text||"Unknown User",avatar:e.product_owner_photo||null}],last_message:{id:0,content:e.last_message_body||"",sent_at:e.last_message_time||e.updated_at,sender_id:0},unread_count:parseInt(e.customer_unread_messages_count||"0")+parseInt(e.product_owner_unread_messages_count||"0"),created_at:e.created_at,updated_at:e.updated_at})))}catch(e){throw rs.error("Failed to load conversations"),e}}))}static getMessages(e,t=1){return y(this,null,(function*(){try{const n=((yield ms(`chat-messages?chat_head_id=${e}&page=${t}`)).data||[]).map((e=>({id:e.id,content:e.body,sender_id:parseInt(e.sender_id),receiver_id:parseInt(e.receiver_id),sent_at:e.created_at,message_type:e.type||"text",status:e.status||"sent"})));return{data:n,total:n.length,currentPage:t}}catch(n){throw rs.error("Failed to load messages"),n}}))}static sendMessage(e,t,n="text"){return y(this,null,(function*(){try{const n=(yield this.getConversations()).find((t=>t.id===e));if(!n)throw new Error("Chat conversation not found");const r=JSON.parse(localStorage.getItem("ugflix_user")||"{}"),i=n.participants.find((e=>e.id!==r.id));if(!i)throw new Error("Receiver not found");const s=(yield ps("chat-send",{chat_head_id:e,receiver_id:i.id,body:t})).data;return{id:s.id,content:s.body,sender_id:parseInt(s.sender_id),receiver_id:parseInt(s.receiver_id),sent_at:s.created_at,message_type:s.type||"text",status:s.status||"sent"}}catch(n){throw rs.error("Failed to send message"),n}}))}static markMessagesAsRead(e){return y(this,null,(function*(){try{yield ps("chat-mark-as-read",{chat_head_id:e})}catch(t){}}))}static startConversation(e,t){return y(this,null,(function*(){try{const n=JSON.parse(localStorage.getItem("ugflix_user")||"{}"),r=(yield ps("chat-start",{sender_id:n.id,receiver_id:e,product_id:null})).data;return{id:r.id,participants:[{id:parseInt(r.customer_id),name:r.customer_name||r.customer_text||"Unknown User",avatar:r.customer_photo||null},{id:parseInt(r.product_owner_id),name:r.product_owner_name||r.product_owner_text||"Unknown User",avatar:r.product_owner_photo||null}],last_message:{id:0,content:t||"",sent_at:r.created_at,sender_id:n.id},unread_count:0,created_at:r.created_at,updated_at:r.updated_at}}catch(n){throw rs.error("Failed to start conversation"),n}}))}}const jb=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),[i,s]=M.useState(null),[a,o]=M.useState(1),[l,c]=M.useState(1),[d,u]=M.useState(0),[h,p]=M.useState(new Set);M.useEffect((()=>{m()}),[a]);const m=()=>y(void 0,null,(function*(){try{r(!0),s(null);const e=yield bb.getMovieWishlist(a,12);t(e.wishlists||[]),u(e.total||0),c(e.last_page||1)}catch(e){s(e.message||"Failed to load wishlist")}finally{r(!1)}})),f=e=>{const t=new Date(e),n=new Date,r=Math.abs(n.getTime()-t.getTime()),i=Math.ceil(r/864e5);return 0===i?"Today":1===i?"Yesterday":i<7?`${i} days ago`:i<30?`${Math.floor(i/7)} weeks ago`:i<365?`${Math.floor(i/30)} months ago`:t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},g=e=>{if(!e)return"";const t=Math.floor(e/60),n=e%60;return 0===t?`${n}m`:n>0?`${t}h ${n}m`:`${t}h`},v=e=>{const t=e.movie;return"series"===t.type&&t.episode_number?`/watch/${t.id}?episode=${t.episode_number}`:`/watch/${t.id}`};return n?w.jsxs("div",{className:"account-watchlist-loading",children:[w.jsx(k,{animation:"border",variant:"primary"}),w.jsx("p",{className:"mt-3",children:"Loading your watchlist..."})]}):i?w.jsxs("div",{className:"account-watchlist-error",children:[w.jsx("i",{className:"bi bi-exclamation-triangle display-1 text-danger"}),w.jsx("h4",{className:"mt-3",children:"Error Loading Watchlist"}),w.jsx("p",{className:"text-muted",children:i}),w.jsxs(N,{onClick:m,variant:"primary",children:[w.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Try Again"]})]}):w.jsxs("div",{className:"account-watchlist",children:[w.jsx("div",{className:"watchlist-header",children:w.jsxs("div",{children:[w.jsxs("h2",{className:"watchlist-title",children:[w.jsx(Vo,{className:"me-2",size:28}),"My Watchlist"]}),w.jsxs("p",{className:"watchlist-subtitle",children:[d," ",1===d?"item":"items"," saved for later"]})]})}),e.length>0?w.jsxs(w.Fragment,{children:[w.jsx(P,{className:"g-4 watchlist-grid",children:e.map((n=>{const r=n.movie;return r?w.jsx(C,{xs:6,sm:6,md:4,lg:3,xl:2,children:w.jsxs(E,{className:"watchlist-card h-100",children:[w.jsxs("div",{className:"watchlist-card-image-wrapper",children:[w.jsx(E.Img,{variant:"top",src:r.thumbnail_url||r.thumbnail||"/media/logos/placeholder-movie.png",alt:r.title,className:"watchlist-card-image",onError:e=>{e.target.src="/media/logos/placeholder-movie.png"}}),w.jsx(A,{bg:"movie"===r.type?"primary":"info",className:"watchlist-type-badge",children:"movie"===r.type?"Movie":"Series"}),w.jsx(ye,{to:v(n),className:"watchlist-play-overlay",children:w.jsx(ml,{size:48,className:"play-icon"})})]}),w.jsxs(E.Body,{className:"watchlist-card-body",children:[w.jsx(E.Title,{className:"watchlist-card-title",children:w.jsx(ye,{to:v(n),className:"text-decoration-none",children:r.title})}),"series"===r.type&&r.episode_number&&w.jsxs("div",{className:"watchlist-episode-info",children:["S",r.season_number||1," E",r.episode_number]}),w.jsxs("div",{className:"watchlist-meta",children:[r.year&&w.jsxs("span",{className:"watchlist-year",children:[w.jsx(bo,{size:14,className:"me-1"}),r.year]}),r.duration&&w.jsxs("span",{className:"watchlist-duration",children:[w.jsx(Co,{size:14,className:"me-1"}),g(r.duration)]}),r.rating&&w.jsxs("span",{className:"watchlist-rating",children:[w.jsx("i",{className:"bi bi-star-fill me-1"}),r.rating.toFixed(1)]})]}),r.category&&w.jsx("div",{className:"watchlist-category",children:r.category}),w.jsxs("div",{className:"watchlist-added-date",children:["Added ",f(n.created_at)]}),w.jsxs("div",{className:"watchlist-actions",children:[w.jsxs(ye,{to:v(n),className:"btn btn-sm btn-primary w-100 mb-2",children:[w.jsx(ml,{size:16,className:"me-1"}),"Watch Now"]}),w.jsx(N,{variant:"outline-danger",size:"sm",className:"w-100",onClick:()=>{return i=n.id,s=r.title,y(void 0,null,(function*(){if(confirm(`Remove "${s}" from your wishlist?`))try{p((e=>new Set(e).add(i))),yield bb.removeFromMovieWishlist(i),t((e=>e.filter((e=>e.id!==i)))),u((e=>e-1)),1===e.length&&a>1&&o(a-1)}catch(n){}finally{p((e=>{const t=new Set(e);return t.delete(i),t}))}}));var i,s},disabled:h.has(n.id),children:h.has(n.id)?w.jsxs(w.Fragment,{children:[w.jsx(k,{size:"sm",animation:"border",className:"me-1"}),"Removing..."]}):w.jsxs(w.Fragment,{children:[w.jsx(_l,{size:16,className:"me-1"}),"Remove"]})})]})]})]})},n.id):null}))}),(()=>{if(l<=1)return null;const e=[];let t=Math.max(1,a-Math.floor(2.5)),n=Math.min(l,t+5-1);n-t+1<5&&(t=Math.max(1,n-5+1));for(let r=t;r<=n;r++)e.push(r);return w.jsxs("div",{className:"watchlist-pagination",children:[w.jsx(N,{variant:"outline-secondary",size:"sm",disabled:1===a,onClick:()=>o(1),className:"me-2",children:w.jsx("i",{className:"bi bi-chevron-double-left"})}),w.jsx(N,{variant:"outline-secondary",size:"sm",disabled:1===a,onClick:()=>o(a-1),className:"me-2",children:w.jsx("i",{className:"bi bi-chevron-left"})}),e.map((e=>w.jsx(N,{variant:a===e?"primary":"outline-secondary",size:"sm",onClick:()=>o(e),className:"me-2",children:e},e))),w.jsx(N,{variant:"outline-secondary",size:"sm",disabled:a===l,onClick:()=>o(a+1),className:"me-2",children:w.jsx("i",{className:"bi bi-chevron-right"})}),w.jsx(N,{variant:"outline-secondary",size:"sm",disabled:a===l,onClick:()=>o(l),children:w.jsx("i",{className:"bi bi-chevron-double-right"})})]})})()]}):w.jsxs("div",{className:"watchlist-empty",children:[w.jsx("div",{className:"empty-icon",children:w.jsx(Vo,{size:80,className:"text-muted"})}),w.jsx("h4",{className:"mt-4",children:"Your watchlist is empty"}),w.jsx("p",{className:"text-muted mb-4",children:"Movies and shows you add to your watchlist will appear here"}),w.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[w.jsxs(N,{onClick:()=>window.location.href="/movies",variant:"primary",children:[w.jsx("i",{className:"bi bi-film me-2"}),"Browse Movies"]}),w.jsxs(N,{onClick:()=>window.location.href="/series",variant:"outline-primary",children:[w.jsx("i",{className:"bi bi-tv me-2"}),"Browse Series"]})]})]}),w.jsx("style",{children:'\n        .account-watchlist {\n          padding: 0;\n          width: 100%;\n        }\n\n        .account-watchlist-loading,\n        .account-watchlist-error {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 400px;\n          text-align: center;\n        }\n\n        .watchlist-grid {\n          display: flex;\n          flex-wrap: wrap;\n          margin: 0 -0.75rem;\n        }\n\n        .watchlist-grid > .col,\n        .watchlist-grid > [class*="col-"] {\n          padding: 0 0.75rem;\n          margin-bottom: 1.5rem;\n        }\n\n        .watchlist-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 2rem;\n          padding-bottom: 1rem;\n          border-bottom: 2px solid var(--ugflix-border, #333);\n        }\n\n        .watchlist-title {\n          font-size: 2rem;\n          font-weight: 700;\n          margin: 0;\n          color: var(--ugflix-text-primary, #fff);\n          display: flex;\n          align-items: center;\n        }\n\n        .watchlist-subtitle {\n          color: var(--ugflix-text-secondary, #999);\n          margin: 0.5rem 0 0 0;\n          font-size: 0.95rem;\n        }\n\n        .watchlist-card {\n          background: var(--ugflix-bg-card, #1a1a1a);\n          border: 1px solid var(--ugflix-border, #333);\n          border-radius: 8px;\n          transition: all 0.3s ease;\n          overflow: hidden;\n        }\n\n        .watchlist-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(183, 28, 28, 0.3);\n          border-color: var(--ugflix-primary, #B71C1C);\n        }\n\n        .watchlist-card-image-wrapper {\n          position: relative;\n          overflow: hidden;\n          aspect-ratio: 2/3;\n        }\n\n        .watchlist-card-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          transition: transform 0.3s ease;\n        }\n\n        .watchlist-card:hover .watchlist-card-image {\n          transform: scale(1.05);\n        }\n\n        .watchlist-type-badge {\n          position: absolute;\n          top: 8px;\n          left: 8px;\n          font-size: 0.7rem;\n          font-weight: 600;\n          padding: 4px 8px;\n          text-transform: uppercase;\n          z-index: 2;\n        }\n\n        .watchlist-progress-overlay {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          z-index: 2;\n        }\n\n        .watchlist-progress-bar {\n          height: 4px;\n          border-radius: 0;\n        }\n\n        .watchlist-play-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.7);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n          z-index: 1;\n        }\n\n        .watchlist-card:hover .watchlist-play-overlay {\n          opacity: 1;\n        }\n\n        .watchlist-play-overlay .play-icon {\n          color: var(--ugflix-primary, #B71C1C);\n          filter: drop-shadow(0 0 10px rgba(183, 28, 28, 0.5));\n        }\n\n        .watchlist-card-body {\n          padding: 1rem;\n        }\n\n        .watchlist-card-title {\n          font-size: 1rem;\n          font-weight: 600;\n          margin-bottom: 0.5rem;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n        }\n\n        .watchlist-card-title a {\n          color: var(--ugflix-text-primary, #fff);\n        }\n\n        .watchlist-card-title a:hover {\n          color: var(--ugflix-primary, #B71C1C);\n        }\n\n        .watchlist-episode-info {\n          font-size: 0.85rem;\n          color: var(--ugflix-primary, #B71C1C);\n          font-weight: 600;\n          margin-bottom: 0.5rem;\n        }\n\n        .watchlist-meta {\n          display: flex;\n          gap: 1rem;\n          flex-wrap: wrap;\n          font-size: 0.85rem;\n          color: var(--ugflix-text-secondary, #999);\n          margin-bottom: 0.5rem;\n        }\n\n        .watchlist-meta span {\n          display: flex;\n          align-items: center;\n        }\n\n        .watchlist-category {\n          display: inline-block;\n          font-size: 0.75rem;\n          padding: 2px 8px;\n          background: rgba(183, 28, 28, 0.2);\n          color: var(--ugflix-primary, #B71C1C);\n          border-radius: 4px;\n          margin-bottom: 0.5rem;\n        }\n\n        .watchlist-added-date {\n          font-size: 0.8rem;\n          color: var(--ugflix-text-secondary, #999);\n          margin-bottom: 1rem;\n        }\n\n        .watchlist-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .watchlist-empty {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 400px;\n          text-align: center;\n          padding: 3rem;\n        }\n\n        .watchlist-empty h4 {\n          color: var(--ugflix-text-primary, #fff);\n          font-weight: 600;\n        }\n\n        .watchlist-pagination {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          margin-top: 3rem;\n          padding-top: 2rem;\n          border-top: 1px solid var(--ugflix-border, #333);\n        }\n\n        /* Mobile Responsive */\n        @media (max-width: 768px) {\n          .watchlist-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 1rem;\n          }\n\n          .watchlist-title {\n            font-size: 1.5rem;\n          }\n\n          .watchlist-card-title {\n            font-size: 0.9rem;\n          }\n\n          .watchlist-pagination {\n            flex-wrap: wrap;\n            gap: 0.5rem;\n          }\n\n          .watchlist-grid {\n            margin: 0 -0.5rem;\n          }\n\n          .watchlist-grid > .col,\n          .watchlist-grid > [class*="col-"] {\n            padding: 0 0.5rem;\n            margin-bottom: 1rem;\n          }\n        }\n\n        /* Extra small screens - 2 columns */\n        @media (max-width: 576px) {\n          .watchlist-card-body {\n            padding: 0.75rem;\n          }\n\n          .watchlist-card-title {\n            font-size: 0.85rem;\n          }\n\n          .watchlist-meta {\n            font-size: 0.75rem;\n          }\n        }\n\n        /* Large screens - 6 columns */\n        @media (min-width: 1400px) {\n          .watchlist-grid > [class*="col-xl-2"] {\n            flex: 0 0 auto;\n            width: 16.666667%;\n          }\n        }\n      '})]})},wb=M.memo((({src:e,alt:t,className:n="",placeholder:r,width:i,height:s,onLoad:a,onError:o})=>{const[l,c]=M.useState(!1),[d,u]=M.useState(!1),[h,p]=M.useState(null),{ref:m,isIntersecting:f}=((e={})=>{const{threshold:t=.1,root:n=null,rootMargin:r="50px",triggerOnce:i=!0,skip:s=!1}=e,[a,o]=M.useState(!1),[l,c]=M.useState(null),d=M.useRef(null);return M.useEffect((()=>{const e=d.current;if(s||!e)return;if(!("IntersectionObserver"in window))return void o(!0);const a=new IntersectionObserver((t=>{const[n]=t;c(n),n.isIntersecting?(o(!0),i&&a.unobserve(e)):i||o(!1)}),{threshold:t,root:n,rootMargin:r});return a.observe(e),()=>{a.disconnect()}}),[t,n,r,i,s]),{isIntersecting:a,entry:l,ref:d}})({threshold:.1,rootMargin:"100px",triggerOnce:!0});L.useEffect((()=>{!f||h||d||p(e)}),[f,e,h,d]);const g=M.useCallback((()=>{c(!0),null==a||a()}),[a]),y=M.useCallback((()=>{u(!0),c(!0);const e=r||"https://images.unsplash.com/photo-1489599808821-cb6b1e5d2ab7?w=400&h=600&fit=crop";h!==e?(p(e),u(!1)):null==o||o()}),[r,h,o]);return w.jsxs("div",{ref:m,className:`lazy-image-container ${n}`,children:[!l&&w.jsx("div",{className:"lazy-image-skeleton",children:w.jsx("div",{className:"skeleton-shimmer"})}),h&&w.jsx("img",{src:h,alt:t,width:i,height:s,className:"lazy-image "+(l?"loaded":""),onLoad:g,onError:y,loading:"lazy"}),w.jsx("style",{children:"\n        .lazy-image-container {\n          position: relative;\n          width: 100%;\n          height: 100%;\n          overflow: hidden;\n        }\n\n        .lazy-image-skeleton {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: var(--ugflix-bg-tertiary);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .skeleton-shimmer {\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(\n            90deg,\n            transparent,\n            rgba(255, 255, 255, 0.1),\n            transparent\n          );\n          animation: shimmer 1.5s infinite;\n        }\n\n        @keyframes shimmer {\n          0% { transform: translateX(-100%); }\n          100% { transform: translateX(100%); }\n        }\n\n        .lazy-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          transition: opacity 0.3s ease;\n          opacity: 0;\n        }\n\n        .lazy-image.loaded {\n          opacity: 1;\n        }\n      "})]})})),_b=({movieId:e,initialWishlisted:t=!1,size:n="medium",variant:r="icon",className:i="",onToggle:s,onClick:a})=>{const[o,l]=M.useState(t),[c,d]=M.useState(!1),u=M.useCallback((t=>y(void 0,null,(function*(){if(t.stopPropagation(),t.preventDefault(),null==a||a(t),c)return;const n=o;l(!o),d(!0);try{const t=yield sa.toggleMovieWishlist(e);l(t.wishlisted),null==s||s(t.wishlisted,t.wishlist_count)}catch(r){l(n)}finally{d(!1)}}))),[e,o,c,s,a]),h="small"===n?14:"large"===n?20:16;return w.jsxs("button",{className:`wishlist-button wishlist-button-${n} wishlist-button-${r} ${o?"active":""} ${c?"loading":""} ${i}`,onClick:u,disabled:c,title:o?"Remove from wishlist":"Add to wishlist","aria-label":o?"Remove from wishlist":"Add to wishlist",children:[w.jsx(Le,{size:h,fill:o?"currentColor":"none",className:"wishlist-icon"}),"icon-text"===r&&w.jsx("span",{className:"wishlist-text",children:o?"In Wishlist":"Add to Wishlist"}),"text"===r&&w.jsx("span",{className:"wishlist-text",children:o?"Remove from Wishlist":"Add to Wishlist"})]})},kb=({movie:e,isVisible:t,targetRect:n,onClose:r,onPlay:i,onAddToWatchlist:s,onMouseEnter:a,onMouseLeave:o})=>{const[l,c]=M.useState(!1),[d,u]=M.useState(!1),[h,p]=M.useState(!0),[m,f]=M.useState(!1),g=M.useRef(null),y=M.useRef(null);M.useEffect((()=>{if(t&&e.url&&g.current){const e=g.current;p(!0),f(!1);const t=()=>{e.duration&&(e.currentTime=.1*e.duration,e.muted=d,e.volume=d?0:.3,e.play().then((()=>{c(!0),p(!1)})).catch((()=>{f(!0),p(!1)})))},n=()=>{f(!0),p(!1)};return e.addEventListener("loadeddata",t),e.addEventListener("error",n),e.load(),()=>{e.removeEventListener("loadeddata",t),e.removeEventListener("error",n),e.pause(),c(!1)}}}),[t,e.url]);M.useCallback((e=>{e.stopPropagation(),g.current&&(l?(g.current.pause(),c(!1)):(g.current.play(),c(!0)))}),[l]);const v=M.useCallback((e=>{e.stopPropagation(),g.current&&(g.current.muted=!d,u(!d))}),[d]),x=M.useCallback((t=>{t.stopPropagation(),null==i||i(e),r()}),[e,i,r]);return M.useCallback((t=>{t.stopPropagation(),null==s||s(e)}),[e,s]),t?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"popover-backdrop",onClick:r,onMouseEnter:e=>{e.stopPropagation(),null==a||a()},onMouseLeave:e=>{e.stopPropagation(),null==o||o()}}),w.jsxs("div",{ref:y,className:"movie-popover",style:(()=>{if(!n)return{opacity:0,transform:"scale(0.9)","--pointer-left":"50%"};const e=window.innerWidth<768,r=window.innerWidth>=768&&window.innerWidth<992,i=e?Math.min(280,window.innerWidth-40):r?300:320,s=e?180:r?200:220,a=e?8:12,o=e?10:20;let l,c,d=!1,u=!1;if(e){l=n.left+n.width/2-i/2;const e=n.top,t=window.innerHeight-n.bottom;e>s+a&&e>t?(c=n.top-s-a,d=!0):(c=n.bottom+a,d=!1)}else{const e=window.innerWidth-n.right,t=n.left;e>i+o?(l=n.right+a,c=n.top+n.height/2-s/2,u=!0):t>i+o?(l=n.left-i-a,c=n.top+n.height/2-s/2,u=!0):(l=n.left+n.width/2-i/2,n.top>s+a+o?(c=n.top-s-a,d=!0):(c=n.bottom+a,d=!1))}l<o&&(l=o),l+i>window.innerWidth-o&&(l=window.innerWidth-i-o),c<o&&(c=o),c+s>window.innerHeight-o&&(c=window.innerHeight-s-o);const h=(n.left+n.width/2-l)/i*100;return{left:`${l}px`,top:`${c}px`,width:`${i}px`,height:`${s}px`,opacity:t?1:0,transform:t?"scale(1)":"scale(0.9)","--pointer-left":`${Math.max(10,Math.min(90,h))}%`,"--show-pointer-below":d?"1":"0","--show-pointer-side":u?"1":"0"}})(),onClick:e=>e.stopPropagation(),onMouseEnter:e=>{e.stopPropagation(),null==a||a()},onMouseLeave:e=>{e.stopPropagation(),null==o||o()},children:[w.jsx("div",{className:"popover-pointer"}),w.jsxs("div",{className:"popover-media",children:[e.url&&!m?w.jsx("video",{ref:g,className:"popover-video",muted:d,loop:!0,playsInline:!0,poster:e.thumbnail_url,children:w.jsx("source",{src:e.url,type:"video/mp4"})}):w.jsx("img",{src:e.thumbnail_url||"",alt:e.title,className:"popover-image"}),h&&w.jsx("div",{className:"loading-overlay",children:w.jsx("div",{className:"loading-spinner"})}),w.jsxs("div",{className:"control-overlay",children:[w.jsx("button",{className:"control-btn play-btn",onClick:x,"aria-label":`Play ${e.title}`,children:w.jsx(ml,{size:20,fill:"currentColor"})}),w.jsx("div",{className:"control-btn add-btn",children:w.jsx(_b,{movieId:e.id,initialWishlisted:e.has_wishlisted,size:"small",variant:"icon",onToggle:(t,n)=>{e&&(e.has_wishlisted=t,e.wishlist_count=n),t&&(null==s||s(e))}})}),e.url&&!m&&w.jsx("button",{className:"control-btn mute-btn",onClick:v,"aria-label":d?"Unmute":"Mute",children:d?w.jsx(Vl,{size:18}):w.jsx(Dl,{size:18})})]})]})]}),w.jsx("style",{children:"\n        .popover-backdrop {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 999;\n          background: transparent;\n        }\n\n        .movie-popover {\n          position: fixed;\n          width: 320px;\n          height: 220px;\n          background: #111;\n          border-radius: 0;\n          border: 1px solid rgba(255, 107, 53, 0.3);\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8);\n          z-index: 1000;\n          overflow: hidden;\n          transition: opacity 0.3s ease, transform 0.3s ease;\n          pointer-events: auto;\n        }\n\n                .popover-pointer {\n          position: absolute;\n          bottom: -8px;\n          left: var(--pointer-left, 50%);\n          transform: translateX(-50%);\n          width: 0;\n          height: 0;\n          border-left: 8px solid transparent;\n          border-right: 8px solid transparent;\n          border-top: 8px solid #111;\n          opacity: var(--show-pointer-below, 1);\n          z-index: 1001;\n        }\n\n        .popover-pointer::before {\n          content: '';\n          position: absolute;\n          top: -9px;\n          left: -9px;\n          width: 0;\n          height: 0;\n          border-left: 9px solid transparent;\n          border-right: 9px solid transparent;\n          border-top: 9px solid rgba(255, 107, 53, 0.3);\n          z-index: 1000;\n        }\n\n        \n\n        .popover-media {\n          position: relative;\n          width: 100%;\n          height: 100%;\n          overflow: hidden;\n        }\n\n        .popover-video,\n        .popover-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        .loading-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.7);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .loading-spinner {\n          width: 24px;\n          height: 24px;\n          border: 2px solid rgba(255, 255, 255, 0.3);\n          border-top: 2px solid #ff6b35;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .control-overlay {\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          display: flex;\n          gap: 8px;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        .movie-popover:hover .control-overlay {\n          opacity: 1;\n        }\n\n        .control-btn {\n          width: 40px;\n          height: 40px;\n          border: none;\n          border-radius: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          backdrop-filter: blur(10px);\n        }\n\n        .play-btn {\n          background: linear-gradient(135deg, #ff6b35, #f7931e);\n          color: white;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        .add-btn {\n          background: rgba(255, 255, 255, 0.9);\n          color: #333;\n          border: 1px solid rgba(0, 0, 0, 0.2);\n        }\n\n        .mute-btn {\n          background: rgba(0, 0, 0, 0.8);\n          color: white;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        .control-btn:hover {\n          transform: translateY(-1px);\n        }\n\n        .play-btn:hover {\n          box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);\n          background: linear-gradient(135deg, #f7931e, #ff6b35);\n        }\n\n        .add-btn:hover {\n          background: white;\n          transform: translateY(-2px);\n        }\n\n        .mute-btn:hover {\n          background: rgba(0, 0, 0, 0.9);\n        }\n\n        /* Removed content styles - only video preview now */\n\n        /* Responsive adjustments */\n        @media (max-width: 480px) {\n          .movie-popover {\n            width: calc(100vw - 20px);\n            max-width: 320px;\n          }\n        }\n      "})]}):null},Sb=({movieId:e,initialLiked:t=!1,size:n="medium",variant:r="icon",className:i="",onToggle:s,onClick:a})=>{const[o,l]=M.useState(t),[c,d]=M.useState(!1),u=M.useCallback((t=>y(void 0,null,(function*(){if(t.preventDefault(),t.stopPropagation(),null==a||a(t),c)return;const n=o;try{l(!o),d(!0);const t=yield sa.toggleMovieLike(e);l(t.liked),null==s||s(t.liked,t.likes_count)}catch(r){l(n)}finally{d(!1)}}))),[e,o,c,s,a]),h=["like-button",`like-button-${n}`,`like-button-${r}`,o?"active":"",c?"loading":"",i].filter(Boolean).join(" "),p=o?"Unlike this movie":"Like this movie";return w.jsxs("button",{className:h,onClick:u,disabled:c,"aria-label":p,title:p,children:[w.jsx(Me,{className:"like-icon",fill:o?"currentColor":"none",size:"small"===n?16:"large"===n?24:20}),"icon"!==r&&w.jsx("span",{className:"like-text",children:o?"Liked":"Like"})]})},Nb=M.memo((({movie:e,variant:t="default",showPlayButton:n=!0,showAddButton:r=!0,showLikeButton:i=!0,showProgress:s=!1,className:a="",onClick:o,onPlay:l,onAddToWatchlist:c,onLikeToggle:d})=>{const[u,h]=M.useState(!1),[p,m]=M.useState(!1),[f,g]=M.useState(!1),[y,v]=M.useState(null),[x,b]=M.useState(!1),j=M.useRef(null),_=M.useRef(null),k=M.useRef(null),S=M.useRef(!1),N=M.useCallback((()=>{null==o||o(e)}),[e,o]);M.useCallback((t=>{t.stopPropagation(),null==l||l(e)}),[e,l]),M.useCallback((t=>{t.stopPropagation(),null==c||c(e)}),[e,c]);const T=M.useCallback((()=>{h(!0)}),[]),P=M.useCallback((()=>{h(!0)}),[]),C=M.useCallback((()=>{S.current=!0,m(!0),b(!0),k.current&&(clearTimeout(k.current),k.current=null),_.current&&(clearTimeout(_.current),_.current=null),!f&&j.current&&(_.current=setTimeout((()=>{if(S.current&&j.current){const e=j.current.getBoundingClientRect();v(e),g(!0)}}),2e3))}),[f]),E=M.useCallback((e=>{const t=e.relatedTarget;t&&(t.closest(".movie-popover")||t.closest(".popover-backdrop")||t.classList.contains("movie-popover")||t.classList.contains("popover-backdrop"))||(S.current=!1,m(!1),b(!1),_.current&&(clearTimeout(_.current),_.current=null),k.current=setTimeout((()=>{S.current||(g(!1),v(null))}),200))}),[]),O=M.useCallback((()=>{S.current=!0,b(!0),k.current&&(clearTimeout(k.current),k.current=null)}),[]),A=M.useCallback((()=>{S.current=!1,b(!1),k.current=setTimeout((()=>{S.current||(g(!1),v(null),m(!1))}),200)}),[]),I=M.useCallback((()=>{S.current=!1,g(!1),v(null),m(!1),b(!1)}),[]);M.useEffect((()=>()=>{_.current&&clearTimeout(_.current),k.current&&clearTimeout(k.current)}),[]);const{width:z,height:R}=(()=>{const e={large:200,default:180,compact:160,list:220}[t];return{width:e,height:e/(3/4)}})(),L=s&&e.views_time_count?Math.min(e.views_time_count/100*100,100):0;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{ref:j,className:`movie-card movie-card-${t} ${a}`,onMouseEnter:C,onMouseLeave:E,onClick:N,style:{width:`${z}px`,height:`${R}px`},children:[w.jsxs("div",{className:"movie-poster",children:[w.jsx(wb,{src:e.thumbnail_url||"",alt:e.title,placeholder:"https://images.unsplash.com/photo-1489599808821-cb6b1e5d2ab7?w=400&h=600&fit=crop",className:"movie-image",onLoad:T,onError:P}),w.jsxs("div",{className:"movie-card-actions",children:[r&&w.jsx("div",{className:"movie-card-wishlist-btn",children:w.jsx(_b,{movieId:e.id,initialWishlisted:e.has_wishlisted,size:"small",variant:"icon",onToggle:(t,n)=>{e&&(e.has_wishlisted=t,e.wishlist_count=n),t&&(null==c||c(e))}})}),i&&w.jsx("div",{className:"movie-card-like-btn",children:w.jsx(Sb,{movieId:e.id,initialLiked:e.has_liked,size:"small",variant:"icon",onToggle:(t,n)=>{e&&(e.has_liked=t,e.likes_count=n),null==d||d(t)}})})]}),s&&L>0&&w.jsx("div",{className:"progress-container",children:w.jsx("div",{className:"progress-bar",style:{width:`${L}%`}})})]}),w.jsxs("div",{className:"movie-info-overlay",children:[w.jsx("div",{className:"overlay-gradient"}),w.jsxs("div",{className:"movie-info-content",children:[w.jsx("h3",{className:"movie-title",children:e.title}),w.jsxs("div",{className:"movie-meta",children:[w.jsx("span",{className:"movie-type",children:e.type}),e.genre&&w.jsx("span",{className:"movie-genre",children:e.genre})]}),e.vj&&w.jsx("div",{className:"movie-vj",children:w.jsxs("span",{children:["VJ ",e.vj]})})]})]})]}),w.jsx("style",{children:"\n        .movie-card {\n          display: flex;\n          flex-direction: column;\n          background: #1a1a1a;\n          border-radius: 0;\n          overflow: hidden;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n          flex-shrink: 0;\n          position: relative;\n          border: 1px solid rgba(255, 255, 255, 0.1);\n        }\n\n                .movie-card::before {\n          content: '';\n          position: absolute;\n          top: -15px;\n          left: -15px;\n          right: -15px;\n          bottom: -15px;\n          z-index: -1;\n          pointer-events: none;\n        }\n\n\n        .movie-poster {\n          position: relative;\n          flex: 1;\n          overflow: hidden;\n        }\n\n        .movie-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        /* Action buttons container */\n        .movie-card-actions {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          z-index: 5;\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          opacity: 0;\n          transform: translateY(-4px);\n          transition: all 0.2s ease;\n        }\n\n        .movie-card:hover .movie-card-actions {\n          opacity: 1;\n          transform: translateY(0);\n        }\n\n        .movie-card-wishlist-btn,\n        .movie-card-like-btn {\n          display: flex;\n        }\n\n        /* Always show action buttons if movie is wishlisted or liked */\n        .movie-card-actions:has(.wishlist-button.active),\n        .movie-card-actions:has(.like-button.active) {\n          opacity: 1;\n          transform: translateY(0);\n        }\n\n        .progress-container {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 4px;\n          background: rgba(0, 0, 0, 0.5);\n          z-index: 3;\n        }\n\n        .progress-bar {\n          height: 100%;\n          background: linear-gradient(90deg, #ff6b35, #f7931e);\n          transition: width 0.3s ease;\n        }\n\n        \n\n        .movie-info-overlay {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          z-index: 3;\n        }\n\n        .overlay-gradient {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 80px;\n          background: linear-gradient(\n            transparent 0%,\n            rgba(0, 0, 0, 0.5) 40%,\n            rgba(0, 0, 0, 0.85) 100%\n          );\n        }\n\n        .movie-info-content {\n          position: relative;\n          padding: 10px 12px;\n          z-index: 4;\n        }\n\n        .movie-title {\n          font-size: 13px;\n          font-weight: 600;\n          color: #ffffff;\n          margin: 0 0 4px 0;\n          line-height: 1.2;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);\n        }\n\n        .movie-meta {\n          display: flex;\n          gap: 6px;\n          margin-bottom: 2px;\n          font-size: 10px;\n        }\n\n        .movie-type {\n          background: linear-gradient(135deg, #ff6b35, #f7931e);\n          color: white;\n          padding: 2px 6px;\n          border-radius: 0;\n          font-weight: 500;\n          text-transform: uppercase;\n          font-size: 9px;\n        }\n\n        .movie-genre {\n          color: #f0f0f0;\n          text-transform: capitalize;\n          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);\n        }\n\n        .movie-vj {\n          font-size: 9px;\n          color: #ddd;\n          margin-top: 1px;\n          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);\n        }\n\n        .movie-vj span {\n          color: #ff6b35;\n          font-weight: 500;\n        }\n\n        /* Responsive design */\n        @media (max-width: 768px) {\n          .movie-title {\n            font-size: 13px;\n          }\n          \n          .movie-meta {\n            font-size: 10px;\n          }\n          \n          .action-btn {\n            width: 36px;\n            height: 36px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .movie-info {\n            padding: 10px;\n          }\n          \n          .movie-title {\n            font-size: 12px;\n          }\n        }\n      "}),w.jsx(kb,{movie:e,isVisible:f,targetRect:y,onClose:I,onPlay:l,onAddToWatchlist:c,onMouseEnter:O,onMouseLeave:A})]})})),Tb=()=>{const e=ve(),[t,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState(null),[o,l]=M.useState(1),[c,d]=M.useState(1),[u,h]=M.useState(0),[p]=M.useState(20),m=M.useCallback(((e=1)=>y(void 0,null,(function*(){try{i(!0),a(null);const t=yield sa.getLikedMovies(e,p),r=t.items.map((e=>({id:e.movie_id,title:e.title,thumbnail:e.thumbnail,thumbnail_url:e.thumbnail,year:e.year,type:e.type,category:e.category,episode_number:e.episode_number,has_liked:!0,likes_count:0,description:"",rating:0,duration:0,genres:[],cast:[],director:"",language:"",country:"",created_at:e.liked_at})));n(r),h(t.total),d(t.last_page),l(t.current_page)}catch(t){a(t.message||"Failed to load liked movies"),rs.error("Failed to load liked movies")}finally{i(!1)}}))),[p]);M.useEffect((()=>{m(o)}),[o,m]);const f=M.useCallback((t=>{e(`/watch/${t.id}`)}),[e]),g=M.useCallback((e=>y(void 0,null,(function*(){try{n((t=>t.filter((t=>t.id!==e.id)))),h((e=>e-1)),yield sa.toggleMovieLike(e.id)}catch(t){m(o),rs.error("Failed to unlike movie")}}))),[o,m]),v=M.useCallback((e=>{e>=1&&e<=c&&(l(e),window.scrollTo({top:0,behavior:"smooth"}))}),[c]),x=M.useCallback((()=>{m(o)}),[o,m]);return w.jsx(Xy,{title:"My Liked Movies",subtitle:`${u} ${1===u?"movie":"movies"}`,actions:[{label:"Refresh",onClick:x,icon:w.jsx(Ac,{}),disabled:r}],isLoading:!1,children:w.jsx(Yy,{noPadding:!0,children:r?w.jsx("div",{className:"movie-likes-grid",children:Array.from({length:8}).map(((e,t)=>w.jsxs("div",{className:"movie-card-skeleton",children:[w.jsx("div",{className:"skeleton-poster"}),w.jsx("div",{className:"skeleton-title"}),w.jsx("div",{className:"skeleton-meta"})]},t)))}):s?w.jsxs(Jy.div,{className:"error-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[w.jsx("div",{className:"error-icon",children:"⚠️"}),w.jsx("h3",{className:"error-title",children:"Failed to Load Liked Movies"}),w.jsx("p",{className:"error-description",children:s}),w.jsxs("button",{className:"error-btn",onClick:x,children:[w.jsx(Ac,{}),"Try Again"]})]}):0===t.length?w.jsxs(Jy.div,{className:"empty-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[w.jsx("div",{className:"empty-icon",children:w.jsx(xc,{size:80})}),w.jsx("h3",{className:"empty-title",children:"No Liked Movies Yet"}),w.jsx("p",{className:"empty-description",children:"Movies you like will appear here. Start exploring and like your favorite movies!"}),w.jsxs("div",{className:"empty-actions",children:[w.jsxs("button",{className:"empty-btn primary",onClick:()=>e("/movies"),children:[w.jsx(Ec,{}),"Browse Movies"]}),w.jsx("button",{className:"empty-btn secondary",onClick:()=>e("/explore"),children:"Explore"})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"movie-likes-grid",children:t.map((e=>w.jsx(Jy.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:w.jsx(Nb,{movie:e,onClick:()=>f(e),showAddButton:!1,onLikeToggle:t=>{t||g(e)}})},e.id)))}),(()=>{if(c<=1)return null;const e=[];let t=Math.max(1,o-Math.floor(2.5)),n=Math.min(c,t+5-1);n-t<4&&(t=Math.max(1,n-5+1)),e.push(w.jsx("button",{className:"pagination-btn",onClick:()=>v(o-1),disabled:1===o,children:"Previous"},"prev")),t>1&&(e.push(w.jsx("button",{className:"pagination-btn",onClick:()=>v(1),children:"1"},1)),t>2&&e.push(w.jsx("span",{className:"pagination-dots",children:"..."},"dots1")));for(let r=t;r<=n;r++)e.push(w.jsx("button",{className:"pagination-btn "+(r===o?"active":""),onClick:()=>v(r),children:r},r));return n<c&&(n<c-1&&e.push(w.jsx("span",{className:"pagination-dots",children:"..."},"dots2")),e.push(w.jsx("button",{className:"pagination-btn",onClick:()=>v(c),children:c},c))),e.push(w.jsx("button",{className:"pagination-btn",onClick:()=>v(o+1),disabled:o===c,children:"Next"},"next")),w.jsx("div",{className:"movie-likes-pagination",children:e})})(),w.jsx("div",{className:"movie-likes-footer",children:w.jsxs("p",{className:"footer-text",children:["Showing ",t.length," of ",u," liked movies",c>1&&` • Page ${o} of ${c}`]})})]})})})},Pb=()=>{var e,t,n;const[r]=we(),[i,s]=M.useState([]),[a,o]=M.useState(null),[l,c]=M.useState([]),[d,u]=M.useState(""),[h,f]=M.useState(!0),[g,v]=M.useState(!1),[x,b]=M.useState(!1),[j,_]=M.useState(null),[S,P]=M.useState(!1),[C,E]=M.useState(0),O=M.useRef(null),A=M.useRef(null),I=M.useRef(null);M.useEffect((()=>{R()}),[]),M.useEffect((()=>{a&&L(a.id)}),[a]),M.useEffect((()=>{z()}),[l]),M.useEffect((()=>{const e=r.get("productId"),t=r.get("productName"),n=r.get("productPrice"),i=r.get("initialMessage");if(i&&a){const e=decodeURIComponent(i);u(e),setTimeout((()=>{var t,n;null==(t=I.current)||t.focus();const r=e.length;null==(n=I.current)||n.setSelectionRange(r,r)}),500)}else if(e&&t&&a){const r=n?` - UGX ${n}`:"",i=`Hi! I'm interested in this product:\n\nProduct: ${decodeURIComponent(t)}${r}\nProduct ID: ${e}\n\nCould you provide more details?`;u(i),setTimeout((()=>{var e,t;null==(e=I.current)||e.focus();const n=i.length;null==(t=I.current)||t.setSelectionRange(n,n)}),500)}}),[a,r]);const z=()=>{var e;null==(e=O.current)||e.scrollIntoView({behavior:"smooth"})},R=(e=!1)=>y(void 0,null,(function*(){try{f(!0),_(null);const e=yield bb.getConversations();s(e),E(0);const t=r.get("chatId");if(t&&e.length>0){const n=e.find((e=>e.id===parseInt(t)));if(n)return void o(n)}e.length>0&&!a&&o(e[0])}catch(t){const n=(null==t?void 0:t.message)||"Failed to load conversations";_(n),!e&&C<3&&(E((e=>e+1)),setTimeout((()=>R(!0)),2e3*(C+1)))}finally{f(!1)}})),L=e=>y(void 0,null,(function*(){try{v(!0),_(null);const n=yield bb.getMessages(e);c(n.data);try{yield bb.markMessagesAsRead(e),s((t=>t.map((t=>t.id===e?m(p({},t),{unread_count:0}):t))))}catch(t){}}catch(n){const e=(null==n?void 0:n.message)||"Failed to load messages";_(e)}finally{v(!1)}})),D=e=>y(void 0,null,(function*(){e.preventDefault();const t=d.trim();if(!t||!a||x)return;if(t.length>5e3)return void _("Message is too long. Maximum 5000 characters.");const n={id:Date.now(),sender_id:0,content:t,sent_at:(new Date).toISOString(),message_type:"text",status:"sending"};try{b(!0),_(null),c((e=>[...e,n])),u("");const e=yield bb.sendMessage(a.id,t);c((t=>t.map((t=>t.id===n.id?m(p({},e),{status:"sent"}):t)))),s((t=>t.map((t=>t.id===a.id?m(p({},t),{last_message:{id:e.id,content:e.content,sent_at:e.sent_at,sender_id:e.sender_id}}):t))))}catch(r){const e=(null==r?void 0:r.message)||"Failed to send message";_(e),c((e=>e.map((e=>e.id===n.id?m(p({},e),{status:"failed"}):e)))),u(t)}finally{b(!1)}})),F=e=>{if(!e)return"?";const t=e.trim().split(" ");return 1===t.length?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()},B=e=>{if(!e)return"#667eea";const t=["#667eea","#f093fb","#4facfe","#43e97b","#fa709a","#feca57","#ee5a6f","#c471ed","#f7797d","#00d2ff"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n),n|=0;return t[Math.abs(n)%t.length]},V=e=>{const t=new Date(e),n=(new Date).getTime()-t.getTime(),r=Math.floor(n/864e5);return 0===r?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r<7?t.toLocaleDateString([],{weekday:"short"}):t.toLocaleDateString([],{month:"short",day:"numeric"})},U=()=>{P(!S)},q=()=>w.jsxs("div",{className:"conversation-skeleton",children:[w.jsx("div",{className:"skeleton-avatar"}),w.jsxs("div",{className:"skeleton-content",children:[w.jsx("div",{className:"skeleton-line skeleton-name"}),w.jsx("div",{className:"skeleton-line skeleton-message"})]})]}),$=()=>w.jsx("div",{className:"message-skeleton",children:w.jsx("div",{className:"skeleton-bubble"})});return h?w.jsx("div",{className:"account-chats",children:w.jsxs("div",{className:"chat-layout",children:[w.jsxs("div",{className:"conversations-section",children:[w.jsx("div",{className:"conversations-header",children:w.jsx("h6",{children:"Loading..."})}),w.jsx("div",{className:"conversations-list",children:[1,2,3,4,5].map((e=>w.jsx(q,{},e)))})]}),w.jsxs("div",{className:"messages-section",children:[w.jsxs("div",{className:"messages-header",children:[w.jsx("div",{className:"skeleton-avatar skeleton-avatar-small"}),w.jsx("div",{className:"skeleton-line skeleton-name"})]}),w.jsx("div",{className:"messages-container",children:w.jsx("div",{className:"messages-list",children:[1,2,3].map((e=>w.jsx($,{},e)))})})]})]})}):w.jsxs("div",{className:"account-chats",children:[j&&w.jsxs(T,{variant:"danger",dismissible:!0,onClose:()=>_(null),style:{marginBottom:"12px",fontSize:"11px",padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[w.jsxs("div",{children:[w.jsx("i",{className:"bi bi-exclamation-triangle",style:{marginRight:"6px"}}),j]}),C>0&&C<3&&w.jsxs(N,{size:"sm",variant:"outline-light",onClick:()=>R(),style:{fontSize:"10px",padding:"4px 8px",marginLeft:"8px"},children:[w.jsx("i",{className:"bi bi-arrow-clockwise",style:{marginRight:"4px"}}),"Retry"]})]}),i.length>0?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"chat-sidebar-overlay "+(S?"active":""),onClick:U}),w.jsx("button",{className:"chat-sidebar-toggle",onClick:U,"aria-label":"Toggle conversations",children:w.jsx("i",{className:"bi bi-chat-dots"})}),w.jsxs("div",{className:"chat-layout",children:[w.jsxs("div",{className:"conversations-section "+(S?"mobile-open":""),children:[w.jsxs("div",{className:"conversations-header",children:[w.jsxs("h6",{children:["Conversations (",i.length,")"]}),w.jsx("button",{className:"conversations-close",onClick:U,"aria-label":"Close",children:w.jsx("i",{className:"bi bi-x"})})]}),w.jsx("div",{className:"conversations-list",children:i.map((e=>{var t,n,r;return w.jsxs("div",{className:"conversation-item "+((null==a?void 0:a.id)===e.id?"active":""),onClick:()=>(e=>{o(e),P(!1)})(e),children:[w.jsx("div",{className:"conversation-avatar",children:(null==(t=e.participants[0])?void 0:t.avatar)?w.jsx("img",{src:e.participants[0].avatar,alt:"Avatar",onError:t=>{var n,r;t.currentTarget.style.display="none";const i=t.currentTarget.parentElement;if(i){const t=document.createElement("div");t.className="conversation-avatar-placeholder",t.style.background=B((null==(n=e.participants[0])?void 0:n.name)||""),t.textContent=F((null==(r=e.participants[0])?void 0:r.name)||"Unknown"),i.appendChild(t)}}}):w.jsx("div",{className:"conversation-avatar-placeholder",style:{background:B((null==(n=e.participants[0])?void 0:n.name)||"")},children:F((null==(r=e.participants[0])?void 0:r.name)||"Unknown")})}),w.jsxs("div",{className:"conversation-details",children:[w.jsx("p",{className:"conversation-name",children:e.participants.map((e=>e.name)).join(", ")}),w.jsx("p",{className:"conversation-preview",children:e.last_message.content})]}),w.jsxs("div",{className:"conversation-meta",children:[w.jsx("span",{className:"conversation-time",children:V(e.last_message.sent_at)}),e.unread_count>0&&w.jsx("span",{className:"unread-badge",children:e.unread_count})]})]},e.id)}))})]}),a?w.jsxs("div",{className:"messages-section",children:[w.jsxs("div",{className:"messages-header",children:[w.jsx("div",{className:"messages-header-avatar",children:(null==(e=a.participants[0])?void 0:e.avatar)?w.jsx("img",{src:a.participants[0].avatar,alt:"Avatar",onError:e=>{var t,n;e.currentTarget.style.display="none";const r=e.currentTarget.parentElement;if(r){const e=document.createElement("div");e.className="conversation-avatar-placeholder",e.style.background=B((null==(t=a.participants[0])?void 0:t.name)||""),e.textContent=F((null==(n=a.participants[0])?void 0:n.name)||"Unknown"),r.appendChild(e)}}}):w.jsx("div",{className:"conversation-avatar-placeholder",style:{background:B((null==(t=a.participants[0])?void 0:t.name)||"")},children:F((null==(n=a.participants[0])?void 0:n.name)||"Unknown")})}),w.jsx("h6",{children:a.participants.map((e=>e.name)).join(", ")})]}),w.jsx("div",{className:"messages-container",children:g?w.jsx("div",{className:"chat-loading",children:w.jsx(k,{animation:"border",size:"sm"})}):w.jsxs("div",{className:"messages-list",ref:A,children:[0===l.length?w.jsxs("div",{className:"chat-empty-messages",children:[w.jsx("i",{className:"bi bi-chat-text"}),w.jsx("p",{children:"No messages yet. Start the conversation!"})]}):l.map((e=>{var t,n;return w.jsx("div",{className:`message ${e.sender_id===(null==(t=a.participants[0])?void 0:t.id)?"message-received":"message-sent"} ${"failed"===e.status?"message-failed":""}`,children:w.jsxs("div",{className:"message-bubble",children:[w.jsx("p",{children:e.content}),w.jsxs("div",{className:"message-meta",children:[w.jsx("small",{className:"message-time",children:new Date(e.sent_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.sender_id!==(null==(n=a.participants[0])?void 0:n.id)&&w.jsxs("span",{className:"message-status",children:["sending"===e.status&&w.jsx("i",{className:"bi bi-clock",title:"Sending..."}),"sent"===e.status&&w.jsx("i",{className:"bi bi-check",title:"Sent"}),"delivered"===e.status&&w.jsx("i",{className:"bi bi-check-all",title:"Delivered"}),"read"===e.status&&w.jsx("i",{className:"bi bi-check-all text-primary",title:"Read"}),"failed"===e.status&&w.jsx("i",{className:"bi bi-exclamation-circle text-danger",title:"Failed to send"})]})]})]})},e.id)})),w.jsx("div",{ref:O})]})}),w.jsx("div",{className:"messages-input-area",children:w.jsxs("form",{className:"messages-input-form",onSubmit:D,children:[w.jsx("textarea",{ref:I,placeholder:"Type a message...",value:d,onChange:e=>u(e.target.value),disabled:x,rows:3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),D(e))}}),w.jsx("button",{type:"submit",disabled:!d.trim()||x,children:x?w.jsx(k,{animation:"border",size:"sm"}):w.jsx("i",{className:"bi bi-send"})})]})})]}):w.jsxs("div",{className:"chat-empty-state",children:[w.jsx("i",{className:"bi bi-chat-dots"}),w.jsx("h5",{children:"Select a conversation"}),w.jsx("p",{children:"Choose a conversation from the list to start chatting"})]})]})]}):w.jsxs("div",{className:"no-conversations-state",children:[w.jsx("i",{className:"bi bi-chat-dots"}),w.jsx("h4",{children:"No Conversations"}),w.jsx("p",{children:"You don't have any conversations yet. Start chatting with sellers or buyers."}),w.jsxs("button",{children:[w.jsx("i",{className:"bi bi-plus-circle"}),"Start New Conversation"]})]})]})},Cb=()=>{const{orderId:e}=_e(),t=ve(),[n,r]=M.useState(null),[i,s]=M.useState(!0);M.useEffect((()=>{e&&a()}),[e]);const a=()=>y(void 0,null,(function*(){try{s(!0);const n=(yield db.fetchItems()).find((t=>t.id.toString()===e));n?r(n):(rs.error("Order not found"),t("/account/orders"))}catch(n){rs.error("Failed to load order details"),t("/account/orders")}finally{s(!1)}})),o=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(i)return w.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-12) var(--spacing-4)"},children:[w.jsx("div",{style:{display:"inline-block",width:"40px",height:"40px",border:"4px solid var(--border-color)",borderTop:"4px solid var(--primary-color)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),w.jsx("p",{style:{marginTop:"var(--spacing-3)",color:"var(--text-color-medium)",fontSize:"var(--font-size-base)"},children:"Loading order details..."})]});if(!n)return w.jsx("div",{className:"acc-card",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning-color)"},children:w.jsxs("div",{className:"acc-card-body",children:[w.jsx("i",{className:"bi bi-exclamation-triangle",style:{marginRight:"8px"}}),"Order not found.",w.jsx("button",{onClick:()=>t("/account/orders"),style:{background:"none",border:"none",color:"var(--primary-color)",textDecoration:"underline",cursor:"pointer",marginLeft:"4px"},children:"Return to orders"})]})});const l=(e=>{try{return JSON.parse(e||"[]")}catch(Yj){return[]}})(n.items);return w.jsxs("div",{className:"acc-order-details-container",children:[w.jsxs("div",{className:"acc-page-header",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"acc-page-title",children:"Order Details"}),w.jsxs("p",{className:"acc-page-subtitle",children:["Invoice #",n.id," - ",o(n.created_at)]})]}),w.jsxs("button",{className:"acc-btn acc-btn-outline",onClick:()=>t("/account/orders"),children:[w.jsx("i",{className:"bi bi-arrow-left",style:{marginRight:"8px"}}),"Back to Orders"]})]}),w.jsx("div",{className:"acc-card",style:{marginBottom:"var(--spacing-6)"},children:w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"var(--spacing-6)",alignItems:"center"},children:[w.jsxs("div",{children:[w.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"var(--font-weight-bold)",color:"var(--text-color)",marginBottom:"var(--spacing-2)"},children:ub(parseFloat(n.payable_amount||n.order_total||"0"))}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-3)",marginBottom:"var(--spacing-2)"},children:[w.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color-medium)"},children:"PAYMENT STATUS:"}),w.jsx("span",{style:{padding:"var(--spacing-1) var(--spacing-2)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--border-radius)",backgroundColor:n.isPaid()?"var(--success-color)":"var(--danger-color)",color:"var(--white)"},children:n.isPaid()?"Paid":"Not Paid"})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-3)"},children:[w.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color-medium)"},children:"ORDER STATUS:"}),(e=>{const t={0:{text:"Pending",color:"var(--danger-color)"},1:{text:"Processing",color:"var(--warning-color)"},2:{text:"Completed",color:"var(--success-color)"},3:{text:"Canceled",color:"var(--text-color-medium)"},4:{text:"Failed",color:"var(--danger-color)"}}[e]||{text:e,color:"var(--text-color-medium)"};return w.jsx("span",{style:{padding:"var(--spacing-1) var(--spacing-2)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--border-radius)",backgroundColor:t.color,color:"var(--white)",display:"inline-block"},children:t.text})})(n.order_state)]})]}),!n.isPaid()&&w.jsxs("div",{children:[w.jsxs("button",{className:"acc-btn acc-btn-primary acc-btn-lg",onClick:()=>{(null==n?void 0:n.isPaid)&&n.isPaid()?rs.warning("This order has already been paid for!"):t(`/payment/${null==n?void 0:n.id}`)},style:{padding:"var(--spacing-3) var(--spacing-6)",fontSize:"var(--font-size-lg)",display:"flex",alignItems:"center",gap:"var(--spacing-2)",margin:"0 auto"},children:[w.jsx("i",{className:"bi bi-credit-card"}),"PAY NOW"]}),w.jsx("p",{style:{textAlign:"center",marginTop:"var(--spacing-2)",fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)"},children:"Secure payment with Pesapal"})]})]})})}),w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-4)"},children:[l&&l.length>0&&w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-bag-check"}),"Order Items (",l.length,")"]})}),w.jsxs("div",{className:"acc-card-body",children:[w.jsx("div",{style:{display:"grid",gap:"var(--spacing-3)"},children:l.map(((e,t)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"var(--spacing-3)",backgroundColor:"var(--background-light)",borderRadius:"var(--border-radius)",gap:"var(--spacing-3)"},children:[w.jsx("div",{style:{width:"60px",height:"60px",backgroundColor:"var(--white)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:w.jsx("i",{className:"bi bi-box",style:{color:"var(--text-color-medium)",fontSize:"1.5rem"}})}),w.jsxs("div",{style:{flex:1},children:[w.jsx("h6",{style:{fontSize:"var(--font-size-base)",fontWeight:"var(--font-weight-medium)",margin:0,marginBottom:"var(--spacing-1)"},children:e.product_name||e.name||"Product"}),w.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-color-medium)",margin:0},children:["Quantity: ",e.quantity||1," × ",ub(parseFloat(e.price||"0"))]})]}),w.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-bold)",color:"var(--text-color)"},children:ub(parseFloat(e.quantity||"1")*parseFloat(e.price||"0"))})]},t)))}),w.jsxs("div",{style:{marginTop:"var(--spacing-4)",paddingTop:"var(--spacing-4)",borderTop:"1px solid var(--border-color)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-2)"},children:[w.jsx("span",{children:"Order Items Total:"}),w.jsx("span",{children:ub(parseFloat(n.order_total||"0"))})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-2)"},children:[w.jsx("span",{children:"Delivery Cost:"}),w.jsx("span",{children:ub(parseFloat(n.delivery_amount||"0"))})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-2)",borderTop:"1px solid var(--border-color)",fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-bold)"},children:[w.jsx("span",{children:"Total:"}),w.jsx("span",{children:ub(parseFloat(n.payable_amount||n.order_total||"0"))})]})]})]})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-geo-alt"}),"Delivery Information"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-3)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Delivery Address:"}),w.jsxs("p",{style:{color:"var(--text-color-medium)",margin:0,lineHeight:"1.5"},children:[n.delivery_address_text||n.customer_address||"Not specified",n.delivery_address_details&&w.jsxs(w.Fragment,{children:[w.jsx("br",{}),n.delivery_address_details]})]})]}),w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Delivery Method:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0},children:n.delivery_method||"Standard Delivery"})]}),w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Delivery Cost:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0,fontWeight:"var(--font-weight-medium)"},children:ub(parseFloat(n.delivery_amount||"0"))})]})]})})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-person-lines-fill"}),"Contact Information"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-3)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Customer Name:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0},children:n.customer_name||"Not specified"})]}),w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Email:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0},children:n.mail||"Not specified"})]}),w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Phone:"}),w.jsxs("p",{style:{color:"var(--text-color-medium)",margin:0},children:[n.customer_phone_number_1||"Not specified",n.customer_phone_number_2&&w.jsxs(w.Fragment,{children:[w.jsx("br",{}),"Alt: ",n.customer_phone_number_2]})]})]}),(()=>{const e=(e=>{if(!e)return"";if(!e.trim().startsWith("{")&&!e.trim().startsWith("["))return e.trim();try{const t=JSON.parse(e);return"object"==typeof t&&null!==t?t.order_details||"":e.trim()}catch(Yj){return e.trim()}})(n.order_details||"");return e&&e.trim()?w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Order Notes:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0,padding:"var(--spacing-3)",backgroundColor:"var(--background-light)",borderRadius:"var(--border-radius)",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:e})]}):null})()]})})]}),w.jsxs("div",{className:"acc-card",children:[w.jsx("div",{className:"acc-card-header",children:w.jsxs("h3",{className:"acc-card-title",children:[w.jsx("i",{className:"bi bi-file-earmark-text"}),"Invoice Information"]})}),w.jsx("div",{className:"acc-card-body",children:w.jsxs("div",{style:{display:"grid",gap:"var(--spacing-3)"},children:[w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Invoice Number:"}),w.jsxs("p",{style:{color:"var(--text-color-medium)",margin:0,fontFamily:"monospace",fontSize:"var(--font-size-lg)"},children:["INVOICE-",n.id]})]}),w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Invoice Date:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0},children:o(n.created_at)})]}),n.date_updated&&n.date_updated!==n.created_at&&w.jsxs("div",{children:[w.jsx("h6",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-color)",marginBottom:"var(--spacing-1)"},children:"Last Updated:"}),w.jsx("p",{style:{color:"var(--text-color-medium)",margin:0},children:o(n.date_updated)})]})]})})]})]}),w.jsx("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},Eb=({user:e,completionPercentage:t})=>{const[n,r]=M.useState(!1),[i,s]=M.useState(0);M.useEffect((()=>{if(void 0!==t)s(t);else{const t=a(e);s(t)}"true"===localStorage.getItem("profile_completion_dismissed")&&r(!0)}),[e,t]);const a=e=>{if(!e)return 0;const t=["first_name","last_name","email","phone_number","dob","sex","avatar","bio","city","country","body_type","occupation","looking_for","interested_in"],n=t.filter((t=>{const n=e[t];return n&&""!==n&&null!=n}));return Math.round(n.length/t.length*100)};if(i>=100||n)return null;const o=()=>{if(!e)return[];const t=[];return Object.entries({avatar:"Profile Photo",bio:"Bio",city:"City",country:"Country",body_type:"Body Type",occupation:"Occupation",looking_for:"What You're Looking For",interested_in:"Interested In",dob:"Date of Birth",sex:"Gender"}).forEach((([n,r])=>{const i=e[n];i&&""!==i&&null!=i||t.push(r)})),t.slice(0,3)},l=o();return w.jsx(Xp,{children:!n&&w.jsx(Jy.div,{className:"profile-completion-banner",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:w.jsxs("div",{className:"banner-content",children:[w.jsx("div",{className:"banner-icon",children:i>=80?w.jsx(lc,{size:24}):w.jsx(nc,{size:24})}),w.jsxs("div",{className:"banner-info",children:[w.jsxs("div",{className:"banner-text",children:[w.jsxs("h4",{className:"banner-title",children:["Profile ",i,"% Complete"]}),w.jsx("p",{className:"banner-message",children:i>=80?"You're almost there! Complete your profile to get better matches.":i>=50?"Your profile is looking good! Add more details to stand out.":"Complete your profile to unlock the full experience!"}),l.length>0&&w.jsxs("div",{className:"missing-fields",children:[w.jsx("span",{className:"missing-label",children:"Missing:"}),w.jsxs("span",{className:"missing-items",children:[l.join(", "),o().length>3&&` +${o().length-3} more`]})]})]}),w.jsxs("div",{className:"progress-container",children:[w.jsx("div",{className:"progress-bar",children:w.jsx(Jy.div,{className:"progress-fill",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.8,delay:.2}})}),w.jsxs("span",{className:"progress-text",children:[i,"%"]})]})]}),w.jsxs("div",{className:"banner-actions",children:[w.jsxs(ye,{to:"/account/profile/edit",className:"complete-profile-btn",children:[w.jsx(mc,{size:16}),w.jsx("span",{children:"Complete Profile"})]}),w.jsx("button",{className:"dismiss-btn",onClick:()=>{r(!0),localStorage.setItem("profile_completion_dismissed","true")},title:"Dismiss reminder",children:w.jsx(Uc,{size:20})})]})]})})})},Ob=()=>{const e=xe(),t=ve(),n=F(),{user:r}=B((e=>e.auth)),[i,s]=M.useState(!1),[a,o]=M.useState(window.innerWidth<992);M.useEffect((()=>{const e=()=>{const e=window.innerWidth<992;o(e),e||s(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),M.useEffect((()=>{a&&s(!1)}),[e.pathname,a]);const l=[{id:"overview",title:"Overview",items:[{id:"dashboard",label:"Dashboard",icon:w.jsx(bc,{}),path:"/account",section:"overview"},{id:"profile",label:"My Profile",icon:w.jsx(Bc,{}),path:"/account/profile",section:"overview"},{id:"edit-profile",label:"Edit Profile",icon:w.jsx(zc,{}),path:"/account/profile/edit",section:"overview"}]},{id:"entertainment",title:"Entertainment",items:[{id:"subscriptions",label:"Subscriptions",icon:w.jsx(Lc,{}),path:"/account/subscriptions",section:"entertainment"},{id:"watchlist",label:"My Watchlist",icon:w.jsx(Vc,{}),path:"/account/watchlist",section:"entertainment"},{id:"history",label:"Watch History",icon:w.jsx(hc,{}),path:"/account/history",section:"entertainment"},{id:"likes",label:"My Likes",icon:w.jsx(xc,{}),path:"/account/likes",section:"entertainment"}]},{id:"marketplace",title:"Marketplace",items:[{id:"products",label:"My Products",icon:w.jsx(Rc,{}),path:"/account/products",section:"marketplace"}]},{id:"communication",title:"Communication",items:[{id:"chats",label:"My Chats",icon:w.jsx(Tc,{}),path:"/account/chats",section:"communication"}]}],c={id:"settings",label:"Settings",icon:w.jsx(zc,{}),path:"/account/settings",section:"settings"},d=t=>{const n=e.pathname.replace(/\/$/,"")||"/account",r=t.replace(/\/$/,"");return"/account"===r?"/account"===n:n===r},u=()=>{s(!i)},h=()=>{const t=[{label:"Account",path:"/account"}];if(e.pathname.split("/").filter(Boolean).length>1){const n=(()=>{const t=e.pathname,n=l.flatMap((e=>e.items));n.push(c);const r=n.find((e=>"/account"===e.path?"/account"===t||"/account/"===t:t.startsWith(e.path)));return(null==r?void 0:r.label)||"Dashboard"})();"Dashboard"!==n&&t.push({label:n,path:e.pathname})}return t};return w.jsxs("div",{className:"new-account-layout",children:[a&&w.jsxs("div",{className:"account-mobile-header",style:{position:"fixed",top:"120px",right:0,zIndex:1039,padding:"8px 16px",background:"none",backdropFilter:"none",WebkitBackdropFilter:"none",borderBottom:"none",display:"flex",justifyContent:"flex-end",pointerEvents:"none"},children:[w.jsx("button",{className:"mobile-menu-toggle account-toggle-animated",onClick:u,"aria-label":"Toggle menu",style:{background:"rgba(183, 28, 28, 0.9)",border:"3px solid #FFD700",borderRadius:"50%",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",outline:"none",pointerEvents:"auto",width:"50px",height:"50px",animation:"pulseGlow 2s ease-in-out infinite"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(183, 28, 28, 1)",e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.animation="none"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(183, 28, 28, 0.9)",e.currentTarget.style.transform="scale(1)",e.currentTarget.style.animation="pulseGlow 2s ease-in-out infinite"},children:i?w.jsx(Uc,{size:24}):w.jsx(Nc,{size:24})}),w.jsx("style",{children:"\n              @keyframes pulseGlow {\n                0%, 100% {\n                  opacity: 1;\n                  filter: drop-shadow(0 0 2px rgba(183, 28, 28, 0.3));\n                }\n                50% {\n                  opacity: 0.7;\n                  filter: drop-shadow(0 0 8px rgba(183, 28, 28, 0.8));\n                }\n              }\n            "})]}),w.jsx(Xp,{children:a&&i&&w.jsx(Jy.div,{className:"sidebar-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u})}),w.jsxs("div",{className:"account-layout-container",style:a?{paddingTop:"30px"}:{},children:[w.jsxs(Jy.aside,{className:"account-sidebar "+(i?"open":""),initial:!1,animate:{x:a&&!i?"-100%":0},transition:{type:"tween",duration:.3},children:[w.jsxs("div",{className:"sidebar-user-profile",children:[w.jsx("div",{className:"user-avatar",children:(null==r?void 0:r.avatar)?w.jsx("img",{src:za(r.avatar),alt:r.name||"User"}):w.jsx(Bc,{size:32})}),w.jsxs("div",{className:"user-info",children:[w.jsx("h3",{className:"user-name",children:(null==r?void 0:r.name)||"User"}),w.jsx("p",{className:"user-email",children:(null==r?void 0:r.email)||"user@example.com"})]})]}),w.jsxs("nav",{className:"sidebar-nav",children:[l.map((e=>w.jsxs("div",{className:"nav-section",children:[w.jsx("h4",{className:"section-title",children:e.title}),w.jsx("ul",{className:"nav-items",children:e.items.map((e=>w.jsx("li",{children:w.jsxs(ye,{to:e.path,className:"nav-link "+(d(e.path)?"active":""),children:[w.jsx("span",{className:"nav-icon",children:e.icon}),w.jsx("span",{className:"nav-label",children:e.label}),void 0!==e.badge&&e.badge>0&&w.jsx("span",{className:"nav-badge",children:e.badge}),d(e.path)&&w.jsx(Jy.span,{className:"active-indicator",layoutId:"activeIndicator"})]})},e.id)))})]},e.id))),w.jsxs("div",{className:"nav-section",children:[w.jsx("h4",{className:"section-title",children:"Account"}),w.jsx("ul",{className:"nav-items",children:w.jsx("li",{children:w.jsxs(ye,{to:c.path,className:"nav-link "+(d(c.path)?"active":""),children:[w.jsx("span",{className:"nav-icon",children:c.icon}),w.jsx("span",{className:"nav-label",children:c.label}),d(c.path)&&w.jsx(Jy.span,{className:"active-indicator",layoutId:"activeIndicator"})]})})})]}),w.jsx("div",{className:"nav-section nav-section-logout",children:w.jsx("ul",{className:"nav-items",children:w.jsx("li",{children:w.jsxs("button",{onClick:()=>{n(js()),rs.logoutSuccess(),t("/")},className:"nav-link logout-link",children:[w.jsx("span",{className:"nav-icon",children:w.jsx(_c,{})}),w.jsx("span",{className:"nav-label",children:"Logout"})]})})})})]})]}),w.jsxs("main",{className:"account-main-content",children:[!a&&w.jsx("nav",{className:"account-breadcrumb","aria-label":"Breadcrumb",children:w.jsx("ol",{className:"breadcrumb-list",children:h().map(((e,t)=>w.jsx("li",{className:"breadcrumb-item",children:t<h().length-1?w.jsxs(w.Fragment,{children:[w.jsx(ye,{to:e.path,children:e.label}),w.jsx(uc,{className:"breadcrumb-separator"})]}):w.jsx("span",{className:"breadcrumb-current",children:e.label})},t)))})}),w.jsxs("div",{className:"account-page-content",children:[w.jsx(Eb,{user:r}),w.jsx(be,{})]})]})]})]})},Ab=()=>w.jsx(Ob,{});const Ib=new class{generateLocalId(){return`${Date.now()}${Math.random().toString(36).substring(2,15)}`}createProduct(e){return y(this,null,(function*(){try{if(!e.name||0===e.name.trim().length)throw new Error("Product name is required");if(!e.description||e.description.trim().length<20)throw new Error("Description must be at least 20 characters");if(!e.category)throw new Error("Category is required");if(!e.price_1||parseFloat(e.price_1)<=0)throw new Error("Selling price is required");if(!e.price_2||parseFloat(e.price_2)<=0)throw new Error("Original price is required");(!e.local_id||e.local_id.length<6)&&(e.local_id=this.generateLocalId());const t=yield ps("product-create",e),n=t.data||t;return rs.success("Product created successfully!"),n}catch(t){const e=t.message||"Failed to create product";throw rs.error(e),new Error(e)}}))}uploadProductImage(e,t,n=0){return y(this,null,(function*(){try{if(!e.type.startsWith("image/"))throw new Error("Please select an image file");if(e.size>5242880)throw new Error("Image size must be less than 5MB");const r=new FormData;r.append("file",e),r.append("parent_local_id",t),r.append("parent_id",n.toString()),r.append("type","Product"),r.append("parent_endpoint","Product");const i=yield ps("post-media-upload",r);return i.data||i}catch(r){const e=r.message||"Failed to upload image";throw rs.error(e),new Error(e)}}))}uploadProductImages(e,t,n=0){return y(this,null,(function*(){try{const i=[];for(let s=0;s<e.length;s++){const a=e[s];try{const e=yield this.uploadProductImage(a,t,n);i.push(e)}catch(r){}}if(0===i.length)throw new Error("Failed to upload any images");return i}catch(r){throw r}}))}getMyProducts(e){return y(this,null,(function*(){try{const t={};(null==e?void 0:e.search)&&(t.search=e.search),(null==e?void 0:e.category)&&(t.category=e.category),void 0!==(null==e?void 0:e.status)&&(t.status=e.status);const n=yield ms("products-1");return Array.isArray(n)?n:n.data||[]}catch(t){const e=t.message||"Failed to fetch products";throw rs.error(e),new Error(e)}}))}deleteProduct(e){return y(this,null,(function*(){try{yield ps("products-delete",{id:e});return rs.success("Product deleted successfully!"),!0}catch(t){const e=t.message||"Failed to delete product";throw rs.error(e),new Error(e)}}))}validateProductData(e){const t={};if(e.name&&0!==e.name.trim().length?e.name.trim().length<3?t.name="Product name must be at least 3 characters":e.name.trim().length>100&&(t.name="Product name must be less than 100 characters"):t.name="Product name is required",e.description&&0!==e.description.trim().length?e.description.trim().length<20?t.description="Description must be at least 20 characters":e.description.trim().length>5e3&&(t.description="Description must be less than 5000 characters"):t.description="Description is required",e.category||(t.category="Category is required"),e.price_1){const n=parseFloat(e.price_1);(isNaN(n)||n<=0)&&(t.price_1="Selling price must be a positive number")}else t.price_1="Selling price is required";if(e.price_2){const n=parseFloat(e.price_2);(isNaN(n)||n<=0)&&(t.price_2="Original price must be a positive number")}else t.price_2="Original price is required";if(e.price_1&&e.price_2){const n=parseFloat(e.price_1),r=parseFloat(e.price_2);!isNaN(n)&&!isNaN(r)&&n>r&&(t.price_1="Selling price should not exceed original price")}return t}formatPrice(e){const t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"UGX 0":`UGX ${t.toLocaleString()}`}calculateDiscount(e,t){const n="string"==typeof e?parseFloat(e):e,r="string"==typeof t?parseFloat(t):t;if(isNaN(n)||isNaN(r)||0===n)return 0;const i=(n-r)/n*100;return Math.round(i)}},zb=()=>{const e=ve(),{id:t}=_e(),{user:n}=B((e=>e.auth)),r=M.useRef(null),i=!!t;M.useState(!1);const[s,a]=M.useState(!1),[o,l]=M.useState(!1),[c,d]=M.useState(1),[u,h]=M.useState({name:"",description:"",selectedImages:[],imagePreview:[],category:"",category_text:"",price_1:"",price_2:"",has_sizes:"No",has_colors:"No",sizes:"",colors:""}),[f,g]=M.useState([]),[v,x]=M.useState(!1),[b,j]=M.useState(!1),[_,k]=M.useState({}),[S,N]=M.useState(!1),[T,P]=M.useState(!1),[C,E]=M.useState(""),[O]=M.useState((()=>Ib.generateLocalId()));M.useEffect((()=>{A()}),[]);const A=()=>y(void 0,null,(function*(){try{j(!0);g([{id:1,name:"Electronics",description:"Electronic devices",status:1,created_at:"",updated_at:""},{id:2,name:"Fashion",description:"Clothing and accessories",status:1,created_at:"",updated_at:""},{id:3,name:"Home & Garden",description:"Home improvement",status:1,created_at:"",updated_at:""},{id:4,name:"Sports & Outdoors",description:"Sporting goods",status:1,created_at:"",updated_at:""},{id:5,name:"Books",description:"Books and media",status:1,created_at:"",updated_at:""}])}catch(e){rs.error("Failed to load categories")}finally{j(!1)}})),I=e=>{const{name:t,value:n}=e.target;h((e=>m(p({},e),{[t]:n}))),_[t]&&k((e=>m(p({},e),{[t]:""})))},z=M.useCallback((e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?N(!0):"dragleave"===e.type&&N(!1)}),[]),R=M.useCallback((e=>{e.preventDefault(),e.stopPropagation(),N(!1);const t=e.dataTransfer.files;t&&L(Array.from(t))}),[]),L=e=>{const t=e.filter((e=>e.type.startsWith("image/")));if(0===t.length)return void rs.error("Please select image files only");t.filter((e=>e.size>5242880)).length>0&&rs.error("Some images are larger than 5MB and were skipped");const n=t.filter((e=>e.size<=5242880));if(0===n.length)return;const r=[];n.forEach((e=>{const t=new FileReader;t.onloadend=()=>{r.push(t.result),r.length===n.length&&h((e=>m(p({},e),{selectedImages:[...e.selectedImages,...n],imagePreview:[...e.imagePreview,...r]})))},t.readAsDataURL(e)})),rs.success(`Added ${n.length} image(s)`)},D=()=>{P(!1),E("")},F=e=>{const t={};if(1===e&&(u.name.trim()?u.name.trim().length<3&&(t.name="Product name must be at least 3 characters"):t.name="Product name is required",u.description.trim()?u.description.trim().length<20&&(t.description="Description must be at least 20 characters"):t.description="Description is required",0===u.selectedImages.length&&(t.images="At least one product image is required")),2===e&&(u.category||(t.category="Category is required"),(!u.price_1||parseFloat(u.price_1)<=0)&&(t.price_1="Selling price is required"),(!u.price_2||parseFloat(u.price_2)<=0)&&(t.price_2="Original price is required"),u.price_1&&u.price_2)){parseFloat(u.price_1)>parseFloat(u.price_2)&&(t.price_1="Selling price should not exceed original price")}return k(t),0===Object.keys(t).length},V=[{number:1,title:"Basic Info & Photos",icon:w.jsx(Pc,{})},{number:2,title:"Pricing & Category",icon:w.jsx(pc,{})},{number:3,title:"Review & Submit",icon:w.jsx(cc,{})}],U=c/3*100;return w.jsxs("div",{className:"product-post-page",children:[w.jsxs("div",{className:"product-post-container",children:[w.jsxs("div",{className:"product-post-header",children:[w.jsx("h1",{className:"product-post-title",children:i?"Edit Product":"Post New Product"}),w.jsx("p",{className:"product-post-subtitle",children:"Fill in the details to list your product"})]}),w.jsxs("div",{className:"progress-section",children:[w.jsx("div",{className:"progress-bar-container",children:w.jsx("div",{className:"progress-bar-fill",style:{width:`${U}%`}})}),w.jsx("div",{className:"progress-steps",children:V.map((e=>w.jsxs("div",{className:`progress-step ${c>=e.number?"active":""} ${c>e.number?"completed":""}`,children:[w.jsx("div",{className:"step-icon",children:c>e.number?w.jsx(cc,{}):e.icon}),w.jsx("span",{className:"step-title",children:e.title})]},e.number)))})]}),w.jsxs("div",{className:"product-post-form",children:[1===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(Pc,{})," Basic Information & Photos"]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"name",children:["Product Name ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:I,className:_.name?"error":"",placeholder:"Enter product name (e.g., iPhone 13 Pro)",maxLength:100}),_.name&&w.jsx("span",{className:"error-message",children:_.name}),w.jsxs("small",{className:"field-hint",children:[u.name.length,"/100 characters"]})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"description",children:["Description ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:I,className:_.description?"error":"",rows:6,placeholder:"Describe your product in detail... (minimum 20 characters)",maxLength:5e3}),w.jsxs("div",{className:"char-count",children:[u.description.length,"/5000"]}),_.description&&w.jsx("span",{className:"error-message",children:_.description})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{children:["Product Photos ",w.jsx("span",{className:"required",children:"*"})]}),w.jsxs("div",{className:"image-upload-area "+(S?"drag-active":""),onDragEnter:z,onDragLeave:z,onDragOver:z,onDrop:R,onClick:()=>{var e;null==(e=r.current)||e.click()},children:[w.jsx(Fc,{size:48}),w.jsx("h3",{children:"Drag & Drop Images Here"}),w.jsx("p",{children:"or click to browse"}),w.jsx("small",{children:"Supports: JPG, PNG, GIF (Max 5MB each)"})]}),w.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;t&&L(Array.from(t))},style:{display:"none"}}),_.images&&w.jsx("span",{className:"error-message",children:_.images}),u.imagePreview.length>0&&w.jsx("div",{className:"image-preview-grid",children:u.imagePreview.map(((e,t)=>w.jsxs("div",{className:"image-preview-item",onClick:()=>(E(e),void P(!0)),style:{cursor:"pointer"},title:"Click to view full image",children:[w.jsx("img",{src:e,alt:`Product ${t+1}`}),w.jsx("button",{type:"button",className:"remove-image-btn",onClick:e=>{e.stopPropagation(),(e=>{h((t=>m(p({},t),{selectedImages:t.selectedImages.filter(((t,n)=>n!==e)),imagePreview:t.imagePreview.filter(((t,n)=>n!==e))})))})(t)},children:w.jsx(Uc,{})}),0===t&&w.jsx("span",{className:"feature-badge",children:"Feature Photo"})]},t)))}),w.jsxs("small",{className:"field-hint",children:[u.selectedImages.length," image(s) selected. First image will be the feature photo."]})]})]}),2===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(pc,{})," Pricing & Category"]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"category",children:["Category ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("div",{className:"category-selector "+(_.category?"error":""),onClick:()=>x(!0),children:u.category_text?w.jsxs("div",{className:"selected-category",children:[w.jsx(Mc,{}),w.jsx("span",{children:u.category_text})]}):w.jsxs("div",{className:"category-placeholder",children:[w.jsx(Mc,{}),w.jsx("span",{children:"Select a category"})]})}),_.category&&w.jsx("span",{className:"error-message",children:_.category})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"price_1",children:["Selling Price (UGX) ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"number",id:"price_1",name:"price_1",value:u.price_1,onChange:I,className:_.price_1?"error":"",placeholder:"10000",min:"0",step:"1000"}),_.price_1&&w.jsx("span",{className:"error-message",children:_.price_1})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{htmlFor:"price_2",children:["Original Price (UGX) ",w.jsx("span",{className:"required",children:"*"})]}),w.jsx("input",{type:"number",id:"price_2",name:"price_2",value:u.price_2,onChange:I,className:_.price_2?"error":"",placeholder:"15000",min:"0",step:"1000"}),_.price_2&&w.jsx("span",{className:"error-message",children:_.price_2}),w.jsx("small",{className:"field-hint",children:"For discount calculations"})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"has_sizes",children:"Has Size Options?"}),w.jsxs("select",{id:"has_sizes",name:"has_sizes",value:u.has_sizes,onChange:e=>h((t=>m(p({},t),{has_sizes:e.target.value}))),children:[w.jsx("option",{value:"No",children:"No"}),w.jsx("option",{value:"Yes",children:"Yes"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"has_colors",children:"Has Color Options?"}),w.jsxs("select",{id:"has_colors",name:"has_colors",value:u.has_colors,onChange:e=>h((t=>m(p({},t),{has_colors:e.target.value}))),children:[w.jsx("option",{value:"No",children:"No"}),w.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),"Yes"===u.has_sizes&&w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"sizes",children:"Available Sizes"}),w.jsx("input",{type:"text",id:"sizes",name:"sizes",value:u.sizes,onChange:I,placeholder:"e.g., S, M, L, XL"}),w.jsx("small",{className:"field-hint",children:"Separate with commas"})]}),"Yes"===u.has_colors&&w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"colors",children:"Available Colors"}),w.jsx("input",{type:"text",id:"colors",name:"colors",value:u.colors,onChange:I,placeholder:"e.g., Red, Blue, Black"}),w.jsx("small",{className:"field-hint",children:"Separate with commas"})]})]}),3===c&&w.jsxs("div",{className:"form-step active",children:[w.jsxs("h2",{className:"step-heading",children:[w.jsx(cc,{})," Review Your Product"]}),w.jsxs("div",{className:"review-section",children:[w.jsxs("div",{className:"review-card",children:[w.jsx("h3",{children:"Product Details"}),w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Name:"}),w.jsx("span",{children:u.name})]}),w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Description:"}),w.jsx("span",{children:u.description})]}),w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Category:"}),w.jsx("span",{children:u.category_text})]})]}),w.jsxs("div",{className:"review-card",children:[w.jsx("h3",{children:"Pricing"}),w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Selling Price:"}),w.jsxs("span",{children:["UGX ",parseFloat(u.price_1).toLocaleString()]})]}),w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Original Price:"}),w.jsxs("span",{children:["UGX ",parseFloat(u.price_2).toLocaleString()]})]}),parseFloat(u.price_2)>parseFloat(u.price_1)&&w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Discount:"}),w.jsxs("span",{className:"discount-badge",children:[Ib.calculateDiscount(u.price_2,u.price_1),"% OFF"]})]})]}),w.jsxs("div",{className:"review-card",children:[w.jsxs("h3",{children:["Product Photos (",u.selectedImages.length,")"]}),w.jsx("div",{className:"review-images",children:u.imagePreview.map(((e,t)=>w.jsx("img",{src:e,alt:`Product ${t+1}`},t)))})]}),("Yes"===u.has_sizes||"Yes"===u.has_colors)&&w.jsxs("div",{className:"review-card",children:[w.jsx("h3",{children:"Options"}),"Yes"===u.has_sizes&&w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Sizes:"}),w.jsx("span",{children:u.sizes||"Not specified"})]}),"Yes"===u.has_colors&&w.jsxs("div",{className:"review-item",children:[w.jsx("strong",{children:"Colors:"}),w.jsx("span",{children:u.colors||"Not specified"})]})]})]})]}),w.jsxs("div",{className:"form-navigation",children:[c>1&&w.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d((e=>Math.max(e-1,1))),window.scrollTo({top:0,behavior:"smooth"})},disabled:s,children:[w.jsx(rc,{})," Previous"]}),c<3&&w.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{F(c)?(d((e=>Math.min(e+1,3))),window.scrollTo({top:0,behavior:"smooth"})):rs.error("Please fix the errors before proceeding")},children:["Next ",w.jsx(ic,{})]}),3===c&&w.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>y(void 0,null,(function*(){if(F(c)){a(!0);try{l(!0);yield Ib.uploadProductImages(u.selectedImages,O,0);l(!1);const r={name:u.name.trim(),description:u.description.trim(),category:u.category,price_1:u.price_1,price_2:u.price_2,p_type:"No",has_sizes:u.has_sizes,has_colors:u.has_colors,sizes:u.sizes,colors:u.colors,local_id:O,is_edit:i?"Yes":"No",url:(null==n?void 0:n.url)||""};i&&t&&(r.id=parseInt(t));yield Ib.createProduct(r);rs.success("Product created successfully!"),setTimeout((()=>{e("/account/products")}),1e3)}catch(r){l(!1)}finally{a(!1)}}else rs.error("Please fix the errors before submitting")})),disabled:s||o,children:s?w.jsxs(w.Fragment,{children:[w.jsx(wc,{className:"spinner-icon"}),o?"Uploading Images...":"Creating Product..."]}):w.jsxs(w.Fragment,{children:[i?"Update Product":"Create Product"," ",w.jsx(cc,{})]})})]})]})]}),v&&w.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:w.jsxs("div",{className:"modal-content category-picker-modal",onClick:e=>e.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h3",{children:"Select Category"}),w.jsx("button",{onClick:()=>x(!1),className:"modal-close-btn",children:w.jsx(Uc,{})})]}),w.jsx("div",{className:"modal-body",children:b?w.jsxs("div",{className:"loading-categories",children:[w.jsx(wc,{className:"spinner-icon"}),w.jsx("p",{children:"Loading categories..."})]}):w.jsx("div",{className:"category-list",children:f.map((e=>w.jsxs("div",{className:"category-item "+(u.category===e.id.toString()?"selected":""),onClick:()=>(e=>{h((t=>m(p({},t),{category:e.id.toString(),category_text:e.name}))),x(!1),_.category&&k((e=>m(p({},e),{category:""})))})(e),children:[w.jsx(Mc,{}),w.jsxs("div",{className:"category-info",children:[w.jsx("strong",{children:e.name}),e.description&&w.jsx("small",{children:e.description})]}),u.category===e.id.toString()&&w.jsx(cc,{className:"check-icon"})]},e.id)))})})]})}),T&&w.jsxs("div",{className:"image-viewer-overlay",onClick:D,children:[w.jsx("button",{className:"image-viewer-close",onClick:D,"aria-label":"Close",children:w.jsx(Uc,{size:32})}),w.jsx("div",{className:"image-viewer-content",onClick:e=>e.stopPropagation(),children:w.jsx("img",{src:C,alt:"Product",className:"viewer-image"})})]})]})};function Rb(e){const t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"UGX 0":`UGX ${t.toLocaleString()}`}const Lb=()=>{const e=ve(),{user:t}=B((e=>e.auth)),[n,r]=M.useState([]),[i,s]=M.useState([]),[a,o]=M.useState(!0),[l,c]=M.useState("grid"),[d,u]=M.useState(""),[h,p]=M.useState(""),[m,f]=M.useState(!1),[g,v]=M.useState(null),[x,b]=M.useState(!1),[j,_]=M.useState(!1),[k,S]=M.useState("");M.useEffect((()=>{N()}),[]),M.useEffect((()=>{T()}),[d,h,n]);const N=()=>y(void 0,null,(function*(){try{o(!0);const e=(yield Ib.getMyProducts()).filter((e=>e.user===(null==t?void 0:t.id)));r(e)}catch(e){}finally{o(!1)}})),T=()=>{let e=[...n];if(d.trim()){const t=d.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))}h&&(e=e.filter((e=>e.category===h))),s(e)},P=e=>{v(e),f(!0)},C=t=>{e(`/account/products/edit/${t}`)},E=e=>{S(e),_(!0)},O=()=>{_(!1),S("")},A=Array.from(new Set(n.map((e=>e.category)))).filter(Boolean);return w.jsxs("div",{className:"my-products-page",children:[w.jsxs("div",{className:"my-products-container",children:[w.jsxs("div",{className:"my-products-header",children:[w.jsxs("div",{className:"header-left",children:[w.jsxs("h1",{className:"page-title",children:[w.jsx(Rc,{})," My Products"]}),w.jsxs("p",{className:"page-subtitle",children:[n.length," product",1!==n.length?"s":""]})]}),w.jsxs(ye,{to:"/account/products/new",className:"btn btn-primary",children:[w.jsx(Oc,{})," Add Product"]})]}),w.jsxs("div",{className:"products-toolbar",children:[w.jsxs("div",{className:"search-box",children:[w.jsx(Ic,{}),w.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:e=>u(e.target.value)})]}),A.length>0&&w.jsxs("div",{className:"filter-box",children:[w.jsx(gc,{}),w.jsxs("select",{value:h,onChange:e=>p(e.target.value),children:[w.jsx("option",{value:"",children:"All Categories"}),A.map((e=>w.jsxs("option",{value:e,children:["Category ",e]},e)))]})]}),w.jsxs("div",{className:"view-toggle",children:[w.jsx("button",{className:"view-btn "+("grid"===l?"active":""),onClick:()=>c("grid"),title:"Grid View",children:w.jsx(vc,{})}),w.jsx("button",{className:"view-btn "+("list"===l?"active":""),onClick:()=>c("list"),title:"List View",children:w.jsx(jc,{})})]})]}),a&&w.jsxs("div",{className:"loading-state",children:[w.jsx(wc,{className:"spinner-icon"}),w.jsx("p",{children:"Loading products..."})]}),!a&&0===n.length&&w.jsxs("div",{className:"empty-state",children:[w.jsx(Pc,{size:64}),w.jsx("h2",{children:"No Products Yet"}),w.jsx("p",{children:"Start selling by adding your first product"}),w.jsxs(ye,{to:"/account/products/new",className:"btn btn-primary",children:[w.jsx(Oc,{})," Add Your First Product"]})]}),!a&&n.length>0&&0===i.length&&w.jsxs("div",{className:"empty-state",children:[w.jsx(Ic,{size:64}),w.jsx("h2",{children:"No Products Found"}),w.jsx("p",{children:"Try adjusting your search or filters"}),w.jsx("button",{className:"btn btn-secondary",onClick:()=>{u(""),p("")},children:"Clear Filters"})]}),!a&&i.length>0&&w.jsx("div",{className:`products-${l}`,children:i.map((e=>w.jsx(Mb,{product:e,viewMode:l,onEdit:C,onDelete:P,onImageClick:E},e.id)))})]}),m&&g&&w.jsx("div",{className:"modal-overlay",onClick:()=>!x&&f(!1),children:w.jsxs("div",{className:"modal-content delete-modal",onClick:e=>e.stopPropagation(),children:[w.jsx("div",{className:"modal-header",children:w.jsx("h3",{children:"Delete Product"})}),w.jsx("div",{className:"modal-body",children:w.jsxs("div",{className:"delete-warning",children:[w.jsx(nc,{size:48}),w.jsxs("p",{children:["Are you sure you want to delete ",w.jsx("strong",{children:g.name}),"?"]}),w.jsx("p",{className:"warning-text",children:"This action cannot be undone."})]})}),w.jsxs("div",{className:"modal-footer",children:[w.jsx("button",{className:"btn btn-secondary",onClick:()=>f(!1),disabled:x,children:"Cancel"}),w.jsx("button",{className:"btn btn-danger",onClick:()=>y(void 0,null,(function*(){if(g)try{b(!0),yield Ib.deleteProduct(g.id),r((e=>e.filter((e=>e.id!==g.id)))),f(!1),v(null)}catch(e){}finally{b(!1)}})),disabled:x,children:x?w.jsxs(w.Fragment,{children:[w.jsx(wc,{className:"spinner-icon"})," Deleting..."]}):w.jsxs(w.Fragment,{children:[w.jsx(Dc,{})," Delete Product"]})})]})]})}),j&&w.jsxs("div",{className:"image-viewer-overlay",onClick:O,children:[w.jsx("button",{className:"image-viewer-close",onClick:O,"aria-label":"Close",children:w.jsx(Uc,{size:32})}),w.jsx("div",{className:"image-viewer-content",onClick:e=>e.stopPropagation(),children:w.jsx("img",{src:k,alt:"Product",className:"viewer-image"})})]})]})},Mb=({product:e,viewMode:t,onEdit:n,onDelete:r,onImageClick:i})=>{const s=function(e,t){const n="string"==typeof e?parseFloat(e):e,r="string"==typeof t?parseFloat(t):t;if(isNaN(n)||isNaN(r)||0===n)return 0;const i=(n-r)/n*100;return Math.round(i)}(e.price_2,e.price_1),a=function(e){switch(e){case 0:return"#FFA500";case 1:return"#10B981";case 2:return"#EF4444";default:return"#6B7280"}}(e.status),o=function(e){switch(e){case 0:return"Pending Approval";case 1:return"Approved";case 2:return"Rejected";default:return"Unknown"}}(e.status);return"list"===t?w.jsxs("div",{className:"product-card list-view",children:[w.jsxs("div",{className:"product-image",onClick:()=>i&&i(ts.img(e.feature_photo)),style:{cursor:i?"pointer":"default"},title:"Click to view full image",children:[w.jsx("img",{src:ts.img(e.feature_photo),alt:e.name}),s>0&&w.jsxs("span",{className:"discount-badge",children:[s,"% OFF"]})]}),w.jsxs("div",{className:"product-info",children:[w.jsx("h3",{className:"product-name",children:e.name}),w.jsxs("p",{className:"product-description",children:[e.description.substring(0,100),"..."]}),w.jsxs("div",{className:"product-meta",children:[w.jsx("span",{className:"product-status",style:{color:a},children:o}),w.jsx("span",{className:"product-stock",children:1===e.in_stock?"In Stock":"Out of Stock"})]})]}),w.jsx("div",{className:"product-pricing",children:w.jsxs("div",{className:"price-display",children:[w.jsx("span",{className:"selling-price",children:Rb(e.price_1)}),s>0&&w.jsx("span",{className:"original-price",children:Rb(e.price_2)})]})}),w.jsxs("div",{className:"product-actions",children:[w.jsxs("button",{className:"action-btn edit-btn",onClick:()=>n(e.id),title:"Edit",children:[w.jsx(mc,{})," Edit"]}),w.jsx("button",{className:"action-btn delete-btn",onClick:()=>r(e),title:"Delete",children:w.jsx(Dc,{})})]})]}):w.jsxs("div",{className:"product-card grid-view",children:[w.jsxs("div",{className:"product-image",onClick:()=>i&&i(ts.img(e.feature_photo)),style:{cursor:i?"pointer":"default"},title:"Click to view full image",children:[w.jsx("img",{src:ts.img(e.feature_photo),alt:e.name}),s>0&&w.jsxs("span",{className:"discount-badge",children:[s,"% OFF"]}),w.jsx("span",{className:"status-badge",style:{backgroundColor:a},children:o})]}),w.jsxs("div",{className:"product-content",children:[w.jsx("h3",{className:"product-name",children:e.name}),w.jsxs("p",{className:"product-description",children:[e.description.substring(0,80),"..."]}),w.jsxs("div",{className:"product-footer",children:[w.jsxs("div",{className:"price-display",children:[w.jsx("span",{className:"selling-price",children:Rb(e.price_1)}),s>0&&w.jsx("span",{className:"original-price",children:Rb(e.price_2)})]}),w.jsxs("div",{className:"product-actions",children:[w.jsx("button",{className:"action-btn edit-btn",onClick:()=>n(e.id),title:"Edit",children:w.jsx(mc,{})}),w.jsx("button",{className:"action-btn delete-btn",onClick:()=>r(e),title:"Delete",children:w.jsx(Dc,{})})]})]})]})]})};function Db(e){if(!e)return 0;try{const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const i=n.getMonth()-t.getMonth();return(i<0||0===i&&n.getDate()<t.getDate())&&r--,r}catch(Yj){return 0}}function Fb(e){switch(null==e?void 0:e.toLowerCase()){case"male":return"♂";case"female":return"♀";default:return"⚥"}}class Bb{static getUsersList(){return y(this,arguments,(function*(e={},t=1,n=20){try{const r={page:t.toString(),per_page:n.toString()};e.search&&(r.search=e.search),e.sex&&(r.sex=e.sex),e.country&&(r.country=e.country),e.city&&(r.city=e.city),e.age_min&&(r.age_min=e.age_min.toString()),e.age_max&&(r.age_max=e.age_max.toString()),e.online_only&&(r.online_only="yes"),e.email_verified&&(r.email_verified="yes"),e.status&&(r.status=e.status),e.sort_by&&(r.sort_by=e.sort_by),e.sort_dir&&(r.sort_dir=e.sort_dir);const i=yield ms("users-list",r);if(1!==i.code)throw new Error(i.message||"Failed to fetch users");const s=i.data;return{users:s.data.map((e=>this.mapToConnectUser(e))),pagination:{currentPage:s.current_page,lastPage:s.last_page,total:s.total,perPage:s.per_page,hasMore:null!==s.next_page_url,from:s.from,to:s.to}}}catch(r){throw new Error(r.message||"Failed to load users")}}))}static getUserProfile(e){return y(this,null,(function*(){var t,n;try{const r=yield ms("dynamic-list",{model:"User",id:e.toString(),per_page:"1"});if(1!==r.code)throw new Error(r.message||"Failed to fetch user profile");const i=(null==(n=null==(t=r.data)?void 0:t.items)?void 0:n[0])||r.data;if(!i)throw new Error("User not found");return this.mapToConnectUser(i)}catch(r){throw new Error(r.message||"Failed to load user profile")}}))}static updateMyProfile(e){return y(this,null,(function*(){try{const t=yield ps("dynamic-save",p({model:"User"},e));if(1!==t.code)throw new Error(t.message||"Failed to update profile")}catch(t){throw new Error(t.message||"Failed to update profile")}}))}static startChat(e){return y(this,null,(function*(){try{const t=yield ps("chat-start",{receiver_id:e.receiverId.toString()});if(1!==t.code)throw new Error(t.message||"Failed to start chat");return{chatId:t.data.id||t.data.chat_thread_id}}catch(t){throw new Error(t.message||"Failed to start chat")}}))}static blockUser(e){return y(this,null,(function*(){try{const t=yield ps("moderation/block-user",{blocked_user_id:e.blockedUserId,reason:e.reason||"No reason provided"});if(1!==t.code)throw new Error(t.message||"Failed to block user")}catch(t){throw new Error(t.message||"Failed to block user")}}))}static unblockUser(e){return y(this,null,(function*(){try{const t=yield ps("moderation/unblock-user",{blocked_user_id:e});if(1!==t.code)throw new Error(t.message||"Failed to unblock user")}catch(t){throw new Error(t.message||"Failed to unblock user")}}))}static getBlockedUsers(){return y(this,null,(function*(){try{const e=yield ms("moderation/blocked-users");if(1!==e.code)throw new Error(e.message||"Failed to fetch blocked users");return e.data.map((e=>this.mapToConnectUser(e)))}catch(e){throw new Error(e.message||"Failed to load blocked users")}}))}static reportUser(e){return y(this,null,(function*(){try{const t=yield ps("moderation/report-content",{content_type:e.contentType,content_id:e.contentId,reason:e.reason,details:e.details||""});if(1!==t.code)throw new Error(t.message||"Failed to report user")}catch(t){throw new Error(t.message||"Failed to report user")}}))}static searchUsers(e,t=1,n=20){return y(this,null,(function*(){return this.getUsersList({search:e},t,n)}))}static getOnlineUsers(e=1,t=20){return y(this,null,(function*(){return this.getUsersList({online_only:!0},e,t)}))}static getVerifiedUsers(e=1,t=20){return y(this,null,(function*(){return this.getUsersList({email_verified:!0},e,t)}))}static getUsersByLocation(e,t,n=1,r=20){return y(this,null,(function*(){const i={country:e};return t&&(i.city=t),this.getUsersList(i,n,r)}))}static getUsersByAgeRange(e,t,n=1,r=20){return y(this,null,(function*(){return this.getUsersList({age_min:e,age_max:t},n,r)}))}static getUsersByGender(e,t=1,n=20){return y(this,null,(function*(){return this.getUsersList({sex:e},t,n)}))}static mapToConnectUser(e){const t=function(e){if(Array.isArray(e))return e;if(!e)return[];try{return JSON.parse(e)}catch(Yj){return[]}}(e.profile_photos||"");return{id:e.id,username:e.username||"",name:e.name||"",email:e.email||"",avatar:e.avatar||"",first_name:e.first_name||"",last_name:e.last_name||"",phone_number:e.phone_number||"",phone_number_2:e.phone_number_2||"",sex:e.sex||"",dob:e.dob||"",age:Db(e.dob||""),bio:e.bio||"",tagline:e.tagline||"",profile_photos:t,height_cm:e.height_cm||"",body_type:e.body_type||"",sexual_orientation:e.sexual_orientation||"",country:e.country||"",state:e.state||"",city:e.city||"",latitude:e.latitude||"",longitude:e.longitude||"",address:e.address||"",phone_country_name:e.phone_country_name||"",phone_country_code:e.phone_country_code||"",phone_country_international:e.phone_country_international||"",looking_for:e.looking_for||"",interested_in:e.interested_in||"",age_range_min:e.age_range_min||"",age_range_max:e.age_range_max||"",max_distance_km:e.max_distance_km||"",smoking_habit:e.smoking_habit||"",drinking_habit:e.drinking_habit||"",pet_preference:e.pet_preference||"",religion:e.religion||"",political_views:e.political_views||"",languages_spoken:e.languages_spoken||"",education_level:e.education_level||"",occupation:e.occupation||"",email_verified:e.email_verified||"no",phone_verified:e.phone_verified||"no",verification_code:e.verification_code||"",status:e.status||"",isVerified:"yes"===e.email_verified,last_online_at:e.last_online_at||"",online_status:e.online_status||"",isOnline:(n=e.online_status||"","online"===(null==n?void 0:n.toLowerCase())),subscription_tier:e.subscription_tier||"",subscription_expires:e.subscription_expires||"",credits_balance:e.credits_balance||"0",profile_views:e.profile_views||"0",likes_received:e.likes_received||"0",matches_count:e.matches_count||"0",completed_profile_pct:e.completed_profile_pct||"0",failed_login_attempts:e.failed_login_attempts||"0",last_password_change:e.last_password_change||"",secret_code:e.secret_code||"",company_id:e.company_id||"",remember_token:e.remember_token||"",created_at:e.created_at||"",updated_at:e.updated_at||""};var n}static buildQueryString(e){return Object.entries(e).filter((([,e])=>void 0!==e&&""!==e)).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}}const Vb=({isOnline:e,size:t="small",showText:n=!1,className:r=""})=>{if(!e&&!n)return null;const i=`online-indicator-${t}`;return n?w.jsxs("span",{className:`online-indicator-badge ${r}`,children:[w.jsx("span",{className:"online-dot "+(e?"online":"offline")}),w.jsx("span",{className:"online-text",children:e?"Online Now":"Offline"})]}):w.jsx("span",{className:`online-indicator ${i} ${e?"online":"offline"} ${r}`,"aria-label":e?"Online":"Offline"})},Ub=({isVerified:e,size:t=16,className:n=""})=>e?w.jsx("span",{className:`verified-badge ${n}`,"aria-label":"Verified user",children:w.jsx(lc,{size:t})}):null,qb=e=>{const t=[{bg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",text:"#333333"},{bg:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",text:"#333333"},{bg:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%)",text:"#333333"},{bg:"linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%)",text:"#333333"},{bg:"linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%)",text:"#ffffff"},{bg:"linear-gradient(135deg, #00b894 0%, #00cec9 100%)",text:"#ffffff"}];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n),n|=0;return t[Math.abs(n)%t.length].bg},$b=({name:e,avatar:t,size:n="medium",isOnline:r=!1,className:i=""})=>{const[s,a]=M.useState(!1),[o,l]=M.useState(!0),c=t&&!s,d=t?za(t):null,u=(e=>{if(!e)return"?";const t=e.trim().split(/\s+/);return 1===t.length?t[0].substring(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()})(e),h=qb(e),p=(e=>{const t=qb(e);return["linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)","linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)","linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%)","linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%)"].includes(t)?"#333333":"#ffffff"})(e);return w.jsx("div",{className:`user-avatar user-avatar-${n} ${i}`,children:w.jsxs("div",{className:"user-avatar-wrapper",children:[c&&d?w.jsxs(w.Fragment,{children:[w.jsx("img",{src:d,alt:e,className:"user-avatar-image "+(o?"loading":"loaded"),onError:()=>{a(!0),l(!1)},onLoad:()=>{l(!1)}}),o&&w.jsx("div",{className:"user-avatar-placeholder",style:{background:h},children:w.jsx("span",{style:{color:p},children:u})})]}):w.jsx("div",{className:"user-avatar-placeholder",style:{background:h},children:w.jsx("span",{style:{color:p},children:u})}),r&&w.jsx("div",{className:"user-avatar-online-dot",children:w.jsx("div",{className:"online-pulse"})})]})})},Wb=({user:e,variant:t="list",onChatClick:n,onLikeClick:r,className:i=""})=>{const s=ve(),a=()=>{s(`/connect/profile/${e.id}`)},o=t=>{t.stopPropagation(),null==n||n(e)},l=e.name||e.username,c=[e.city,e.state].filter(Boolean).join(", ")||e.country;return"list"===t?w.jsxs("div",{className:`user-card user-card-list ${i}`,onClick:a,children:[w.jsx($b,{name:l,avatar:e.avatar,size:"medium",isOnline:e.isOnline,className:"user-card-avatar-wrapper"}),w.jsxs("div",{className:"user-card-content",children:[w.jsxs("div",{className:"user-card-header",children:[w.jsxs("h3",{className:"user-card-name",children:[l,e.isVerified&&w.jsx(Ub,{isVerified:!0,size:16})]}),w.jsx("span",{className:"user-card-age",children:e.age&&e.age>=10?`${e.age} yrs`:"N/A"})]}),w.jsxs("div",{className:"user-card-details",children:[w.jsxs("span",{className:"user-card-info-item",children:[w.jsx(Bc,{size:12}),e.occupation||"Not specified"]}),w.jsxs("span",{className:"user-card-info-item",children:[w.jsx(Sc,{size:12}),c||"Location not set"]})]}),e.tagline&&w.jsx("div",{className:"user-card-tagline",children:e.tagline})]}),w.jsx("div",{className:"user-card-actions",children:w.jsx("button",{className:"action-btn chat-btn",onClick:o,"aria-label":"Send message",children:w.jsx(Tc,{size:18})})})]}):"grid"===t?w.jsxs("div",{className:`user-card user-card-grid ${i}`,onClick:a,children:[w.jsxs("div",{className:"user-card-image-container",children:[w.jsx($b,{name:l,avatar:e.avatar,size:"xlarge",isOnline:e.isOnline,className:"user-card-grid-avatar"}),w.jsx("div",{className:"user-card-gradient"}),w.jsxs("div",{className:"user-card-overlay-content",children:[w.jsxs("div",{className:"user-card-name-row",children:[w.jsx("span",{className:"user-name",children:l}),e.isVerified&&w.jsx(Ub,{isVerified:!0,size:14})]}),w.jsx("span",{className:"user-age-badge",children:e.age&&e.age>=10?`${e.age} yrs`:"N/A"})]})]}),w.jsxs("div",{className:"user-card-info",children:[w.jsxs("div",{className:"info-row",children:[w.jsx(Sc,{size:12}),w.jsx("span",{children:c||"Location not set"})]}),w.jsxs("div",{className:"info-row",children:[w.jsx(Bc,{size:12}),w.jsx("span",{children:e.occupation||"Not specified"})]})]})]}):w.jsxs("div",{className:`user-card user-card-swipe ${i}`,children:[w.jsxs("div",{className:"swipe-card-image-container",children:[w.jsx($b,{name:l,avatar:e.avatar,size:"xlarge",isOnline:e.isOnline,className:"swipe-card-avatar"}),w.jsx("div",{className:"swipe-card-gradient"}),w.jsxs("div",{className:"swipe-card-content",children:[w.jsxs("div",{className:"swipe-card-header",children:[w.jsxs("h2",{className:"swipe-card-name",children:[l,e.isVerified&&w.jsx(Ub,{isVerified:!0,size:20})]}),w.jsx("span",{className:"swipe-card-age",children:e.age&&e.age>=10?e.age:"N/A"})]}),e.tagline&&w.jsx("p",{className:"swipe-card-tagline",children:e.tagline}),w.jsxs("div",{className:"swipe-card-details",children:[w.jsxs("div",{className:"detail-item",children:[w.jsx(Sc,{size:16}),w.jsx("span",{children:c||"Location not set"})]}),w.jsxs("div",{className:"detail-item",children:[w.jsx(Bc,{size:16}),w.jsx("span",{children:e.occupation||"Not specified"})]})]}),e.isOnline&&w.jsx(Vb,{isOnline:!0,showText:!0,size:"medium"})]})]}),w.jsxs("div",{className:"swipe-card-actions",children:[w.jsx("button",{className:"swipe-action-btn pass-btn",onClick:e=>{e.stopPropagation()},"aria-label":"Pass",children:"✕"}),w.jsx("button",{className:"swipe-action-btn info-btn",onClick:a,"aria-label":"View profile",children:w.jsx(Bc,{size:24})}),w.jsx("button",{className:"swipe-action-btn like-btn",onClick:t=>{t.stopPropagation(),null==r||r(e)},"aria-label":"Like",children:w.jsx(xc,{size:24})})]})]})},Hb=()=>{const e=ve(),[t,n]=we(),r=parseInt(t.get("page")||"1",10),i=(()=>{const e=t.get("sort_by"),n={sort_by:e&&["last_online_at","name","created_at","updated_at"].includes(e)?e:"last_online_at",sort_dir:t.get("sort_dir")||"desc"};return t.get("search")&&(n.search=t.get("search")),t.get("sex")&&(n.sex=t.get("sex")),"yes"===t.get("online_only")&&(n.online_only=!0),"yes"===t.get("email_verified")&&(n.email_verified=!0),t.get("country")&&(n.country=t.get("country")),t.get("city")&&(n.city=t.get("city")),t.get("age_min")&&(n.age_min=parseInt(t.get("age_min"))),t.get("age_max")&&(n.age_max=parseInt(t.get("age_max"))),t.get("status")&&(n.status=t.get("status")),n})(),[s,a]=M.useState([]),[o,l]=M.useState(!0),[c,d]=M.useState(r),[u,h]=M.useState(1),[f,g]=M.useState(0),[v,x]=M.useState(!1),[b,j]=M.useState(i.search||""),[_,k]=M.useState(i),[S,N]=M.useState(i),T=M.useCallback(((e,t)=>{const r={page:t.toString()};e.search&&(r.search=e.search),e.sex&&(r.sex=e.sex),e.online_only&&(r.online_only="yes"),e.email_verified&&(r.email_verified="yes"),e.country&&(r.country=e.country),e.city&&(r.city=e.city),e.age_min&&(r.age_min=e.age_min.toString()),e.age_max&&(r.age_max=e.age_max.toString()),e.status&&(r.status=e.status),e.sort_by&&(r.sort_by=e.sort_by),e.sort_dir&&(r.sort_dir=e.sort_dir),n(r)}),[n]),P=M.useCallback(((e,t)=>y(void 0,null,(function*(){try{l(!0);const n=yield Bb.getUsersList(t,e,20);a(n.users),d(e),h(n.pagination.lastPage),g(n.pagination.total),T(t,e)}catch(n){rs.error("Failed to load users")}finally{l(!1)}}))),[T]);M.useEffect((()=>{P(r,i)}),[]),M.useEffect((()=>{if(b===(_.search||""))return;const e=setTimeout((()=>{const e=m(p({},_),{search:b||void 0});k(e),N(e),P(1,e)}),500);return()=>clearTimeout(e)}),[b]);const C=(e,t)=>{N((n=>{const r=p({},n);return r[e]===t?delete r[e]:r[e]=t,r}))},E=()=>{let e=0;return _.sex&&e++,_.online_only&&e++,_.email_verified&&e++,_.country&&e++,_.city&&e++,_.age_min&&e++,_.age_max&&e++,_.status&&e++,e},O=t=>{e(`/account/chats?userId=${t.id}`)};return w.jsxs("div",{className:"connect-discover",children:[w.jsxs("div",{className:"connect-header",children:[w.jsxs("div",{className:"header-left",children:[w.jsx("h1",{className:"connect-title",children:"Connect"}),w.jsx("span",{className:"user-count",children:f>0?`${f} users`:`${s.length} users`})]}),w.jsxs("div",{className:"header-actions",children:[w.jsxs("div",{className:"search-box",children:[w.jsx(Ic,{className:"search-icon"}),w.jsx("input",{type:"text",placeholder:"Search users...",value:b,onChange:e=>j(e.target.value),className:"search-input"}),b&&w.jsx("button",{className:"clear-search",onClick:()=>{j("");const e=p({},_);delete e.search,k(e),N(e),P(1,e)},children:w.jsx(Uc,{})})]}),w.jsxs("button",{className:"filters-btn "+(v?"active":""),onClick:()=>x(!v),children:[w.jsx(gc,{}),w.jsx("span",{children:"Filters"}),E()>0&&w.jsx("span",{className:"filter-badge",children:E()})]})]})]}),v&&w.jsx("div",{className:"filters-panel",children:w.jsxs("div",{className:"filters-content",children:[w.jsxs("div",{className:"filter-group",children:[w.jsx("label",{className:"filter-label",children:"Status"}),w.jsxs("div",{className:"filter-buttons",children:[w.jsx("button",{className:"filter-chip "+(S.online_only?"active":""),onClick:()=>C("online_only",!0),children:"Online Only"}),w.jsx("button",{className:"filter-chip "+(S.email_verified?"active":""),onClick:()=>C("email_verified",!0),children:"Verified Only"})]})]}),w.jsxs("div",{className:"filter-group",children:[w.jsx("label",{className:"filter-label",children:"Gender"}),w.jsxs("div",{className:"filter-buttons",children:[w.jsx("button",{className:"filter-chip "+("male"===S.sex?"active":""),onClick:()=>C("sex","male"),children:"Male"}),w.jsx("button",{className:"filter-chip "+("female"===S.sex?"active":""),onClick:()=>C("sex","female"),children:"Female"})]})]}),w.jsxs("div",{className:"filter-actions",children:[w.jsx("button",{className:"clear-filters-btn",onClick:()=>{const e={sort_by:"last_online_at",sort_dir:"desc"};N(e),k(e),j(""),P(1,e)},children:"Clear All Filters"}),w.jsx("button",{className:"apply-filters-btn",onClick:()=>{k(S),P(1,S),x(!1)},children:"Apply Filters"})]})]})}),w.jsx("div",{className:"connect-content",children:o?w.jsxs("div",{className:"loading-state",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{children:"Finding amazing people..."})]}):0===s.length?w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-icon",children:"🔍"}),w.jsx("h3",{children:"No users found"}),w.jsx("p",{children:"Try adjusting your filters or search criteria"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"grid-view",children:s.map((e=>w.jsx(Wb,{user:e,variant:"grid",onChatClick:O},e.id)))}),u>1&&w.jsxs("div",{className:"pagination",children:[w.jsxs("button",{className:"pagination-btn",onClick:()=>{c>1&&(P(c-1,_),window.scrollTo({top:0,behavior:"smooth"}))},disabled:1===c,children:[w.jsx(dc,{}),"Previous"]}),w.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(u,7)},((e,t)=>{let n;return n=u<=7||c<=4?t+1:c>=u-3?u-6+t:c-3+t,w.jsx("button",{className:"pagination-page "+(c===n?"active":""),onClick:()=>(e=>{P(e,_),window.scrollTo({top:0,behavior:"smooth"})})(n),children:n},n)}))}),w.jsxs("button",{className:"pagination-btn",onClick:()=>{c<u&&(P(c+1,_),window.scrollTo({top:0,behavior:"smooth"}))},disabled:c===u,children:["Next",w.jsx(uc,{})]})]})]})})]})};if("undefined"!=typeof document){const e="dynamic-breadcrumb-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent='\n  .dynamic-breadcrumb {\n\n    padding: 12px 0;\n    margin-bottom: 0;\n    position: relative;\n    z-index: 10;\n  }\n\n  .dynamic-breadcrumb.no-background {\n    background: transparent;\n    border-bottom: none;\n    padding: 8px 0;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-nav {\n    margin: 0;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-list {\n    display: flex !important;\n    flex-wrap: wrap;\n    align-items: center;\n    margin: 0 !important;\n    padding: 0 !important;\n    list-style: none !important;\n    font-size: 14px;\n    background: none !important;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-item {\n    display: flex !important;\n    align-items: center;\n    position: relative;\n  }\n\n  /* Override Bootstrap\'s breadcrumb separators completely */\n  .dynamic-breadcrumb .breadcrumb-item::before,\n  .dynamic-breadcrumb .breadcrumb-item::after {\n    display: none !important;\n    content: none !important;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-item + .breadcrumb-item::before {\n    display: none !important;\n    content: none !important;\n  }\n\n  /* Add our own custom separator */\n  .dynamic-breadcrumb .breadcrumb-item:not(:last-child)::after {\n    content: "/" !important;\n    margin: 0 8px !important;\n    color: #6c757d !important;\n    font-weight: normal !important;\n    display: inline !important;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-link {\n    color: #6c757d !important;\n    text-decoration: none !important;\n    transition: color 0.2s ease;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-link:hover {\n    color: #495057 !important;\n    text-decoration: none !important;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-active {\n    color: #495057 !important;\n    font-weight: 500 !important;\n  }\n\n  .dynamic-breadcrumb .breadcrumb-icon {\n    font-size: 14px;\n  }\n\n  /* Responsive Design */\n  @media (max-width: 768px) {\n    .dynamic-breadcrumb {\n      padding: 8px 0;\n      margin-bottom: 0;\n      margin-top: 2rem;\n      height: 3rem;\n      \n    }\n    \n    .dynamic-breadcrumb .breadcrumb-list {\n      font-size: 13px;\n    }\n    \n    .dynamic-breadcrumb .breadcrumb-item:not(:last-child)::after {\n      margin: 0 6px !important;\n    }\n\n    /* Remove default Bootstrap container padding on mobile for tighter spacing */\n    .dynamic-breadcrumb .container {\n      padding-left: 15px;\n      padding-right: 15px;\n    }\n  }\n\n  @media (max-width: 576px) {\n    .dynamic-breadcrumb {\n      padding: 4px 0;\n      margin-bottom: 0;\n    }\n\n    .dynamic-breadcrumb .breadcrumb-list {\n      font-size: 12px;\n    }\n    \n    .dynamic-breadcrumb .breadcrumb-item:not(:last-child)::after {\n      margin: 0 4px !important;\n    }\n\n    /* Further reduce container padding on very small screens */\n    .dynamic-breadcrumb .container {\n      padding-left: 12px;\n      padding-right: 12px;\n    }\n  }\n',document.head.appendChild(t)}}const Qb=({items:e,context:t={},className:n="",showBackground:r=!0,showIcons:i=!0})=>{const s=xe(),[a]=we(),o=e||(()=>{const e=s.pathname.split("/").filter(Boolean),n=[];n.push({label:"Home",href:"/",icon:i?"bi bi-house-door":void 0});for(let r=0;r<e.length;r++){const i=e[r],s=r===e.length-1;switch(i){case"products":if(t.searchTerm)n.push({label:"Products",href:"/products"}),n.push({label:`Search: "${t.searchTerm}"`,isActive:!0});else if(t.selectedCategory&&t.categories){const e=t.categories.find((e=>e.id===t.selectedCategory));e?(n.push({label:"Products",href:"/products"}),n.push({label:e.category,isActive:s})):n.push({label:"Products",isActive:!0})}else n.push({label:"Products",isActive:!0});break;case"product":n.push({label:"Products",href:"/products"}),t.productName?n.push({label:t.productName,isActive:!0}):n.push({label:"Product Details",isActive:!0});break;case"cart":n.push({label:"Shopping Cart",isActive:!0});break;case"checkout":n.push({label:"Cart",href:"/cart"}),n.push({label:"Checkout",isActive:!0});break;case"account":n.push({label:"My Account",href:s?void 0:"/account",isActive:s});break;case"orders":e.includes("account")&&(n.push({label:"My Account",href:"/account"}),n.push({label:"Orders",isActive:!0}));break;case"auth":break;case"search":n.push({label:"Search Results",isActive:!0});break;default:const r=i.replace(/[-_]/g," ").replace(/\b\w/g,(e=>e.toUpperCase()));n.push({label:r,isActive:s})}}if(a.get("search")&&!t.searchTerm){const e=a.get("search");n.push({label:`Search: "${e}"`,isActive:!0})}return n.filter((e=>e.label&&""!==e.label.trim()))})();return w.jsx("div",{className:`dynamic-breadcrumb  ${r?"":"no-background"} ${n}`,children:w.jsx(I,{className:"mx-2",children:w.jsx("nav",{className:"breadcrumb-nav","aria-label":"breadcrumb",children:w.jsx("div",{className:"breadcrumb-list",children:o.map(((e,t)=>w.jsx("div",{className:"breadcrumb-item",children:e.href&&!e.isActive?w.jsxs(ye,{to:e.href,className:"breadcrumb-link","aria-current":e.isActive?"page":void 0,children:[e.icon&&w.jsx("i",{className:`${e.icon} breadcrumb-icon`,"aria-hidden":"true"}),e.label]}):w.jsxs("span",{className:e.isActive?"breadcrumb-active":"breadcrumb-link","aria-current":e.isActive?"page":void 0,children:[e.icon&&w.jsx("i",{className:`${e.icon} breadcrumb-icon`,"aria-hidden":"true"}),e.label]})},t)))})})})})},Kb=()=>{const{userId:e}=_e(),t=ve(),[n,r]=M.useState(null),[i,s]=M.useState(!0),[a,o]=M.useState(!1),[l,c]=M.useState(""),[d,u]=M.useState(!1);M.useEffect((()=>{e&&h(parseInt(e))}),[e]);const h=e=>y(void 0,null,(function*(){try{s(!0);const t=yield Bb.getUserProfile(e);r(t)}catch(n){rs.error(n.message||"Failed to load profile"),t("/connect")}finally{s(!1)}})),p=e=>y(void 0,null,(function*(){var r,i;if(n&&!d)try{u(!0);const r=yield bb.startConversation(n.id,e);if(!r||!r.id)throw new Error("Invalid conversation response");{let i=`/account/chats?chatId=${r.id}`;e&&e.trim()&&(i+=`&initialMessage=${encodeURIComponent(e)}`),n&&(i+=`&userName=${encodeURIComponent(n.name)}`,i+=`&userId=${n.id}`),t(i),rs.success("Chat started successfully")}}catch(s){(null==(r=null==s?void 0:s.message)?void 0:r.includes("not found"))?rs.error("Unable to start chat: User not found"):(null==(i=null==s?void 0:s.message)?void 0:i.includes("authenticated"))?(rs.error("Please login to start chat"),t("/auth/login")):rs.error("Failed to start chat. Please try again.")}finally{u(!1),o(!1)}})),m=()=>{l.trim()&&(o(!1),p(l.trim()),c(""))};if(i)return w.jsxs("div",{className:"profile-loading",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("p",{children:"Loading profile..."})]});if(!n)return w.jsxs("div",{className:"profile-error",children:[w.jsx("h2",{children:"User not found"}),w.jsxs("button",{className:"back-home-btn",onClick:()=>t("/connect"),children:[w.jsx(rc,{})," Back to Connect"]})]});const f=[`Hi ${n.name}! I'd love to connect with you 😊`,"Hey! I saw your profile and thought we might have a lot in common","Hi there! Your profile caught my attention. Would love to chat!",`Hello ${n.name}! I think we'd get along great. Want to talk?`,"Hey! I'm interested in getting to know you better 💬",`Hi ${n.name}! Your profile really stood out to me 🌟`,"Hello! I'd like to get to know you better. How are you today?",`Hey ${n.name}! I noticed we have similar interests. Let's chat!`,"Hi! I'm looking forward to connecting with you 👋",`Hello ${n.name}! I'd love to learn more about you`,"Hey there! Your profile is amazing. Would you like to chat?",`Hi ${n.name}! I think we could have great conversations together 💭`],g=[n.city,n.state,n.country].filter(Boolean).join(", ");return w.jsxs("div",{className:"connect-profile-page",children:[w.jsx(Qb,{items:[{label:"Home",href:"/"},{label:"Connect",href:"/connect"},{label:n.name||"User Profile",isActive:!0}]}),w.jsxs("div",{className:"profile-main",children:[w.jsx("aside",{className:"profile-sidebar",children:w.jsxs("div",{className:"sidebar-card",children:[w.jsx("div",{className:"profile-avatar-container",children:w.jsx($b,{name:n.name,avatar:n.avatar,size:"xlarge",isOnline:n.isOnline})}),w.jsxs("div",{className:"profile-name-section",children:[w.jsxs("h2",{className:"profile-display-name",children:[n.name,n.isVerified&&w.jsx("span",{className:"verified-icon",title:"Verified",children:w.jsx(cc,{})})]}),w.jsx("p",{className:"profile-age",children:n.age&&n.age>=10?`${n.age} years old`:"Age: N/A"}),n.isOnline&&w.jsxs("div",{className:"online-status-badge",children:[w.jsx("span",{className:"status-dot"}),w.jsx("span",{children:"Online Now"})]})]}),w.jsxs("div",{className:"quick-stats",children:[n.sex&&w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-icon",children:Fb(n.sex)}),w.jsx("span",{className:"stat-label",children:n.sex})]}),g&&w.jsxs("div",{className:"stat-item",children:[w.jsx(Sc,{className:"stat-icon"}),w.jsx("span",{className:"stat-label",children:g})]})]}),w.jsxs("button",{className:"primary-action-btn",onClick:()=>{if(!n)return;const e=localStorage.getItem("ugflix_auth_token"),r=localStorage.getItem("ugflix_user");if(!e||!r)return rs.warning("Please login to start chat"),void t("/auth/login");JSON.parse(r).id!==n.id?o(!0):rs.warning("You can't message yourself")},children:[w.jsx(Tc,{size:20}),w.jsx("span",{children:"Send Message"})]})]})}),w.jsxs("main",{className:"profile-content",children:[w.jsxs("section",{className:"content-card",children:[w.jsxs("div",{className:"card-header",children:[w.jsx(sc,{className:"card-icon"}),w.jsx("h3",{className:"card-title",children:"About Me"})]}),w.jsx("div",{className:"card-body",children:w.jsx("p",{className:"bio-text",children:n.bio||"N/A"})})]}),w.jsxs("section",{className:"content-card",children:[w.jsxs("div",{className:"card-header",children:[w.jsx(Tc,{className:"card-icon"}),w.jsx("h3",{className:"card-title",children:"Tagline"})]}),w.jsx("div",{className:"card-body",children:w.jsx("p",{className:"bio-text",children:n.tagline||"N/A"})})]}),w.jsxs("section",{className:"content-card",children:[w.jsxs("div",{className:"card-header",children:[w.jsx(Bc,{className:"card-icon"}),w.jsx("h3",{className:"card-title",children:"Basic Information"})]}),w.jsx("div",{className:"card-body",children:w.jsxs("div",{className:"info-grid",children:[w.jsxs("div",{className:"info-item",children:[w.jsx(ac,{className:"info-icon"}),w.jsxs("div",{className:"info-content",children:[w.jsx("span",{className:"info-label",children:"Occupation"}),w.jsx("span",{className:"info-value",children:n.occupation||"N/A"})]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx(sc,{className:"info-icon"}),w.jsxs("div",{className:"info-content",children:[w.jsx("span",{className:"info-label",children:"Education"}),w.jsx("span",{className:"info-value",children:n.education_level||"N/A"})]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx(xc,{className:"info-icon"}),w.jsxs("div",{className:"info-content",children:[w.jsx("span",{className:"info-label",children:"Looking For"}),w.jsx("span",{className:"info-value",children:n.looking_for||"N/A"})]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx(bc,{className:"info-icon"}),w.jsxs("div",{className:"info-content",children:[w.jsx("span",{className:"info-label",children:"Location"}),w.jsx("span",{className:"info-value",children:[n.city,n.state,n.country].filter(Boolean).join(", ")||"N/A"})]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx(yc,{className:"info-icon"}),w.jsxs("div",{className:"info-content",children:[w.jsx("span",{className:"info-label",children:"Languages"}),w.jsx("span",{className:"info-value",children:n.languages_spoken||"N/A"})]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx(kc,{className:"info-icon"}),w.jsxs("div",{className:"info-content",children:[w.jsx("span",{className:"info-label",children:"Email"}),w.jsx("span",{className:"info-value",children:n.email||"N/A"})]})]})]})})]}),w.jsxs("section",{className:"content-card",children:[w.jsxs("div",{className:"card-header",children:[w.jsx(xc,{className:"card-icon"}),w.jsx("h3",{className:"card-title",children:"Lifestyle & Preferences"})]}),w.jsx("div",{className:"card-body",children:w.jsxs("div",{className:"preferences-list",children:[w.jsxs("div",{className:"preference-item",children:[w.jsx("span",{className:"pref-emoji",children:"🚭"}),w.jsxs("div",{className:"pref-content",children:[w.jsx("span",{className:"pref-label",children:"Smoking"}),w.jsx("span",{className:"pref-value",children:n.smoking_habit||"N/A"})]})]}),w.jsxs("div",{className:"preference-item",children:[w.jsx("span",{className:"pref-emoji",children:"🍷"}),w.jsxs("div",{className:"pref-content",children:[w.jsx("span",{className:"pref-label",children:"Drinking"}),w.jsx("span",{className:"pref-value",children:n.drinking_habit||"N/A"})]})]}),w.jsxs("div",{className:"preference-item",children:[w.jsx("span",{className:"pref-emoji",children:"🐾"}),w.jsxs("div",{className:"pref-content",children:[w.jsx("span",{className:"pref-label",children:"Pets"}),w.jsx("span",{className:"pref-value",children:n.pet_preference||"N/A"})]})]}),w.jsxs("div",{className:"preference-item",children:[w.jsx("span",{className:"pref-emoji",children:"🙏"}),w.jsxs("div",{className:"pref-content",children:[w.jsx("span",{className:"pref-label",children:"Religion"}),w.jsx("span",{className:"pref-value",children:n.religion||"N/A"})]})]}),w.jsxs("div",{className:"preference-item",children:[w.jsx("span",{className:"pref-emoji",children:"🗳️"}),w.jsxs("div",{className:"pref-content",children:[w.jsx("span",{className:"pref-label",children:"Political Views"}),w.jsx("span",{className:"pref-value",children:n.political_views||"N/A"})]})]})]})})]})]})]}),a&&w.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:w.jsxs("div",{className:"modal-container",onClick:e=>e.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h3",{className:"modal-title",children:"Start a Conversation"}),w.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:w.jsx(Uc,{size:20})})]}),w.jsxs("div",{className:"modal-body",children:[w.jsx("p",{className:"modal-subtitle",children:"Choose a message or write your own:"}),w.jsx("div",{className:"suggestions-list",children:f.map(((e,t)=>w.jsx("button",{className:"suggestion-button",onClick:()=>{return t=e,o(!1),void p(t);var t},disabled:d,children:e},t)))}),w.jsxs("div",{className:"custom-message-section",children:[w.jsx("textarea",{className:"custom-message-textarea",placeholder:"Or write your own message...",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},disabled:d,rows:1}),w.jsx("button",{className:"send-message-btn",onClick:m,disabled:!l.trim()||d,children:d?"Sending...":"Send"})]})]})]})})]})},Jb=L.lazy((()=>qe((()=>import("./HomePage-DvEp68pz.js")),__vite__mapDeps([9,2,3,10,0,1,4,5,6,7,11])))),Xb=L.lazy((()=>qe((()=>import("./ProductDetailPageWrapper-C9Pd6Y0J.js")),__vite__mapDeps([12,2,3,5,4,10,13,6,7])))),Yb=L.lazy((()=>qe((()=>import("./ProductsPage-0vOdRY1t.js")),__vite__mapDeps([14,2,3,5,15,4,10,13,6,7])))),Gb=L.lazy((()=>qe((()=>import("./MoviesPage-BLrDh-gU.js")),__vite__mapDeps([16,2,3,5,10,11,4,6,7,17])))),Zb=L.lazy((()=>qe((()=>import("./WatchPage-DoVv_6m-.js")),__vite__mapDeps([18,2,3,7,5,4,6])))),ej=L.lazy((()=>qe((()=>import("./CategoryPage-Dpz8auPR.js")),__vite__mapDeps([19,2,3,5])))),tj=L.lazy((()=>qe((()=>import("./CartPage-DKeaqZ2t.js")),__vite__mapDeps([20,2,3,5,4,6,7])))),nj=L.lazy((()=>qe((()=>import("./CheckoutPage-LKEChL3s.js")),__vite__mapDeps([21,2,3,22,5,4,6,7])))),rj=L.lazy((()=>qe((()=>import("./DeliveryAddressPage-jO1UxLs-.js")),__vite__mapDeps([23,2,3,22,5,4,6,7])))),ij=L.lazy((()=>qe((()=>import("./OrderSuccessPage-DSWWavry.js")),__vite__mapDeps([24,2,3,5])))),sj=L.lazy((()=>qe((()=>import("./PaymentPage-BmEt0kv1.js")),__vite__mapDeps([25,2,3,26,5,4,6,7,27])))),aj=L.lazy((()=>qe((()=>import("./PaymentCallbackPage-BZ8ee5m_.js")),__vite__mapDeps([28,2,3,5,26,4,6,7])))),oj=L.lazy((()=>qe((()=>import("./SearchResultsPage-CFHPIcqr.js")),__vite__mapDeps([29,2,3,5,15,4,6,7])))),lj=L.lazy((()=>qe((()=>import("./AboutPage-CdOb2LxE.js")),__vite__mapDeps([30,2,3]))));L.lazy((()=>qe((()=>import("./ContactPage-Bvd52hL2.js")),__vite__mapDeps([31,2,3]))));const cj=L.lazy((()=>qe((()=>import("./FAQPage-t55iAV-V.js")),__vite__mapDeps([32,2,3,7]))));L.lazy((()=>qe((()=>import("./TermsPage-BlJC9kX7.js")),__vite__mapDeps([33,2,3,5])))),L.lazy((()=>qe((()=>import("./PrivacyPage-BwNjAw25.js")),__vite__mapDeps([34,2,3,5]))));const dj=L.lazy((()=>qe((()=>import("./SellOnUgFlix-BrWQv3VA.js")),__vite__mapDeps([35,2,3,36,5,4,6,7])))),uj=L.lazy((()=>qe((()=>import("./BuyerProtection-DMA3KLIH.js")),__vite__mapDeps([37,2,3,36,5,4,6,7])))),hj=L.lazy((()=>qe((()=>import("./Help-D0UNLW0Y.js")),__vite__mapDeps([38,2,3,39,4,5,6,7,40])))),pj=L.lazy((()=>qe((()=>import("./MobileApps-CInKgHaL.js")),__vite__mapDeps([41,2,3,39,4,5,6,7,42])))),mj=L.lazy((()=>qe((()=>import("./About-DUH90jr9.js")),__vite__mapDeps([43,2,3,36,5,4,6,7])))),fj=L.lazy((()=>qe((()=>import("./Terms-Ce91Hvwr.js")),__vite__mapDeps([44,2,3,36,5,4,6,7])))),gj=L.lazy((()=>qe((()=>import("./Privacy-CFuARAfO.js")),__vite__mapDeps([45,2,3,36,5,4,6,7])))),yj=L.lazy((()=>qe((()=>import("./Contact-CgyzO-_x.js")),__vite__mapDeps([46,2,3,36,5,4,6,7])))),vj=L.lazy((()=>qe((()=>import("./ToastDemo-B3bGFxx-.js")),__vite__mapDeps([47,2,3,4,5,6,7])))),xj=L.lazy((()=>qe((()=>import("./ApiTestPage-c2c48H14.js")),__vite__mapDeps([48,2,3,5,49,4,6,7])))),bj=L.lazy((()=>qe((()=>import("./ApiIntegrationStatusPage-BcltfP-w.js")),__vite__mapDeps([50,2,3,49,4,5,6,7])))),jj=L.lazy((()=>qe((()=>import("./LoginPage-D6NsXUqS.js")),__vite__mapDeps([51,2,3,5,52,1,4,6,7])))),wj=L.lazy((()=>qe((()=>import("./RegisterPage-_FMjYOkf.js")),__vite__mapDeps([53,2,3,5,52,1,4,6,7]))));L.lazy((()=>qe((()=>import("./MinimalLogin-C2TY5HYY.js")),__vite__mapDeps([54,2,3,5,4,6,7])))),L.lazy((()=>qe((()=>import("./MinimalRegister-C5xd2fF1.js")),__vite__mapDeps([55,2,3,5,4,6,7]))));const _j=L.lazy((()=>qe((()=>import("./ForgotPassword-DHSipVii.js")),__vite__mapDeps([56,2,3,5,4,6,7]))));L.lazy((()=>qe((()=>import("./ForgotPasswordPage-DszSJZix.js")),__vite__mapDeps([57,2,3,5,52,1,4,6,7]))));const kj=L.lazy((()=>qe((()=>import("./LandingPage-DUTAI1Z1.js")),__vite__mapDeps([58,2,3,10,5,4,6,7])))),Sj=L.lazy((()=>qe((()=>import("./SubscriptionPlans-Dmdne4Yx.js")),__vite__mapDeps([59,2,3,5,4,6,7,60])))),Nj=L.lazy((()=>qe((()=>import("./PendingSubscription-CIKfznYv.js")),__vite__mapDeps([61,2,3,5,4,6,7,62])))),Tj=L.lazy((()=>qe((()=>import("./PaymentResult-BJmdqyrk.js")),__vite__mapDeps([63,2,3,5,4,6,7,64])))),Pj=L.lazy((()=>qe((()=>import("./SubscriptionHistory-DXAHiEaT.js")),__vite__mapDeps([65,2,3,5,4,6,7,66])))),Cj=L.lazy((()=>qe((()=>import("./MySubscriptions-DN7RLoud.js")),__vite__mapDeps([67,2,3,5,4,6,7,68])))),Ej=L.lazy((()=>qe((()=>import("./NotFoundPage-knQFYFoU.js")),__vite__mapDeps([69,2,3,5,7])))),Oj=()=>w.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:w.jsx(k,{animation:"border",variant:"primary"})}),Aj=()=>w.jsx(M.Suspense,{fallback:w.jsx(Oj,{}),children:w.jsxs(ke,{children:[w.jsxs(Se,{path:"/",element:w.jsx(Yl,{}),children:[w.jsx(Se,{index:!0,element:w.jsx(Zl,{children:w.jsx(Jb,{})})}),w.jsx(Se,{path:"products",element:w.jsx(Zl,{children:w.jsx(Yb,{})})}),w.jsx(Se,{path:"product/:id",element:w.jsx(Zl,{children:w.jsx(Xb,{})})}),w.jsx(Se,{path:"category/:categoryId",element:w.jsx(Zl,{children:w.jsx(ej,{})})}),w.jsx(Se,{path:"search",element:w.jsx(Zl,{children:w.jsx(oj,{})})}),w.jsx(Se,{path:"movies",element:w.jsx(Zl,{children:w.jsx(tc,{children:w.jsx(Gb,{contentType:"Movie"})})})}),w.jsx(Se,{path:"series",element:w.jsx(Zl,{children:w.jsx(tc,{children:w.jsx(Gb,{contentType:"Series"})})})}),w.jsx(Se,{path:"movies/:id",element:w.jsx(Zl,{children:w.jsx(tc,{children:w.jsx(Zb,{})})})}),w.jsx(Se,{path:"series/:id",element:w.jsx(Zl,{children:w.jsx(tc,{children:w.jsx(Zb,{})})})}),w.jsx(Se,{path:"watch/:id",element:w.jsx(Zl,{children:w.jsx(tc,{children:w.jsx(Zb,{})})})}),w.jsx(Se,{path:"watchlist",element:w.jsx(Zl,{children:w.jsx(je,{to:"/account/watchlist",replace:!0})})}),w.jsx(Se,{path:"downloads",element:w.jsx(Zl,{children:w.jsx(Gb,{})})}),w.jsx(Se,{path:"premium",element:w.jsx(Zl,{children:w.jsx(Gb,{})})}),w.jsx(Se,{path:"cart",element:w.jsx(Zl,{children:w.jsx(tj,{})})}),w.jsx(Se,{path:"delivery-address",element:w.jsx(Zl,{children:w.jsx(rj,{})})}),w.jsx(Se,{path:"checkout",element:w.jsx(Zl,{children:w.jsx(nj,{})})}),w.jsx(Se,{path:"order-success",element:w.jsx(Zl,{children:w.jsx(ij,{})})}),w.jsx(Se,{path:"payment/:orderId",element:w.jsx(Zl,{children:w.jsx(sj,{})})}),w.jsx(Se,{path:"payment/callback/:orderId",element:w.jsx(Zl,{children:w.jsx(aj,{})})}),w.jsx(Se,{path:"chat",element:w.jsx(Zl,{children:w.jsx(je,{to:"/account/chats",replace:!0})})}),w.jsxs(Se,{path:"account",element:w.jsx(Zl,{children:w.jsx(Ab,{})}),children:[w.jsx(Se,{index:!0,element:w.jsx(Gy,{})}),w.jsx(Se,{path:"profile",element:w.jsx(Zy,{})}),w.jsx(Se,{path:"profile/edit",element:w.jsx(lb,{})}),w.jsx(Se,{path:"subscriptions",element:w.jsx(vb,{})}),w.jsx(Se,{path:"watchlist",element:w.jsx(tc,{children:w.jsx(jb,{})})}),w.jsx(Se,{path:"history",element:w.jsx(tc,{children:w.jsx(xb,{})})}),w.jsx(Se,{path:"likes",element:w.jsx(tc,{children:w.jsx(Tb,{})})}),w.jsx(Se,{path:"products",element:w.jsx(Lb,{})}),w.jsx(Se,{path:"products/new",element:w.jsx(zb,{})}),w.jsx(Se,{path:"products/edit/:id",element:w.jsx(zb,{})}),w.jsx(Se,{path:"chats",element:w.jsx(Pb,{})}),w.jsx(Se,{path:"orders",element:w.jsx(gb,{})}),w.jsx(Se,{path:"orders/:orderId",element:w.jsx(Cb,{})}),w.jsx(Se,{path:"settings",element:w.jsx(yb,{})})]}),w.jsx(Se,{path:"connect",element:w.jsx(Zl,{children:w.jsx(Hb,{})})}),w.jsx(Se,{path:"connect/profile/:userId",element:w.jsx(Zl,{children:w.jsx(Kb,{})})}),w.jsx(Se,{path:"about",element:w.jsx(mj,{})}),w.jsx(Se,{path:"contact",element:w.jsx(yj,{})}),w.jsx(Se,{path:"faq",element:w.jsx(cj,{})}),w.jsx(Se,{path:"help",element:w.jsx(hj,{})}),w.jsx(Se,{path:"sell",element:w.jsx(dj,{})}),w.jsx(Se,{path:"buyer-protection",element:w.jsx(uj,{})}),w.jsx(Se,{path:"mobile-apps",element:w.jsx(pj,{})}),w.jsx(Se,{path:"terms",element:w.jsx(fj,{})}),w.jsx(Se,{path:"privacy",element:w.jsx(gj,{})}),w.jsx(Se,{path:"sell",element:w.jsx(dj,{})}),w.jsx(Se,{path:"buyer-protection",element:w.jsx(uj,{})}),w.jsx(Se,{path:"mobile-apps",element:w.jsx(pj,{})}),w.jsx(Se,{path:"about-legacy",element:w.jsx(lj,{})}),w.jsx(Se,{path:"register",element:w.jsx(ec,{children:w.jsx(wj,{})})}),w.jsx(Se,{path:"toast-demo",element:w.jsx(vj,{})}),w.jsx(Se,{path:"api-test",element:w.jsx(xj,{})}),w.jsx(Se,{path:"test",element:w.jsx(xj,{})}),w.jsx(Se,{path:"integration-status",element:w.jsx(bj,{})})]}),w.jsx(Se,{path:"/landing",element:w.jsx(ec,{children:w.jsx(kj,{})})}),w.jsx(Se,{path:"/auth/login",element:w.jsx(ec,{children:w.jsx(jj,{})})}),w.jsx(Se,{path:"/auth/register",element:w.jsx(ec,{children:w.jsx(wj,{})})}),w.jsx(Se,{path:"/auth/forgot-password",element:w.jsx(ec,{children:w.jsx(_j,{})})}),w.jsx(Se,{path:"/login",element:w.jsx(ec,{children:w.jsx(je,{to:"/auth/login",replace:!0})})}),w.jsx(Se,{path:"/register",element:w.jsx(ec,{children:w.jsx(je,{to:"/auth/register",replace:!0})})}),w.jsx(Se,{path:"/forgot-password",element:w.jsx(ec,{children:w.jsx(je,{to:"/auth/forgot-password",replace:!0})})}),w.jsxs(Se,{path:"subscription",element:w.jsx(Gl,{}),children:[w.jsx(Se,{path:"plans",element:w.jsx(Sj,{})}),w.jsx(Se,{path:"pending",element:w.jsx(Zl,{children:w.jsx(Nj,{})})}),w.jsx(Se,{path:"callback",element:w.jsx(Tj,{})}),w.jsx(Se,{path:"my-subscriptions",element:w.jsx(Zl,{children:w.jsx(Cj,{})})}),w.jsx(Se,{path:"history",element:w.jsx(Zl,{children:w.jsx(Pj,{})})})]}),w.jsx(Se,{path:"/404",element:w.jsx(Ej,{})}),w.jsx(Se,{path:"*",element:w.jsx(je,{to:"/404",replace:!0})})]})}),Ij=()=>{const{pathname:e}=xe();return M.useEffect((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[e]),null};class zj extends M.Component{constructor(e){super(e),g(this,"logErrorToService",((e,t)=>{const n={errorId:this.state.errorId,message:e.message,stack:e.stack,componentStack:t.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getUserId()};qe((()=>y(this,null,(function*(){const{http_post:e}=yield Promise.resolve().then((()=>gs));return{http_post:e}}))),void 0).then((({http_post:e})=>{e("errors",n).catch((()=>{}))}))})),g(this,"getUserId",(()=>{var e,t;try{const n=localStorage.getItem("ugflix_user");return n?null==(t=null==(e=JSON.parse(n))?void 0:e.id)?void 0:t.toString():null}catch(Yj){return null}})),g(this,"handleReload",(()=>{window.location.reload()})),g(this,"handleGoHome",(()=>{window.location.href="/"})),g(this,"handleRetry",(()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})})),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(e,t){this.logErrorToService(e,t),this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx(I,{className:"py-5",children:w.jsx(E,{className:"mx-auto",style:{maxWidth:"600px"},children:w.jsxs(E.Body,{className:"text-center p-5",children:[w.jsx("div",{className:"mb-4",children:w.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger",style:{fontSize:"4rem"}})}),w.jsx("h2",{className:"h4 mb-3 text-danger",children:"Oops! Something went wrong"}),w.jsx("p",{className:"text-muted mb-4",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&w.jsx(T,{variant:"light",className:"text-start",children:w.jsxs("small",{children:[w.jsx("strong",{children:"Error ID:"})," ",this.state.errorId,w.jsx("br",{}),w.jsx("strong",{children:"Time:"})," ",(new Date).toLocaleString()]})}),w.jsxs("div",{className:"d-grid gap-2 d-md-flex justify-content-md-center",children:[w.jsxs(N,{variant:"primary",onClick:this.handleRetry,className:"me-md-2",children:[w.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Try Again"]}),w.jsxs(N,{variant:"outline-secondary",onClick:this.handleGoHome,className:"me-md-2",children:[w.jsx("i",{className:"bi bi-house me-2"}),"Go Home"]}),w.jsxs(N,{variant:"outline-secondary",onClick:this.handleReload,children:[w.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Reload Page"]})]}),!1]})})}):this.props.children}}const Rj=["/landing","/auth/login","/auth/register","/auth/forgot-password","/login","/register","/forgot-password","/about","/contact","/faq","/help","/sell","/buyer-protection","/mobile-apps","/terms","/privacy","/404"],Lj=["/landing","/auth/login","/auth/register","/auth/forgot-password","/login","/register","/forgot-password"],Mj=({children:e})=>{const t=ve(),n=xe(),r=B(ks),i=B(Ns);return M.useEffect((()=>{var e,s;if(i)return;const a=n.pathname,o=Rj.some((e=>a===e||a.startsWith(e+"/"))),l=Lj.some((e=>a===e||a.startsWith(e+"/")));if(r){if(l){const r=(null==(s=null==(e=n.state)?void 0:e.from)?void 0:s.pathname)||"/";return void t(r,{replace:!0})}}else if(!o)return void t("/landing",{replace:!0,state:{from:n}})}),[r,i,n,t]),i?w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column",gap:"1rem",backgroundColor:"#f8f9fa"},children:[w.jsx("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),w.jsx("p",{style:{color:"#666",margin:0,fontSize:"16px",fontWeight:"500"},children:"Loading application..."}),w.jsx("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):w.jsx(w.Fragment,{children:e})};class Dj{static initialize(){this.isEnabled&&!this.isInitialized&&(this.initializeGA4(),this.isInitialized=!0)}static initializeGA4(){const e=document.createElement("script");function t(...e){window.dataLayer.push(e)}e.src="https://www.googletagmanager.com/gtag/js?id=G-XJY7DJQJ9E",e.async=!0,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config","G-XJY7DJQJ9E",{page_title:document.title,page_location:window.location.href})}static trackPageView(e,t){if(!this.isEnabled)return;const n=window.gtag;n&&n("config","G-XJY7DJQJ9E",{page_title:e,page_location:t||window.location.href})}static trackEvent({event:e,category:t,action:n,label:r,value:i,custom_parameters:s}){if(!this.isEnabled)return;const a=window.gtag;a&&a("event",n,p({event_category:t,event_label:r,value:i},s))}static trackEcommerce(e){if(!this.isEnabled)return;const t=window.gtag;t&&t("event",e.event,{transaction_id:e.transaction_id,value:e.value,currency:e.currency||"UGX",items:e.items})}static trackUserAction(e,t){this.trackEvent({event:"user_action",category:"User Interaction",action:e,custom_parameters:t})}static trackSearch(e,t){this.trackEvent({event:"search",category:"Search",action:"perform_search",label:e,value:t,custom_parameters:{search_term:e,results_count:t}})}static trackProductView(e,t,n,r){this.trackEcommerce({event:"view_item",currency:"UGX",value:r,items:[{item_id:e,item_name:t,category:n,price:r,quantity:1}]})}static trackAddToCart(e,t,n,r=1){this.trackEcommerce({event:"add_to_cart",currency:"UGX",value:n*r,items:[{item_id:e,item_name:t,category:"Product",price:n,quantity:r}]})}static trackPurchase(e,t,n){this.trackEcommerce({event:"purchase",transaction_id:e,value:t,currency:"UGX",items:n.map((e=>({item_id:e.id.toString(),item_name:e.name,category:e.category||"Product",price:e.price,quantity:e.quantity})))})}static trackPerformance(e,t,n="ms"){this.trackEvent({event:"performance_metric",category:"Performance",action:e,value:t,custom_parameters:{metric_unit:n}})}static trackError(e,t="javascript",n=!1){this.trackEvent({event:"exception",category:"Error",action:t,label:e,custom_parameters:{fatal:n,error_description:e}})}static setUserProperties(e){if(!this.isEnabled)return;const t=window.gtag;t&&t("config","G-XJY7DJQJ9E",{custom_map:e})}static trackTiming(e,t,n){this.trackEvent({event:"timing_complete",category:e,action:t,value:n,custom_parameters:{timing_category:e,timing_variable:t,timing_value:n}})}}g(Dj,"isInitialized",!1),g(Dj,"isEnabled",Ui);class Fj{static initialize(){this.isEnabled&&"undefined"!=typeof window&&!this.isInitialized&&(this.trackNavigationTiming(),this.trackCoreWebVitals(),this.trackResourceTiming(),this.trackUserInteractions(),this.isInitialized=!0)}static trackNavigationTiming(){window.addEventListener("load",(()=>{setTimeout((()=>{const e=performance.getEntriesByType("navigation")[0];if(e){const t={dns_lookup:e.domainLookupEnd-e.domainLookupStart,tcp_connect:e.connectEnd-e.connectStart,server_response:e.responseStart-e.requestStart,dom_loading:e.domContentLoadedEventStart-e.fetchStart,page_load:e.loadEventStart-e.fetchStart};Object.entries(t).forEach((([e,t])=>{this.recordMetric(e,t),Dj.trackPerformance(e,t)}))}}),0)}))}static trackCoreWebVitals(){this.observePerformance("largest-contentful-paint",(e=>{const t=e[e.length-1];this.trackVital("LCP",t.startTime)})),this.observePerformance("first-input",(e=>{const t=e[0];t&&t.processingStart&&this.trackVital("FID",t.processingStart-t.startTime)})),this.observePerformance("layout-shift",(e=>{let t=0;e.forEach((e=>{e.hadRecentInput||(t+=e.value)})),this.trackVital("CLS",t)})),this.observePerformance("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&this.trackVital("FCP",e.startTime)}))}));const e=performance.getEntriesByType("navigation")[0];if(e){const t=e.responseStart-e.requestStart;this.trackVital("TTFB",t)}}static trackResourceTiming(){this.observePerformance("resource",(e=>{e.forEach((e=>{const t=e,n=t.responseEnd-t.startTime;n>500&&(this.recordMetric(`slow_resource_${t.initiatorType}`,n),Dj.trackPerformance(`slow_resource_${t.initiatorType}`,n)),t.transferSize&&t.transferSize>102400&&Dj.trackEvent({event:"large_resource",category:"Performance",action:"large_resource_loaded",label:t.name,value:Math.round(t.transferSize/1024)})}))}))}static trackUserInteractions(){let e,t;document.addEventListener("mousedown",(()=>{e=performance.now()})),document.addEventListener("click",(()=>{if(e){const t=performance.now()-e;this.recordMetric("click_response_time",t),t>100&&Dj.trackPerformance("slow_click_response",t)}}));let n=!1;window.addEventListener("scroll",(()=>{n||(t=performance.now(),n=!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout((()=>{const e=performance.now()-t;this.recordMetric("scroll_duration",e),n=!1}),150)}))}static trackVital(e,t){const n=this.getRating(e,t);this.recordMetric(e.toLowerCase(),t),Dj.trackEvent({event:"web_vital",category:"Performance",action:e,label:n,value:Math.round(t),custom_parameters:{metric_name:e,metric_value:t,metric_rating:n}})}static getRating(e,t){const n={CLS:{good:.1,poor:.25},FID:{good:100,poor:300},FCP:{good:1800,poor:3e3},LCP:{good:2500,poor:4e3},TTFB:{good:800,poor:1800}}[e];return t<=n.good?"good":t<=n.poor?"needs-improvement":"poor"}static observePerformance(e,t){if(!this.observers.has(e))try{const n=new PerformanceObserver((e=>{t(e.getEntries())}));n.observe({type:e,buffered:!0}),this.observers.set(e,n)}catch(n){}}static recordMetric(e,t){const n={name:e,value:t,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent};this.metrics.push(n),this.metrics.length>100&&(this.metrics=this.metrics.slice(-100))}static trackPageLoad(e){const t=performance.now();return{complete:()=>{const n=performance.now()-t;this.recordMetric(`page_load_${e}`,n),Dj.trackPerformance(`page_load_${e}`,n),n>3e3&&Dj.trackEvent({event:"slow_page_load",category:"Performance",action:"slow_page",label:e,value:Math.round(n)})}}}static trackApiCall(e,t,n){const r=performance.now()-t;this.recordMetric(`api_call_${e}`,r),Dj.trackPerformance(`api_call_${e}`,r),Dj.trackEvent({event:"api_call",category:"Performance",action:n?"api_success":"api_error",label:e,value:Math.round(r),custom_parameters:{endpoint:e,duration:r,success:n}}),r>2e3&&Dj.trackEvent({event:"slow_api_call",category:"Performance",action:"slow_api",label:e,value:Math.round(r)})}static trackBundlePerformance(){window.addEventListener("load",(()=>{const e=performance.getEntriesByType("resource");let t=0,n=0;e.forEach((e=>{e.name.includes(".js")?t+=e.transferSize||0:e.name.includes(".css")&&(n+=e.transferSize||0)})),Dj.trackEvent({event:"bundle_performance",category:"Performance",action:"bundle_loaded",custom_parameters:{js_size_kb:Math.round(t/1024),css_size_kb:Math.round(n/1024),total_size_kb:Math.round((t+n)/1024)}})}))}static getMetrics(){return[...this.metrics]}static getPerformanceSummary(){const e=this.getMetrics(),t={};return e.forEach((e=>{t[e.name]||(t[e.name]={avg:0,min:1/0,max:0,count:0});const n=t[e.name];n.count++,n.min=Math.min(n.min,e.value),n.max=Math.max(n.max,e.value),n.avg=(n.avg*(n.count-1)+e.value)/n.count})),t}}g(Fj,"metrics",[]),g(Fj,"observers",new Map),g(Fj,"isEnabled",Ui),g(Fj,"isInitialized",!1);const Bj=()=>{const[e,t]=M.useState(null),[n,r]=M.useState(!1),[i,s]=M.useState(!1);M.useEffect((()=>{if(window.matchMedia("(display-mode: standalone)").matches)return void s(!0);const e=localStorage.getItem("pwa-install-dismissed"),n=e?parseInt(e,10):0;if((Date.now()-n)/864e5<7)return;const i=e=>{e.preventDefault();t(e),setTimeout((()=>{r(!0)}),5e3)};return window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",(()=>{s(!0),r(!1),t(null)})),()=>{window.removeEventListener("beforeinstallprompt",i)}}),[]);const a=()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return i||!n?null:w.jsx("div",{className:"pwa-install-overlay",children:w.jsxs("div",{className:"pwa-install-prompt",children:[w.jsx("button",{className:"pwa-close-btn",onClick:a,"aria-label":"Close",children:w.jsx(De,{size:20})}),w.jsx("div",{className:"pwa-icon",children:w.jsx(Fe,{size:48})}),w.jsx("h3",{className:"pwa-title",children:"Install UgFlix App"}),w.jsx("p",{className:"pwa-description",children:"Install UgFlix on your device for a faster, app-like experience with offline access and instant updates."}),w.jsxs("div",{className:"pwa-features",children:[w.jsxs("div",{className:"pwa-feature",children:[w.jsx("span",{className:"pwa-feature-icon",children:"⚡"}),w.jsx("span",{children:"Lightning fast"})]}),w.jsxs("div",{className:"pwa-feature",children:[w.jsx("span",{className:"pwa-feature-icon",children:"📱"}),w.jsx("span",{children:"Works offline"})]}),w.jsxs("div",{className:"pwa-feature",children:[w.jsx("span",{className:"pwa-feature-icon",children:"🔔"}),w.jsx("span",{children:"Push notifications"})]})]}),w.jsxs("div",{className:"pwa-actions",children:[w.jsxs("button",{className:"pwa-install-btn",onClick:()=>y(void 0,null,(function*(){if(e)try{yield e.prompt();"accepted"===(yield e.userChoice).outcome?(r(!1),t(null)):a()}catch(n){}})),children:[w.jsx(Be,{size:20}),w.jsx("span",{children:"Install App"})]}),w.jsx("button",{className:"pwa-dismiss-btn",onClick:a,children:"Not now"})]}),w.jsx("p",{className:"pwa-info",children:"Free to install • No extra storage needed • Works like native app"})]})})};const Vj=()=>{const e=localStorage.getItem("ugflix_auth_token"),t=localStorage.getItem("ugflix_user");return"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,{token:e,userProfile:t?JSON.parse(t):null,isAuthenticated:!(!e||!t)}},Uj=()=>{localStorage.removeItem("ugflix_auth_token"),localStorage.removeItem("ugflix_user")},qj=()=>{const e="mock_token_"+Date.now(),t={id:1,email:"test@example.com",first_name:"Test",last_name:"User",name:"Test User",avatar:null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return localStorage.setItem("ugflix_auth_token",e),localStorage.setItem("ugflix_user",JSON.stringify(t)),{token:e,user:t}},$j=()=>{if("undefined"!=typeof window&&window.store){window.store.dispatch({type:"auth/restoreAuthState"})}};"undefined"!=typeof window&&(window.debugAuth=Vj,window.clearAuth=Uj,window.setMockAuth=qj,window.forceAuthRestore=$j);const Wj=()=>{const e=localStorage.getItem("ugflix_auth_token"),t=localStorage.getItem("ugflix_user"),n=!(!e||!t);return{isAuthenticated:n,currentPath:window.location.pathname,protectedRoutes:["/","/products","/movies","/cart","/account","/chat"],publicRoutes:["/landing","/auth/login","/auth/register","/about","/contact","/terms","/privacy"]}};"undefined"!=typeof window&&(window.testAuthFlow=Wj);const Hj=()=>{const e=F();return B(ks),B(Ss),M.useEffect((()=>{"undefined"!=typeof window&&e(_s())}),[e]),M.useEffect((()=>{Dj.initialize(),Fj.initialize(),Fj.trackBundlePerformance()}),[]),M.useEffect((()=>{Ea.preloadEssentialData().catch((e=>{}))}),[]),M.useEffect((()=>{"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{setInterval((()=>{e.update()}),36e5),e.addEventListener("updatefound",(()=>{const t=e.installing;t&&t.addEventListener("statechange",(()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()}))}))})).catch((e=>{})),navigator.serviceWorker.addEventListener("controllerchange",(()=>{}))}))}),[]),w.jsxs(zj,{children:[w.jsx(Ij,{}),w.jsx(Mj,{children:w.jsx(Aj,{})}),w.jsx(Bj,{}),w.jsx(_n,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",className:"custom-toast-container"})]})};document.documentElement.setAttribute("data-bs-theme","light"),document.documentElement.style.colorScheme="light";new MutationObserver((()=>{document.documentElement.setAttribute("data-bs-theme","light"),document.documentElement.style.colorScheme="light"})).observe(document.documentElement,{attributes:!0,attributeFilter:["data-bs-theme","data-theme","class"]});const Qj=new Te({defaultOptions:{queries:{staleTime:3e5,retry:1}}}),Kj=document.getElementById("root");if(!Kj)throw new Error("Failed to find the root element");const Jj=r(Kj),Xj=w.jsx(At,{children:w.jsx(ge,{store:rb,children:w.jsx(Pe,{client:Qj,children:w.jsx(Ne,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:w.jsx(Hj,{})})})})});Jj.render(Xj);export{Ps as $,bb as A,Rl as B,No as C,Qb as D,Zi as E,Vo as F,Ao as G,Ft as H,Gi as I,Ta as J,Ea as K,Ex as L,Nb as M,Ox as N,db as O,ml as P,zi as Q,na as R,es as S,rs as T,ts as U,Vl as V,Qi as W,$i as X,qi as Y,Ts as Z,qe as _,Dl as a,Cs as a0,Es as a1,Xa as a2,Da as a3,eo as a4,no as a5,io as a6,mo as a7,Kl as a8,ro as a9,to as aa,go as ab,po as ac,Za as ad,oo as ae,ao as af,uo as ag,Ya as ah,fo as ai,Ga as aj,Ra as ak,aa as al,Nx as b,_a as c,sa as d,ta as e,ub as f,mb as g,ms as h,ps as i,ka as j,ga as k,xa as l,tb as m,Wx as n,pb as o,fb as p,Hx as q,Qx as r,nb as s,hb as t,Tx as u,Yi as v,_o as w,nl as x,Nl as y,yl as z};
