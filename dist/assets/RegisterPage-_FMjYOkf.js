var n=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(e,a,r)=>a in e?n(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,i=(n,e)=>{for(var a in e||(e={}))t.call(e,a)&&s(n,a,e[a]);if(r)for(var a of r(e))o.call(e,a)&&s(n,a,e[a]);return n},l=(n,r)=>e(n,a(r));import{j as m,A as c,F as d,B as h,S as p}from"./vendor-bootstrap-CDKGkX3Y.js";import{r as u}from"./vendor-react-CSr-5IoM.js";import{u as b,L as g}from"./vendor-router-D9z9DFGH.js";import{A as x,M as f,a as w}from"./MovieBackground-nKDK0AUZ.js";import{W as j,v as N}from"./index-C_CdsbTE.js";import"./api.config-D25WIGfW.js";import"./vendor-redux-DhM9Zidd.js";import"./vendor-query-BOtKDBw2.js";import"./vendor-ui-rAPUFMbG.js";const y=()=>{b();const[n,e]=u.useState({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",agreeToTerms:!1,marketingConsent:!0}),[a,r]=u.useState({}),[t,o]=u.useState(!1),[s,y]=u.useState(""),[v,k]=u.useState(!1),[C,P]=u.useState(!1),T=n=>{const{name:t,value:o,type:s,checked:m}=n.target;e((n=>l(i({},n),{[t]:"checkbox"===s?m:o}))),a[t]&&r((n=>l(i({},n),{[t]:void 0})))};return u.useEffect((()=>(document.body.style.paddingTop="0",()=>{document.body.style.paddingTop="calc(56px + 35px + 0px)"})),[]),m.jsx(x,{requireAuth:!1,children:m.jsxs("div",{className:"fullscreen-auth-layout",children:[m.jsx("div",{className:"auth-background-video",children:m.jsx(f,{showOverlay:!0,overlayOpacity:.75,showMovieInfo:!1,muted:!1,showControls:!1})}),m.jsx("div",{className:"auth-form-overlay",children:m.jsx("div",{className:"auth-form-container register-container",children:m.jsxs("div",{className:"auth-form-content register-content",children:[m.jsxs("div",{className:"auth-form-header",children:[m.jsx("div",{className:"auth-logo-container",children:m.jsxs(g,{to:"/",className:"auth-logo-link",children:[m.jsx("img",{src:j.LOGO,alt:j.NAME,className:"auth-logo",onError:n=>{n.currentTarget.style.display="none";const e=n.currentTarget.nextElementSibling;e&&(e.style.display="block")}}),m.jsx("h2",{className:"auth-logo-text",style:{display:"none"},children:j.NAME})]})}),m.jsx("h1",{className:"auth-form-title",children:"Create Account"}),m.jsx("p",{className:"auth-form-subtitle",children:"Join us today"})]}),s&&m.jsxs(c,{variant:"danger",className:"auth-alert",children:[m.jsx("i",{className:"bi bi-exclamation-triangle-fill"}),s]}),m.jsxs(d,{onSubmit:e=>{return a=void 0,t=null,s=function*(){if(e.preventDefault(),(()=>{const e={};return n.firstName.trim()||(e.firstName="First name is required"),n.lastName.trim()||(e.lastName="Last name is required"),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(e.email="Please enter a valid email address"):e.email="Email is required",n.password?n.password.length<8&&(e.password="Password must be at least 8 characters long"):e.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",n.agreeToTerms||(e.agreeToTerms="You must agree to the terms and conditions"),r(e),0===Object.keys(e).length})()){o(!0),r({}),y("");try{const e=yield w.register({name:`${n.firstName} ${n.lastName}`.trim(),email:n.email,password:n.password});if(e.success&&1===e.code)try{const e=yield w.login({email:n.email,password:n.password,remember:!1});if(e.success&&1===e.code)return y(""),yield new Promise((n=>setTimeout(n,150))),void(window.location.href="/");y("Registration completed but login failed. Please try logging in manually."),o(!1)}catch(a){if(yield new Promise((n=>setTimeout(n,150))),w.isAuthenticated())return y(""),void(window.location.href="/");y("Registration completed but login failed. Please try logging in manually."),o(!1)}else y(e.message||"Registration failed. Please try again."),o(!1)}catch(t){y(t.message||"Registration failed. Please try again."),o(!1)}}},new Promise(((n,r)=>{var o=n=>{try{l(s.next(n))}catch(e){r(e)}},i=n=>{try{l(s.throw(n))}catch(e){r(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,i);l((s=s.apply(a,t)).next())}));var a,t,s},className:"auth-form register-form",children:[m.jsxs("div",{className:"form-row",children:[m.jsxs(d.Group,{className:"auth-form-group half-width",children:[m.jsxs(d.Label,{className:"auth-form-label",children:[m.jsx("i",{className:"bi bi-person-fill"}),"First Name"]}),m.jsx(d.Control,{type:"text",name:"firstName",value:n.firstName,onChange:T,isInvalid:!!a.firstName,className:"auth-form-input",placeholder:"First name",required:!0}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.firstName})]}),m.jsxs(d.Group,{className:"auth-form-group half-width",children:[m.jsxs(d.Label,{className:"auth-form-label",children:[m.jsx("i",{className:"bi bi-person-fill"}),"Last Name"]}),m.jsx(d.Control,{type:"text",name:"lastName",value:n.lastName,onChange:T,isInvalid:!!a.lastName,className:"auth-form-input",placeholder:"Last name",required:!0}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.lastName})]})]}),m.jsxs(d.Group,{className:"auth-form-group",children:[m.jsxs(d.Label,{className:"auth-form-label",children:[m.jsx("i",{className:"bi bi-envelope-fill"}),"Email Address"]}),m.jsx(d.Control,{type:"email",name:"email",value:n.email,onChange:T,isInvalid:!!a.email,className:"auth-form-input",placeholder:"Enter your email address",required:!0,autoComplete:"email"}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.email})]}),m.jsxs(d.Group,{className:"auth-form-group",children:[m.jsxs(d.Label,{className:"auth-form-label",children:[m.jsx("i",{className:"bi bi-phone-fill"}),"Phone Number (Optional)"]}),m.jsx(d.Control,{type:"tel",name:"phoneNumber",value:n.phoneNumber,onChange:T,isInvalid:!!a.phoneNumber,className:"auth-form-input",placeholder:"Enter phone number"}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.phoneNumber})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs(d.Group,{className:"auth-form-group half-width",children:[m.jsxs(d.Label,{className:"auth-form-label",children:[m.jsx("i",{className:"bi bi-lock-fill"}),"Password"]}),m.jsxs("div",{className:"auth-password-input",children:[m.jsx(d.Control,{type:v?"text":"password",name:"password",value:n.password,onChange:T,isInvalid:!!a.password,className:"auth-form-input",placeholder:"Create password",required:!0,autoComplete:"new-password"}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>k(!v),tabIndex:-1,children:m.jsx("i",{className:"bi "+(v?"bi-eye-slash":"bi-eye")})})]}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.password})]}),m.jsxs(d.Group,{className:"auth-form-group half-width",children:[m.jsxs(d.Label,{className:"auth-form-label",children:[m.jsx("i",{className:"bi bi-lock-fill"}),"Confirm Password"]}),m.jsxs("div",{className:"auth-password-input",children:[m.jsx(d.Control,{type:C?"text":"password",name:"confirmPassword",value:n.confirmPassword,onChange:T,isInvalid:!!a.confirmPassword,className:"auth-form-input",placeholder:"Confirm password",required:!0,autoComplete:"new-password"}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>P(!C),tabIndex:-1,children:m.jsx("i",{className:"bi "+(C?"bi-eye-slash":"bi-eye")})})]}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.confirmPassword})]})]}),m.jsxs("div",{className:"auth-form-checkboxes",children:[m.jsxs(d.Group,{className:"auth-checkbox-group",children:[m.jsx(d.Check,{type:"checkbox",id:"agreeToTerms",name:"agreeToTerms",checked:n.agreeToTerms,onChange:T,isInvalid:!!a.agreeToTerms,className:"auth-checkbox",required:!0,label:m.jsxs("span",{className:"checkbox-label",children:["I agree to the"," ",m.jsx(g,{to:"/terms",className:"auth-link",children:"Terms of Service"})," ","and"," ",m.jsx(g,{to:"/privacy",className:"auth-link",children:"Privacy Policy"})]})}),m.jsx(d.Control.Feedback,{type:"invalid",className:"auth-form-error",children:a.agreeToTerms})]}),m.jsx(d.Group,{className:"auth-checkbox-group",children:m.jsx(d.Check,{type:"checkbox",id:"marketingConsent",name:"marketingConsent",checked:n.marketingConsent,onChange:T,className:"auth-checkbox",label:m.jsxs("span",{className:"checkbox-label",children:[m.jsx("i",{className:"bi bi-bell-fill"}),"Get updates about new movies and exclusive content"]})})})]}),m.jsx(h,{type:"submit",className:"auth-submit-button",disabled:t,children:t?m.jsxs(m.Fragment,{children:[m.jsx(p,{animation:"border",size:"sm"}),"Creating Account & Signing In..."]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"bi bi-person-plus-fill"}),"Create My Account"]})}),m.jsx("div",{className:"auth-form-footer",children:m.jsxs("p",{children:["Already have an account?"," ",m.jsxs(g,{to:"/auth/login",className:"auth-signup-link",children:[m.jsx("i",{className:"bi bi-box-arrow-in-right"}),"Sign In"]})]})})]})]})})}),m.jsxs("a",{href:`https://wa.me/${N.WHATSAPP.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-help-button",title:"Need help? Chat with us on WhatsApp",children:[m.jsx("i",{className:"bi bi-whatsapp"}),m.jsx("span",{className:"help-text",children:"Help"})]}),m.jsx("style",{children:'\n          /* Full Screen Background Video Layout */\n          .fullscreen-auth-layout {\n            position: relative;\n            min-height: 100vh;\n            width: 100%;\n            overflow: hidden;\n            background: #000;\n          }\n          \n          .auth-background-video {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n          }\n          \n          .auth-form-overlay {\n            position: relative;\n            z-index: 10;\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 2rem 1rem;\n            overflow-y: auto;\n          }\n          \n          .auth-form-container {\n            width: 100%;\n            max-width: 520px;\n            position: relative;\n          }\n          \n          .auth-form-content {\n            background: rgba(0, 0, 0, 0.85);\n            backdrop-filter: blur(10px);\n            border: 2px solid rgba(183, 28, 28, 0.3);\n            border-radius: 8px;\n            padding: 2.5rem 2rem;\n            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);\n          }\n          \n          .auth-form-header {\n            text-align: center;\n            margin-bottom: 1.75rem;\n          }\n          \n          .auth-logo-container {\n            margin-bottom: 1.25rem;\n          }\n          \n          .auth-logo-link {\n            display: block;\n            text-decoration: none;\n            transition: all 0.3s ease;\n          }\n          \n          .auth-logo-link:hover {\n            transform: scale(1.05);\n          }\n          \n          .auth-logo {\n            height: 55px;\n            width: auto;\n            margin-bottom: 0.5rem;\n            transition: all 0.3s ease;\n            filter: drop-shadow(0 2px 8px rgba(183, 28, 28, 0.5));\n          }\n          \n          .auth-logo-text {\n            font-size: 1.8rem;\n            font-weight: 700;\n            color: #B71C1C;\n            margin: 0;\n          }\n          \n          .auth-form-title {\n            font-size: 2rem;\n            font-weight: 700;\n            color: #B71C1C;\n            margin-bottom: 0.5rem;\n          }\n          \n          .auth-form-subtitle {\n            color: rgba(255, 255, 255, 0.7);\n            font-size: 1rem;\n            margin: 0;\n          }\n          \n          .auth-alert {\n            background: rgba(220, 53, 69, 0.15);\n            border: 2px solid #B71C1C;\n            border-radius: 0;\n            padding: 1rem;\n            margin-bottom: 1.5rem;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          \n          .auth-form {\n            width: 100%;\n          }\n          \n          .auth-form-group {\n            margin-bottom: 1.5rem;\n          }\n          \n          .auth-form-label {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            color: rgba(255, 255, 255, 0.9);\n            font-weight: 600;\n            margin-bottom: 0.5rem;\n            font-size: 0.875rem;\n          }\n          \n          .auth-form-input {\n            background: rgba(255, 255, 255, 0.05);\n            border: 2px solid rgba(255, 255, 255, 0.2);\n            border-radius: 0;\n            padding: 1rem;\n            color: white;\n            font-size: 1rem;\n            transition: all 0.3s ease;\n          }\n          \n          .auth-form-input:focus {\n            background: rgba(255, 255, 255, 0.08);\n            border-color: #B71C1C;\n            box-shadow: 0 0 0 2px rgba(183, 28, 28, 0.2);\n            color: white;\n            outline: none;\n          }\n          \n          .auth-form-input::placeholder {\n            color: rgba(255, 255, 255, 0.5);\n          }\n          \n          .auth-password-input {\n            position: relative;\n          }\n          \n          .password-toggle {\n            position: absolute;\n            right: 1rem;\n            top: 50%;\n            transform: translateY(-50%);\n            background: transparent;\n            border: none;\n            color: rgba(255, 255, 255, 0.6);\n            cursor: pointer;\n            padding: 0.25rem;\n            border-radius: 0;\n            transition: color 0.3s ease;\n          }\n          \n          .password-toggle:hover {\n            color: #B71C1C;\n          }\n          \n          .auth-submit-button {\n            background: #B71C1C;\n            border: 2px solid rgba(255, 255, 255, 0.2);\n            border-radius: 0;\n            padding: 1.2rem;\n            width: 100%;\n            font-weight: 600;\n            font-size: 1rem;\n            color: white;\n            transition: all 0.3s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.5rem;\n            margin-bottom: 1.5rem;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          \n          .auth-submit-button:hover:not(:disabled) {\n            background: #8B0000;\n            transform: translateY(-2px);\n            box-shadow: 0 4px 12px rgba(183, 28, 28, 0.4);\n          }\n          \n          .auth-submit-button:disabled {\n            opacity: 0.7;\n          }\n          \n          .auth-form-footer {\n            text-align: center;\n          }\n          \n          .auth-form-footer p {\n            color: rgba(255, 255, 255, 0.7);\n            margin: 0;\n          }\n          \n          .auth-signup-link {\n            color: #B71C1C;\n            text-decoration: none;\n            font-weight: 600;\n            display: inline-flex;\n            align-items: center;\n            gap: 0.25rem;\n            transition: color 0.3s ease;\n          }\n          \n          .auth-signup-link:hover {\n            color: #8B0000;\n          }\n          \n          .auth-form-error {\n            color: #B71C1C;\n            font-size: 0.875rem;\n            margin-top: 0.25rem;\n          }\n          \n          .auth-checkbox {\n            color: rgba(255, 255, 255, 0.8);\n          }\n          \n          .auth-checkbox input[type="checkbox"] {\n            background: rgba(255, 255, 255, 0.1);\n            border: 1px solid rgba(255, 255, 255, 0.3);\n          }\n          \n          .auth-checkbox input[type="checkbox"]:checked {\n            background: #B71C1C;\n            border-color: #B71C1C;\n          }\n          \n          .auth-link {\n            color: #B71C1C;\n            text-decoration: none;\n          }\n          \n          .auth-link:hover {\n            color: #8B0000;\n          }\n          \n          /* Register-specific Styles */\n          .register-form-side {\n            overflow-y: auto;\n            max-height: 100vh;\n          }\n          \n          .register-container {\n            max-width: 500px;\n            padding: 1rem 0;\n          }\n          \n          .register-content {\n            max-height: none;\n            overflow: visible;\n          }\n          \n          .register-form {\n            max-width: none;\n          }\n          \n          .form-row {\n            display: flex;\n            gap: 1rem;\n            margin-bottom: 0;\n          }\n          \n          .half-width {\n            flex: 1;\n          }\n          \n          .auth-form-checkboxes {\n            margin-bottom: 1.5rem;\n          }\n          \n          .auth-checkbox-group {\n            margin: 0 0 1rem 0;\n            display: flex;\n            align-items: center;\n          }\n          \n          .checkbox-label {\n            font-size: 0.875rem;\n            line-height: 1.4;\n          }\n          \n          .checkbox-label i {\n            margin-right: 0.5rem;\n            color: #B71C1C;\n          }\n          \n          /* WhatsApp Help Button */\n          .whatsapp-help-button {\n            position: fixed;\n            bottom: 24px;\n            right: 24px;\n            z-index: 1000;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            background: #25D366;\n            color: white;\n            padding: 14px 20px;\n            border-radius: 50px;\n            text-decoration: none;\n            font-weight: 600;\n            font-size: 1rem;\n            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);\n            transition: all 0.3s ease;\n            border: none;\n          }\n          \n          .whatsapp-help-button:hover {\n            background: #20BA5A;\n            color: white;\n            transform: translateY(-2px);\n            box-shadow: 0 6px 30px rgba(37, 211, 102, 0.6);\n          }\n          \n          .whatsapp-help-button i {\n            font-size: 1.5rem;\n          }\n          \n          .whatsapp-help-button .help-text {\n            display: inline-block;\n          }\n          \n          /* Tablet adjustments */\n          @media (max-width: 1023px) {\n            .auth-form-overlay {\n              padding: 1.5rem;\n            }\n            \n            .auth-form-content {\n              padding: 2rem 1.5rem;\n            }\n          }\n          \n          /* Mobile adjustments */\n          @media (max-width: 768px) {\n            .auth-form-overlay {\n              padding: 1rem;\n            }\n            \n            .auth-form-content {\n              padding: 2rem 1.25rem;\n            }\n            \n            .auth-form-title {\n              font-size: 1.75rem;\n            }\n            \n            .form-row {\n              flex-direction: column;\n              gap: 0;\n            }\n            \n            .whatsapp-help-button {\n              bottom: 20px;\n              right: 20px;\n              padding: 12px 16px;\n            }\n            \n            .whatsapp-help-button .help-text {\n              display: none;\n            }\n            \n            .whatsapp-help-button i {\n              font-size: 1.75rem;\n            }\n          }\n          \n          /* Small mobile */\n          @media (max-width: 480px) {\n            .auth-form-content {\n              padding: 1.75rem 1rem;\n            }\n            \n            .auth-form-title {\n              font-size: 1.5rem;\n            }\n            \n            .checkbox-label {\n              font-size: 0.8rem;\n            }\n            \n            .whatsapp-help-button {\n              bottom: 16px;\n              right: 16px;\n              padding: 12px;\n            }\n          }\n          \n          /* Height adjustments for register form */\n          @media (max-height: 800px) {\n            .auth-form-overlay {\n              padding: 1rem;\n            }\n            \n            .auth-form-content {\n              padding: 1.5rem 1.25rem;\n            }\n            \n            .auth-form-group {\n              margin-bottom: 1rem;\n            }\n            \n            .auth-logo {\n              height: 45px;\n            }\n            \n            .auth-form-header {\n              margin-bottom: 1.25rem;\n            }\n          }\n        '})]})})};export{y as default};
